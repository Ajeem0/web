/*! For license information please see main.974059d0.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var a=n(853),s=n(43),l=n(950);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(r(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var m=Object.assign,f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var z=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===z?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case y:return"Profiler";case g:return"StrictMode";case w:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case j:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var R=Array.isArray,O=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},M=[],q=-1;function D(e){return{current:e}}function I(e){0>q||(e.current=M[q],M[q]=null,q--)}function U(e,t){q++,M[q]=e.current,e.current=t}var H=D(null),B=D(null),V=D(null),W=D(null);function $(e,t){switch(U(V,t),U(B,e),U(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ld(t=sd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(H),U(H,e)}function Q(){I(H),I(B),I(V)}function G(e){null!==e.memoizedState&&U(W,e);var t=H.current,n=ld(t,e.type);t!==n&&(U(B,e),U(H,n))}function J(e){B.current===e&&(I(H),I(B)),W.current===e&&(I(W),Gd._currentValue=F)}var Y=Object.prototype.hasOwnProperty,K=a.unstable_scheduleCallback,X=a.unstable_cancelCallback,Z=a.unstable_shouldYield,ee=a.unstable_requestPaint,te=a.unstable_now,ne=a.unstable_getCurrentPriorityLevel,ae=a.unstable_ImmediatePriority,se=a.unstable_UserBlockingPriority,le=a.unstable_NormalPriority,re=a.unstable_LowPriority,ie=a.unstable_IdlePriority,oe=a.log,ce=a.unstable_setDisableYieldValue,ue=null,de=null;function me(e){if("function"===typeof oe&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(he(e)/pe|0)|0},he=Math.log,pe=Math.LN2;var xe=256,ge=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var s=0,l=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var i=134217727&a;return 0!==i?0!==(a=i&~l)?s=ye(a):0!==(r&=i)?s=ye(r):n||0!==(n=i&~e)&&(s=ye(n)):0!==(i=a&~l)?s=ye(i):0!==r?s=ye(r):n||0!==(n=a&~e)&&(s=ye(n)),0===s?0:0!==t&&t!==s&&0===(t&l)&&((l=s&-s)>=(n=t&-t)||32===l&&0!==(4194048&n))?t:s}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=xe;return 0===(4194048&(xe<<=1))&&(xe=256),e}function we(){var e=ge;return 0===(62914560&(ge<<=1))&&(ge=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-fe(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-fe(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=A.p;return 0!==e?e:void 0===(e=window.event)?32:cm(e.type)}var ze=Math.random().toString(36).slice(2),Le="__reactFiber$"+ze,Re="__reactProps$"+ze,Oe="__reactContainer$"+ze,Ae="__reactEvents$"+ze,Fe="__reactListeners$"+ze,Me="__reactHandles$"+ze,qe="__reactResources$"+ze,De="__reactMarker$"+ze;function Ie(e){delete e[Le],delete e[Re],delete e[Ae],delete e[Fe],delete e[Me]}function Ue(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Le]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Le])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Le]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Be(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Ve(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[De]=!0}var $e=new Set,Qe={};function Ge(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Qe[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var Ye,Ke,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(s=t,Y.call(et,s)||!Y.call(Ze,s)&&(Xe.test(s)?et[s]=!0:(Ze[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function st(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Ke=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Ke}var lt=!1;function rt(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var a=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(l){a=l}e.call(n.prototype)}}else{try{throw Error()}catch(r){a=r}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&a&&"string"===typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=a.DetermineComponentFrameRoot(),r=l[0],i=l[1];if(r&&i){var o=r.split("\n"),c=i.split("\n");for(s=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(a===o.length||s===c.length)for(a=o.length-1,s=c.length-1;1<=a&&0<=s&&o[a]!==c[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==c[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==c[s]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function it(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);case 31:return st("Activity");default:return""}}function ot(e){try{var t="";do{t+=it(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){a=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ut(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ht=/[\n"\\]/g;function pt(e){return e.replace(ht,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xt(e,t,n,a,s,l,r,i){e.name="",null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r?e.type=r:e.removeAttribute("type"),null!=t?"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==r&&"reset"!==r||e.removeAttribute("value"),null!=t?yt(e,r,ct(t)):null!=n?yt(e,r,ct(n)):null!=a&&e.removeAttribute("value"),null==s&&null!=l&&(e.defaultChecked=!!l),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ct(i):e.removeAttribute("name")}function gt(e,t,n,a,s,l,r,i){if(null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.type=l),null!=t||null!=n){if(!("submit"!==l&&"reset"!==l||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:s)&&"symbol"!==typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.name=r)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(a&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(r(92));if(R(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||wt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&kt(e,s,a)}else for(var l in t)t.hasOwnProperty(l)&&kt(e,l,t[l])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function zt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Rt=null;function Ot(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Re]||null;if(!s)throw Error(r(90));xt(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&mt(a)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var At=!1;function Ft(e,t,n){if(At)return e(t,n);At=!0;try{return e(t)}finally{if(At=!1,(null!==Lt||null!==Rt)&&(Uc(),Lt&&(t=Lt,e=Rt,Rt=Lt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Re]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var qt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Dt=!1;if(qt)try{var It={};Object.defineProperty(It,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch(Rm){Dt=!1}var Ut=null,Ht=null,Bt=null;function Vt(){if(Bt)return Bt;var e,t,n=Ht,a=n.length,s="value"in Ut?Ut.value:Ut.textContent,l=s.length;for(e=0;e<a&&n[e]===s[e];e++);var r=a-e;for(t=1;t<=r&&n[a-t]===s[l-t];t++);return Bt=s.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Qt(){return!1}function Gt(e){function t(t,n,a,s,l){for(var r in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(s):s[r]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?$t:Qt,this.isPropagationStopped=Qt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Jt,Yt,Kt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Xt),en=m({},Xt,{view:0,detail:0}),tn=Gt(en),nn=m({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kt&&(Kt&&"mousemove"===e.type?(Jt=e.screenX-Kt.screenX,Yt=e.screenY-Kt.screenY):Yt=Jt=0,Kt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),an=Gt(nn),sn=Gt(m({},nn,{dataTransfer:0})),ln=Gt(m({},en,{relatedTarget:0})),rn=Gt(m({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Gt(m({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(m({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function hn(){return fn}var pn=Gt(m({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Gt(m({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Gt(m({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),yn=Gt(m({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(m({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Gt(m({},Xt,{newState:0,oldState:0})),jn=[9,13,27,32],Nn=qt&&"CompositionEvent"in window,wn=null;qt&&"documentMode"in document&&(wn=document.documentMode);var kn=qt&&"TextEvent"in window&&!wn,Sn=qt&&(!Nn||wn&&8<wn&&11>=wn),_n=String.fromCharCode(32),Cn=!1;function En(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Rn(e,t,n,a){Lt?Rt?Rt.push(a):Rt=[a]:Lt=a,0<(t=Vu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var On=null,An=null;function Fn(e){Fu(e,0)}function Mn(e){if(mt(Be(e)))return e}function qn(e,t){if("change"===e)return t}var Dn=!1;if(qt){var In;if(qt){var Un="oninput"in document;if(!Un){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Un="function"===typeof Hn.oninput}In=Un}else In=!1;Dn=In&&(!document.documentMode||9<document.documentMode)}function Bn(){On&&(On.detachEvent("onpropertychange",Vn),An=On=null)}function Vn(e){if("value"===e.propertyName&&Mn(An)){var t=[];Rn(t,An,e,zt(e)),Ft(Fn,t)}}function Wn(e,t,n){"focusin"===e?(Bn(),An=n,(On=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Bn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(An)}function Qn(e,t){if("click"===e)return Mn(t)}function Gn(e,t){if("input"===e||"change"===e)return Mn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!Y.call(t,s)||!Jn(e[s],t[s]))return!1}return!0}function Kn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,a=Kn(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kn(a)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ea(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var na=qt&&"documentMode"in document&&11>=document.documentMode,aa=null,sa=null,la=null,ra=!1;function ia(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ra||null==aa||aa!==ft(a)||("selectionStart"in(a=aa)&&ta(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},la&&Yn(la,a)||(la=a,0<(a=Vu(sa,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=aa)))}function oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ca={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},ua={},da={};function ma(e){if(ua[e])return ua[e];if(!ca[e])return e;var t,n=ca[e];for(t in n)if(n.hasOwnProperty(t)&&t in da)return ua[e]=n[t];return e}qt&&(da=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);var fa=ma("animationend"),ha=ma("animationiteration"),pa=ma("animationstart"),xa=ma("transitionrun"),ga=ma("transitionstart"),ya=ma("transitioncancel"),ba=ma("transitionend"),va=new Map,ja="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(e,t){va.set(e,t),Ge(t,[e])}ja.push("scrollEnd");var wa=new WeakMap;function ka(e,t){if("object"===typeof e&&null!==e){var n=wa.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ot(t)},wa.set(e,t),t)}return{value:e,source:t,stack:ot(t)}}var Sa=[],_a=0,Ca=0;function Ea(){for(var e=_a,t=Ca=_a=0;t<e;){var n=Sa[t];Sa[t++]=null;var a=Sa[t];Sa[t++]=null;var s=Sa[t];Sa[t++]=null;var l=Sa[t];if(Sa[t++]=null,null!==a&&null!==s){var r=a.pending;null===r?s.next=s:(s.next=r.next,r.next=s),a.pending=s}0!==l&&La(n,s,l)}}function Pa(e,t,n,a){Sa[_a++]=e,Sa[_a++]=t,Sa[_a++]=n,Sa[_a++]=a,Ca|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Ta(e,t,n,a){return Pa(e,t,n,a),Ra(e)}function za(e,t){return Pa(e,null,null,t),Ra(e)}function La(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var s=!1,l=e.return;null!==l;)l.childLanes|=n,null!==(a=l.alternate)&&(a.childLanes|=n),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(s=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,s&&null!==t&&(s=31-fe(n),null===(a=(e=l.hiddenUpdates)[s])?e[s]=[t]:a.push(t),t.lane=536870912|n),l):null}function Ra(e){if(50<Lc)throw Lc=0,Rc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Oa={};function Aa(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,t,n,a){return new Aa(e,t,n,a)}function Ma(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qa(e,t){var n=e.alternate;return null===n?((n=Fa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Da(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ia(e,t,n,a,s,l){var i=0;if(a=e,"function"===typeof e)Ma(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Fa(31,n,t,s)).elementType=C,e.lanes=l,e;case x:return Ua(n.children,s,l,t);case g:i=8,s|=24;break;case y:return(e=Fa(12,n,t,2|s)).elementType=y,e.lanes=l,e;case w:return(e=Fa(13,n,t,s)).elementType=w,e.lanes=l,e;case k:return(e=Fa(19,n,t,s)).elementType=k,e.lanes=l,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case j:i=10;break e;case v:i=9;break e;case N:i=11;break e;case S:i=14;break e;case _:i=16,a=null;break e}i=29,n=Error(r(130,null===e?"null":typeof e,"")),a=null}return(t=Fa(i,n,t,s)).elementType=e,t.type=a,t.lanes=l,t}function Ua(e,t,n,a){return(e=Fa(7,e,a,t)).lanes=n,e}function Ha(e,t,n){return(e=Fa(6,e,null,t)).lanes=n,e}function Ba(e,t,n){return(t=Fa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Va=[],Wa=0,$a=null,Qa=0,Ga=[],Ja=0,Ya=null,Ka=1,Xa="";function Za(e,t){Va[Wa++]=Qa,Va[Wa++]=$a,$a=e,Qa=t}function es(e,t,n){Ga[Ja++]=Ka,Ga[Ja++]=Xa,Ga[Ja++]=Ya,Ya=e;var a=Ka;e=Xa;var s=32-fe(a)-1;a&=~(1<<s),n+=1;var l=32-fe(t)+s;if(30<l){var r=s-s%5;l=(a&(1<<r)-1).toString(32),a>>=r,s-=r,Ka=1<<32-fe(t)+s|n<<s|a,Xa=l+e}else Ka=1<<l|n<<s|a,Xa=e}function ts(e){null!==e.return&&(Za(e,1),es(e,1,0))}function ns(e){for(;e===$a;)$a=Va[--Wa],Va[Wa]=null,Qa=Va[--Wa],Va[Wa]=null;for(;e===Ya;)Ya=Ga[--Ja],Ga[Ja]=null,Xa=Ga[--Ja],Ga[Ja]=null,Ka=Ga[--Ja],Ga[Ja]=null}var as=null,ss=null,ls=!1,rs=null,is=!1,os=Error(r(519));function cs(e){throw ps(ka(Error(r(418,"")),e)),os}function us(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Le]=e,t[Re]=a,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Mu(Ou[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),gt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),jt(t,a.value,a.defaultValue,a.children),dt(t)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||Yu(t.textContent,n)?(null!=a.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=a.onScroll&&Mu("scroll",t),null!=a.onScrollEnd&&Mu("scrollend",t),null!=a.onClick&&(t.onclick=Ku),t=!0):t=!1,t||cs(e)}function ds(e){for(as=e.return;as;)switch(as.tag){case 5:case 13:return void(is=!1);case 27:case 3:return void(is=!0);default:as=as.return}}function ms(e){if(e!==as)return!1;if(!ls)return ds(e),ls=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||rd(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),ds(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=gd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,fd(e.type)?(e=yd,yd=null,ss=e):ss=n):ss=as?gd(e.stateNode.nextSibling):null;return!0}function fs(){ss=as=null,ls=!1}function hs(){var e=rs;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),rs=null),e}function ps(e){null===rs?rs=[e]:rs.push(e)}var xs=D(null),gs=null,ys=null;function bs(e,t,n){U(xs,t._currentValue),t._currentValue=n}function vs(e){e._currentValue=xs.current,I(xs)}function js(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t,n,a){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){var i=s.child;l=l.firstContext;e:for(;null!==l;){var o=l;l=s;for(var c=0;c<t.length;c++)if(o.context===t[c]){l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),js(l.return,n,e),a||(i=null);break e}l=o.next}}else if(18===s.tag){if(null===(i=s.return))throw Error(r(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),js(i,n,e),i=null}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===e){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}}function ws(e,t,n,a){e=null;for(var s=t,l=!1;null!==s;){if(!l)if(0!==(524288&s.flags))l=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var i=s.alternate;if(null===i)throw Error(r(387));if(null!==(i=i.memoizedProps)){var o=s.type;Jn(s.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(s===W.current){if(null===(i=s.alternate))throw Error(r(387));i.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}s=s.return}null!==e&&Ns(t,e,n,a),t.flags|=262144}function ks(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){gs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _s(e){return Es(gs,e)}function Cs(e,t){return null===gs&&Ss(e),Es(e,t)}function Es(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(r(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var Ps="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ts=a.unstable_scheduleCallback,zs=a.unstable_NormalPriority,Ls={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rs(){return{controller:new Ps,data:new Map,refCount:0}}function Os(e){e.refCount--,0===e.refCount&&Ts(zs,function(){e.controller.abort()})}var As=null,Fs=0,Ms=0,qs=null;function Ds(){if(0===--Fs&&null!==As){null!==qs&&(qs.status="fulfilled");var e=As;As=null,Ms=0,qs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Is=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===As){var n=As=[];Fs=0,Ms=Pu(),qs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Fs++,t.then(Ds,Ds)}(0,t),null!==Is&&Is(e,t)};var Us=D(null);function Hs(){var e=Us.current;return null!==e?e:ac.pooledCache}function Bs(e,t){U(Us,null===t?Us.current:t.pool)}function Vs(){var e=Hs();return null===e?null:{parent:Ls._currentValue,pool:e}}var Ws=Error(r(460)),$s=Error(r(474)),Qs=Error(r(542)),Gs={then:function(){}};function Js(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ys(){}function Ks(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ys,Ys),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw el(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ys,Ys);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw el(e=t.reason),e}throw Xs=t,Ws}}var Xs=null;function Zs(){if(null===Xs)throw Error(r(459));var e=Xs;return Xs=null,e}function el(e){if(e===Ws||e===Qs)throw Error(r(483))}var tl=!1;function nl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function al(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ll(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&nc)){var s=a.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Ra(e),La(e,null,n),t}return Pa(e,a,t,n),Ra(e)}function rl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function il(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var s=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===l?s=l=r:l=l.next=r,n=n.next}while(null!==n);null===l?s=l=t:l=l.next=t}else s=l=t;return n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ol=!1;function cl(){if(ol){if(null!==qs)throw qs}}function ul(e,t,n,a){ol=!1;var s=e.updateQueue;tl=!1;var l=s.firstBaseUpdate,r=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var o=i,c=o.next;o.next=null,null===r?l=c:r.next=c,r=o;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==r&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=o))}if(null!==l){var d=s.baseState;for(r=0,u=c=o=null,i=l;;){var f=-536870913&i.lane,h=f!==i.lane;if(h?(lc&f)===f:(a&f)===f){0!==f&&f===Ms&&(ol=!0),null!==u&&(u=u.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var p=e,x=i;f=t;var g=n;switch(x.tag){case 1:if("function"===typeof(p=x.payload)){d=p.call(g,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=x.payload)?p.call(g,d,f):p)||void 0===f)break e;d=m({},d,f);break e;case 2:tl=!0}}null!==(f=i.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=s.callbacks)?s.callbacks=[f]:h.push(f))}else h={lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=h,o=d):u=u.next=h,r|=f;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(h=i).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}null===u&&(o=d),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===l&&(s.shared.lanes=0),fc|=r,e.lanes=r,e.memoizedState=d}}function dl(e,t){if("function"!==typeof e)throw Error(r(191,e));e.call(t)}function ml(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)dl(n[e],t)}var fl=D(null),hl=D(0);function pl(e,t){U(hl,e=dc),U(fl,t),dc=e|t.baseLanes}function xl(){U(hl,dc),U(fl,fl.current)}function gl(){dc=hl.current,I(fl),I(hl)}var yl=0,bl=null,vl=null,jl=null,Nl=!1,wl=!1,kl=!1,Sl=0,_l=0,Cl=null,El=0;function Pl(){throw Error(r(321))}function Tl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function zl(e,t,n,a,s,l){return yl=l,bl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Wr:$r,kl=!1,l=n(a,s),kl=!1,wl&&(l=Rl(t,n,a,s)),Ll(e),l}function Ll(e){O.H=Vr;var t=null!==vl&&null!==vl.next;if(yl=0,jl=vl=bl=null,Nl=!1,_l=0,Cl=null,t)throw Error(r(300));null===e||_i||null!==(e=e.dependencies)&&ks(e)&&(_i=!0)}function Rl(e,t,n,a){bl=e;var s=0;do{if(wl&&(Cl=null),_l=0,wl=!1,25<=s)throw Error(r(301));if(s+=1,jl=vl=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}O.H=Qr,l=t(n,a)}while(wl);return l}function Ol(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Il(t):t,e=e.useState()[0],(null!==vl?vl.memoizedState:null)!==e&&(bl.flags|=1024),t}function Al(){var e=0!==Sl;return Sl=0,e}function Fl(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ml(e){if(Nl){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Nl=!1}yl=0,jl=vl=bl=null,wl=!1,_l=Sl=0,Cl=null}function ql(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===jl?bl.memoizedState=jl=e:jl=jl.next=e,jl}function Dl(){if(null===vl){var e=bl.alternate;e=null!==e?e.memoizedState:null}else e=vl.next;var t=null===jl?bl.memoizedState:jl.next;if(null!==t)jl=t,vl=e;else{if(null===e){if(null===bl.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(vl=e).memoizedState,baseState:vl.baseState,baseQueue:vl.baseQueue,queue:vl.queue,next:null},null===jl?bl.memoizedState=jl=e:jl=jl.next=e}return jl}function Il(e){var t=_l;return _l+=1,null===Cl&&(Cl=[]),e=Ks(Cl,e,t),t=bl,null===(null===jl?t.memoizedState:jl.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Wr:$r),e}function Ul(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Il(e);if(e.$$typeof===j)return _s(e)}throw Error(r(438,String(e)))}function Hl(e){var t=null,n=bl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=bl.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=E;return t.index++,n}function Bl(e,t){return"function"===typeof t?t(e):t}function Vl(e){return Wl(Dl(),vl,e)}function Wl(e,t,n){var a=e.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=n;var s=e.baseQueue,l=a.pending;if(null!==l){if(null!==s){var i=s.next;s.next=l.next,l.next=i}t.baseQueue=s=l,a.pending=null}if(l=e.baseState,null===s)e.memoizedState=l;else{var o=i=null,c=null,u=t=s.next,d=!1;do{var m=-536870913&u.lane;if(m!==u.lane?(lc&m)===m:(yl&m)===m){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Ms&&(d=!0);else{if((yl&f)===f){u=u.next,f===Ms&&(d=!0);continue}m={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,i=l):c=c.next=m,bl.lanes|=f,fc|=f}m=u.action,kl&&n(l,m),l=u.hasEagerState?u.eagerState:n(l,m)}else f={lane:m,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=f,i=l):c=c.next=f,bl.lanes|=m,fc|=m;u=u.next}while(null!==u&&u!==t);if(null===c?i=l:c.next=o,!Jn(l,e.memoizedState)&&(_i=!0,d&&null!==(n=qs)))throw n;e.memoizedState=l,e.baseState=i,e.baseQueue=c,a.lastRenderedState=l}return null===s&&(a.lanes=0),[e.memoizedState,a.dispatch]}function $l(e){var t=Dl(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,l=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{l=e(l,i.action),i=i.next}while(i!==s);Jn(l,t.memoizedState)||(_i=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function Ql(e,t,n){var a=bl,s=Dl(),l=ls;if(l){if(void 0===n)throw Error(r(407));n=n()}else n=t();var i=!Jn((vl||s).memoizedState,n);if(i&&(s.memoizedState=n,_i=!0),s=s.queue,xr(2048,8,Yl.bind(null,a,s,e),[e]),s.getSnapshot!==t||i||null!==jl&&1&jl.memoizedState.tag){if(a.flags|=2048,fr(9,{destroy:void 0,resource:void 0},Jl.bind(null,a,s,n,t),null),null===ac)throw Error(r(349));l||0!==(124&yl)||Gl(a,t,n)}return n}function Gl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Jl(e,t,n,a){t.value=n,t.getSnapshot=a,Kl(t)&&Xl(e)}function Yl(e,t,n){return n(function(){Kl(t)&&Xl(e)})}function Kl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(a){return!0}}function Xl(e){var t=za(e,2);null!==t&&Fc(t,e,2)}function Zl(e){var t=ql();if("function"===typeof e){var n=e;if(e=n(),kl){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:e},t}function er(e,t,n,a){return e.baseState=n,Wl(e,vl,"function"===typeof a?a:Bl)}function tr(e,t,n,a,s){if(Ur(e))throw Error(r(485));if(null!==(e=t.action)){var l={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==O.T?n(!0):l.isTransition=!1,a(l),null===(n=t.pending)?(l.next=t.pending=l,nr(t,l)):(l.next=n.next,t.pending=n.next=l)}}function nr(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var l=O.T,r={};O.T=r;try{var i=n(s,a),o=O.S;null!==o&&o(r,i),ar(e,t,i)}catch(c){lr(e,t,c)}finally{O.T=l}}else try{ar(e,t,l=n(s,a))}catch(u){lr(e,t,u)}}function ar(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){sr(e,t,n)},function(n){return lr(e,t,n)}):sr(e,t,n)}function sr(e,t,n){t.status="fulfilled",t.value=n,rr(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,nr(e,n)))}function lr(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,rr(t),t=t.next}while(t!==a)}e.action=null}function rr(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ir(e,t){return t}function or(e,t){if(ls){var n=ac.formState;if(null!==n){e:{var a=bl;if(ls){if(ss){t:{for(var s=ss,l=is;8!==s.nodeType;){if(!l){s=null;break t}if(null===(s=gd(s.nextSibling))){s=null;break t}}s="F!"===(l=s.data)||"F"===l?s:null}if(s){ss=gd(s.nextSibling),a="F!"===s.data;break e}}cs(a)}a=!1}a&&(t=n[0])}}return(n=ql()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},n.queue=a,n=qr.bind(null,bl,a),a.dispatch=n,a=Zl(!1),l=Ir.bind(null,bl,!1,a.queue),s={state:t,dispatch:null,action:e,pending:null},(a=ql()).queue=s,n=tr.bind(null,bl,s,l,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function cr(e){return ur(Dl(),vl,e)}function ur(e,t,n){if(t=Wl(e,t,ir)[0],e=Vl(Bl)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=Il(t)}catch(r){if(r===Ws)throw Qs;throw r}else a=t;var s=(t=Dl()).queue,l=s.dispatch;return n!==t.memoizedState&&(bl.flags|=2048,fr(9,{destroy:void 0,resource:void 0},dr.bind(null,s,n),null)),[a,l,e]}function dr(e,t){e.action=t}function mr(e){var t=Dl(),n=vl;if(null!==n)return ur(t,n,e);Dl(),t=t.memoizedState;var a=(n=Dl()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function fr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=bl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function hr(){return Dl().memoizedState}function pr(e,t,n,a){var s=ql();a=void 0===a?null:a,bl.flags|=e,s.memoizedState=fr(1|t,{destroy:void 0,resource:void 0},n,a)}function xr(e,t,n,a){var s=Dl();a=void 0===a?null:a;var l=s.memoizedState.inst;null!==vl&&null!==a&&Tl(a,vl.memoizedState.deps)?s.memoizedState=fr(t,l,n,a):(bl.flags|=e,s.memoizedState=fr(1|t,l,n,a))}function gr(e,t){pr(8390656,8,e,t)}function yr(e,t){xr(2048,8,e,t)}function br(e,t){return xr(4,2,e,t)}function vr(e,t){return xr(4,4,e,t)}function jr(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Nr(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,xr(4,4,jr.bind(null,t,e),n)}function wr(){}function kr(e,t){var n=Dl();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Tl(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Sr(e,t){var n=Dl();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Tl(t,a[1]))return a[0];if(a=e(),kl){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[a,t],a}function _r(e,t,n){return void 0===n||0!==(1073741824&yl)?e.memoizedState=t:(e.memoizedState=n,e=Ac(),bl.lanes|=e,fc|=e,n)}function Cr(e,t,n,a){return Jn(n,t)?n:null!==fl.current?(e=_r(e,n,a),Jn(e,t)||(_i=!0),e):0===(42&yl)?(_i=!0,e.memoizedState=n):(e=Ac(),bl.lanes|=e,fc|=e,t)}function Er(e,t,n,a,s){var l=A.p;A.p=0!==l&&8>l?l:8;var r=O.T,i={};O.T=i,Ir(e,!1,t,n);try{var o=s(),c=O.S;if(null!==c&&c(i,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)Dr(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),a}(o,a),Oc());else Dr(e,t,a,Oc())}catch(u){Dr(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{A.p=l,O.T=r}}function Pr(){}function Tr(e,t,n,a){if(5!==e.tag)throw Error(r(476));var s=zr(e).queue;Er(e,s,t,F,null===n?Pr:function(){return Lr(e),n(a)})}function zr(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:F},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Lr(e){Dr(e,zr(e).next.queue,{},Oc())}function Rr(){return _s(Gd)}function Or(){return Dl().memoizedState}function Ar(){return Dl().memoizedState}function Fr(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),a=ll(t,e=sl(n),n);return null!==a&&(Fc(a,t,n),rl(a,t,n)),t={cache:Rs()},void(e.payload=t)}t=t.return}}function Mr(e,t,n){var a=Oc();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ur(e)?Hr(t,n):null!==(n=Ta(e,t,n,a))&&(Fc(n,e,a),Br(n,t,a))}function qr(e,t,n){Dr(e,t,n,Oc())}function Dr(e,t,n,a){var s={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ur(e))Hr(t,s);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var r=t.lastRenderedState,i=l(r,n);if(s.hasEagerState=!0,s.eagerState=i,Jn(i,r))return Pa(e,t,s,0),null===ac&&Ea(),!1}catch(o){}if(null!==(n=Ta(e,t,s,a)))return Fc(n,e,a),Br(n,t,a),!0}return!1}function Ir(e,t,n,a){if(a={lane:2,revertLane:Pu(),action:a,hasEagerState:!1,eagerState:null,next:null},Ur(e)){if(t)throw Error(r(479))}else null!==(t=Ta(e,n,a,2))&&Fc(t,e,2)}function Ur(e){var t=e.alternate;return e===bl||null!==t&&t===bl}function Hr(e,t){wl=Nl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Br(e,t,n){if(0!==(4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Vr={readContext:_s,use:Ul,useCallback:Pl,useContext:Pl,useEffect:Pl,useImperativeHandle:Pl,useLayoutEffect:Pl,useInsertionEffect:Pl,useMemo:Pl,useReducer:Pl,useRef:Pl,useState:Pl,useDebugValue:Pl,useDeferredValue:Pl,useTransition:Pl,useSyncExternalStore:Pl,useId:Pl,useHostTransitionStatus:Pl,useFormState:Pl,useActionState:Pl,useOptimistic:Pl,useMemoCache:Pl,useCacheRefresh:Pl},Wr={readContext:_s,use:Ul,useCallback:function(e,t){return ql().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:gr,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,pr(4194308,4,jr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pr(4194308,4,e,t)},useInsertionEffect:function(e,t){pr(4,2,e,t)},useMemo:function(e,t){var n=ql();t=void 0===t?null:t;var a=e();if(kl){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=ql();if(void 0!==n){var s=n(t);if(kl){me(!0);try{n(t)}finally{me(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=Mr.bind(null,bl,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},ql().memoizedState=e},useState:function(e){var t=(e=Zl(e)).queue,n=qr.bind(null,bl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:wr,useDeferredValue:function(e,t){return _r(ql(),e,t)},useTransition:function(){var e=Zl(!1);return e=Er.bind(null,bl,e.queue,!0,!1),ql().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=bl,s=ql();if(ls){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===ac)throw Error(r(349));0!==(124&lc)||Gl(a,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,gr(Yl.bind(null,a,l,e),[e]),a.flags|=2048,fr(9,{destroy:void 0,resource:void 0},Jl.bind(null,a,l,n,t),null),n},useId:function(){var e=ql(),t=ac.identifierPrefix;if(ls){var n=Xa;t="\xab"+t+"R"+(n=(Ka&~(1<<32-fe(Ka)-1)).toString(32)+n),0<(n=Sl++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=El++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Rr,useFormState:or,useActionState:or,useOptimistic:function(e){var t=ql();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ir.bind(null,bl,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hl,useCacheRefresh:function(){return ql().memoizedState=Fr.bind(null,bl)}},$r={readContext:_s,use:Ul,useCallback:kr,useContext:_s,useEffect:yr,useImperativeHandle:Nr,useInsertionEffect:br,useLayoutEffect:vr,useMemo:Sr,useReducer:Vl,useRef:hr,useState:function(){return Vl(Bl)},useDebugValue:wr,useDeferredValue:function(e,t){return Cr(Dl(),vl.memoizedState,e,t)},useTransition:function(){var e=Vl(Bl)[0],t=Dl().memoizedState;return["boolean"===typeof e?e:Il(e),t]},useSyncExternalStore:Ql,useId:Or,useHostTransitionStatus:Rr,useFormState:cr,useActionState:cr,useOptimistic:function(e,t){return er(Dl(),0,e,t)},useMemoCache:Hl,useCacheRefresh:Ar},Qr={readContext:_s,use:Ul,useCallback:kr,useContext:_s,useEffect:yr,useImperativeHandle:Nr,useInsertionEffect:br,useLayoutEffect:vr,useMemo:Sr,useReducer:$l,useRef:hr,useState:function(){return $l(Bl)},useDebugValue:wr,useDeferredValue:function(e,t){var n=Dl();return null===vl?_r(n,e,t):Cr(n,vl.memoizedState,e,t)},useTransition:function(){var e=$l(Bl)[0],t=Dl().memoizedState;return["boolean"===typeof e?e:Il(e),t]},useSyncExternalStore:Ql,useId:Or,useHostTransitionStatus:Rr,useFormState:mr,useActionState:mr,useOptimistic:function(e,t){var n=Dl();return null!==vl?er(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hl,useCacheRefresh:Ar},Gr=null,Jr=0;function Yr(e){var t=Jr;return Jr+=1,null===Gr&&(Gr=[]),Ks(Gr,e,t)}function Kr(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xr(e,t){if(t.$$typeof===f)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zr(e){return(0,e._init)(e._payload)}function ei(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=qa(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Ha(n,e.mode,a)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,a){var l=n.type;return l===x?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===_&&Zr(l)===t.type)?(Kr(t=s(t,n.props),n),t.return=e,t):(Kr(t=Ia(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ba(n,e.mode,a)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,a,l){return null===t||7!==t.tag?((t=Ua(n,e.mode,a,l)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ha(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case h:return Kr(n=Ia(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=Ba(t,e.mode,n)).return=e,t;case _:return m(e,t=(0,t._init)(t._payload),n)}if(R(t)||T(t))return(t=Ua(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,Yr(t),n);if(t.$$typeof===j)return m(e,Cs(e,t),n);Xr(e,t)}return null}function f(e,t,n,a){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===s?c(e,t,n,a):null;case p:return n.key===s?u(e,t,n,a):null;case _:return f(e,t,n=(s=n._init)(n._payload),a)}if(R(n)||T(n))return null!==s?null:d(e,t,n,a,null);if("function"===typeof n.then)return f(e,t,Yr(n),a);if(n.$$typeof===j)return f(e,t,Cs(e,n),a);Xr(e,n)}return null}function g(e,t,n,a,s){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return o(t,e=e.get(n)||null,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case h:return c(t,e=e.get(null===a.key?n:a.key)||null,a,s);case p:return u(t,e=e.get(null===a.key?n:a.key)||null,a,s);case _:return g(e,t,n,a=(0,a._init)(a._payload),s)}if(R(a)||T(a))return d(t,e=e.get(n)||null,a,s,null);if("function"===typeof a.then)return g(e,t,n,Yr(a),s);if(a.$$typeof===j)return g(e,t,n,Cs(t,a),s);Xr(t,a)}return null}function y(o,c,u,d){if("object"===typeof u&&null!==u&&u.type===x&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case h:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===x){if(7===c.tag){n(o,c.sibling),(d=s(c,u.props.children)).return=o,o=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&Zr(b)===c.type){n(o,c.sibling),Kr(d=s(c,u.props),u),d.return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}u.type===x?((d=Ua(u.props.children,o.mode,d,u.key)).return=o,o=d):(Kr(d=Ia(u.type,u.key,u.props,null,o.mode,d),u),d.return=o,o=d)}return i(o);case p:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(o,c.sibling),(d=s(c,u.children||[])).return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}(d=Ba(u,o.mode,d)).return=o,o=d}return i(o);case _:return y(o,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(s,r,i,o){for(var c=null,u=null,d=r,h=r=0,p=null;null!==d&&h<i.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var x=f(s,d,i[h],o);if(null===x){null===d&&(d=p);break}e&&d&&null===x.alternate&&t(s,d),r=l(x,r,h),null===u?c=x:u.sibling=x,u=x,d=p}if(h===i.length)return n(s,d),ls&&Za(s,h),c;if(null===d){for(;h<i.length;h++)null!==(d=m(s,i[h],o))&&(r=l(d,r,h),null===u?c=d:u.sibling=d,u=d);return ls&&Za(s,h),c}for(d=a(d);h<i.length;h++)null!==(p=g(d,s,h,i[h],o))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),r=l(p,r,h),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return t(s,e)}),ls&&Za(s,h),c}(o,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(r(150));return function(s,i,o,c){if(null==o)throw Error(r(151));for(var u=null,d=null,h=i,p=i=0,x=null,y=o.next();null!==h&&!y.done;p++,y=o.next()){h.index>p?(x=h,h=null):x=h.sibling;var b=f(s,h,y.value,c);if(null===b){null===h&&(h=x);break}e&&h&&null===b.alternate&&t(s,h),i=l(b,i,p),null===d?u=b:d.sibling=b,d=b,h=x}if(y.done)return n(s,h),ls&&Za(s,p),u;if(null===h){for(;!y.done;p++,y=o.next())null!==(y=m(s,y.value,c))&&(i=l(y,i,p),null===d?u=y:d.sibling=y,d=y);return ls&&Za(s,p),u}for(h=a(h);!y.done;p++,y=o.next())null!==(y=g(h,s,p,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?p:y.key),i=l(y,i,p),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(s,e)}),ls&&Za(s,p),u}(o,c,u=b.call(u),d)}if("function"===typeof u.then)return y(o,c,Yr(u),d);if(u.$$typeof===j)return y(o,c,Cs(o,u),d);Xr(o,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(o,c.sibling),(d=s(c,u)).return=o,o=d):(n(o,c),(d=Ha(u,o.mode,d)).return=o,o=d),i(o)):n(o,c)}return function(e,t,n,a){try{Jr=0;var s=y(e,t,n,a);return Gr=null,s}catch(r){if(r===Ws||r===Qs)throw r;var l=Fa(29,r,null,e.mode);return l.lanes=a,l.return=e,l}}}var ti=ei(!0),ni=ei(!1),ai=D(null),si=null;function li(e){var t=e.alternate;U(ci,1&ci.current),U(ai,e),null===si&&(null===t||null!==fl.current||null!==t.memoizedState)&&(si=e)}function ri(e){if(22===e.tag){if(U(ci,ci.current),U(ai,e),null===si){var t=e.alternate;null!==t&&null!==t.memoizedState&&(si=e)}}else ii()}function ii(){U(ci,ci.current),U(ai,ai.current)}function oi(e){I(ai),si===e&&(si=null),I(ci)}var ci=D(0);function ui(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||xd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function di(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mi={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Oc(),s=sl(a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ll(e,s,a))&&(Fc(t,e,a),rl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Oc(),s=sl(a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ll(e,s,a))&&(Fc(t,e,a),rl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),a=sl(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=ll(e,a,n))&&(Fc(t,e,n),rl(t,e,n))}};function fi(e,t,n,a,s,l,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,r):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,a)||!Yn(s,l))}function hi(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function pi(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var s in n===t&&(n=m({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var xi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function gi(e){xi(e)}function yi(e){console.error(e)}function bi(e){xi(e)}function vi(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ji(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ni(e,t,n){return(n=sl(n)).tag=3,n.payload={element:null},n.callback=function(){vi(e,t)},n}function wi(e){return(e=sl(e)).tag=3,e}function ki(e,t,n,a){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var l=a.value;e.payload=function(){return s(l)},e.callback=function(){ji(t,n,a)}}var r=n.stateNode;null!==r&&"function"===typeof r.componentDidCatch&&(e.callback=function(){ji(t,n,a),"function"!==typeof s&&(null===kc?kc=new Set([this]):kc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Si=Error(r(461)),_i=!1;function Ci(e,t,n,a){t.child=null===e?ni(t,null,n,a):ti(t,e.child,n,a)}function Ei(e,t,n,a,s){n=n.render;var l=t.ref;if("ref"in a){var r={};for(var i in a)"ref"!==i&&(r[i]=a[i])}else r=a;return Ss(t),a=zl(e,t,n,r,l,s),i=Al(),null===e||_i?(ls&&i&&ts(t),t.flags|=1,Ci(e,t,a,s),t.child):(Fl(e,t,s),Gi(e,t,s))}function Pi(e,t,n,a,s){if(null===e){var l=n.type;return"function"!==typeof l||Ma(l)||void 0!==l.defaultProps||null!==n.compare?((e=Ia(n.type,null,a,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Ti(e,t,l,a,s))}if(l=e.child,!Ji(e,s)){var r=l.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(r,a)&&e.ref===t.ref)return Gi(e,t,s)}return t.flags|=1,(e=qa(l,a)).ref=t.ref,e.return=t,t.child=e}function Ti(e,t,n,a,s){if(null!==e){var l=e.memoizedProps;if(Yn(l,a)&&e.ref===t.ref){if(_i=!1,t.pendingProps=a=l,!Ji(e,s))return t.lanes=e.lanes,Gi(e,t,s);0!==(131072&e.flags)&&(_i=!0)}}return Oi(e,t,n,a,s)}function zi(e,t,n){var a=t.pendingProps,s=a.children,l=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(0!==(128&t.flags)){if(a=null!==l?l.baseLanes|n:n,null!==e){for(s=t.child=e.child,l=0;null!==s;)l=l|s.lanes|s.childLanes,s=s.sibling;t.childLanes=l&~a}else t.childLanes=0,t.child=null;return Li(e,t,a,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Li(e,t,null!==l?l.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Bs(0,null!==l?l.cachePool:null),null!==l?pl(t,l):xl(),ri(t)}else null!==l?(Bs(0,l.cachePool),pl(t,l),ii(),t.memoizedState=null):(null!==e&&Bs(0,null),xl(),ii());return Ci(e,t,s,n),t.child}function Li(e,t,n,a){var s=Hs();return s=null===s?null:{parent:Ls._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Bs(0,null),xl(),ri(t),null!==e&&ws(e,t,a,!0),null}function Ri(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oi(e,t,n,a,s){return Ss(t),n=zl(e,t,n,a,void 0,s),a=Al(),null===e||_i?(ls&&a&&ts(t),t.flags|=1,Ci(e,t,n,s),t.child):(Fl(e,t,s),Gi(e,t,s))}function Ai(e,t,n,a,s,l){return Ss(t),t.updateQueue=null,n=Rl(t,a,n,s),Ll(e),a=Al(),null===e||_i?(ls&&a&&ts(t),t.flags|=1,Ci(e,t,n,l),t.child):(Fl(e,t,l),Gi(e,t,l))}function Fi(e,t,n,a,s){if(Ss(t),null===t.stateNode){var l=Oa,r=n.contextType;"object"===typeof r&&null!==r&&(l=_s(r)),l=new n(a,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=mi,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=a,l.state=t.memoizedState,l.refs={},nl(t),r=n.contextType,l.context="object"===typeof r&&null!==r?_s(r):Oa,l.state=t.memoizedState,"function"===typeof(r=n.getDerivedStateFromProps)&&(di(t,n,r,a),l.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(r=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),r!==l.state&&mi.enqueueReplaceState(l,l.state,null),ul(t,a,l,s),cl(),l.state=t.memoizedState),"function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){l=t.stateNode;var i=t.memoizedProps,o=pi(n,i);l.props=o;var c=l.context,u=n.contextType;r=Oa,"object"===typeof u&&null!==u&&(r=_s(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i||c!==r)&&hi(t,l,a,r),tl=!1;var m=t.memoizedState;l.state=m,ul(t,a,l,s),cl(),c=t.memoizedState,i||m!==c||tl?("function"===typeof d&&(di(t,n,d,a),c=t.memoizedState),(o=tl||fi(t,n,o,a,m,c,r))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=r,a=o):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,al(e,t),u=pi(n,r=t.memoizedProps),l.props=u,d=t.pendingProps,m=l.context,c=n.contextType,o=Oa,"object"===typeof c&&null!==c&&(o=_s(c)),(c="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(r!==d||m!==o)&&hi(t,l,a,o),tl=!1,m=t.memoizedState,l.state=m,ul(t,a,l,s),cl();var f=t.memoizedState;r!==d||m!==f||tl||null!==e&&null!==e.dependencies&&ks(e.dependencies)?("function"===typeof i&&(di(t,n,i,a),f=t.memoizedState),(u=tl||fi(t,n,u,a,m,f,o)||null!==e&&null!==e.dependencies&&ks(e.dependencies))?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,f,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,f,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),l.props=a,l.state=f,l.context=o,a=u):("function"!==typeof l.componentDidUpdate||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return l=a,Ri(e,t),a=0!==(128&t.flags),l||a?(l=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&a?(t.child=ti(t,e.child,null,s),t.child=ti(t,null,n,s)):Ci(e,t,n,s),t.memoizedState=l.state,e=t.child):e=Gi(e,t,s),e}function Mi(e,t,n,a){return fs(),t.flags|=256,Ci(e,t,n,a),t.child}var qi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Di(e){return{baseLanes:e,cachePool:Vs()}}function Ii(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=xc),e}function Ui(e,t,n){var a,s=t.pendingProps,l=!1,i=0!==(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&0!==(2&ci.current)),a&&(l=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(ls){if(l?li(t):ii(),ls){var o,c=ss;if(o=c){e:{for(o=c,c=is;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=gd(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ya?{id:Ka,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},(o=Fa(18,null,null,0)).stateNode=c,o.return=t,t.child=o,as=t,ss=null,o=!0):o=!1}o||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return xd(c)?t.lanes=32:t.lanes=536870912,null;oi(t)}return c=s.children,s=s.fallback,l?(ii(),c=Bi({mode:"hidden",children:c},l=t.mode),s=Ua(s,l,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(l=t.child).memoizedState=Di(n),l.childLanes=Ii(e,a,n),t.memoizedState=qi,s):(li(t),Hi(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(i)256&t.flags?(li(t),t.flags&=-257,t=Vi(e,t,n)):null!==t.memoizedState?(ii(),t.child=e.child,t.flags|=128,t=null):(ii(),l=s.fallback,c=t.mode,s=Bi({mode:"visible",children:s.children},c),(l=Ua(l,c,n,null)).flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,ti(t,e.child,null,n),(s=t.child).memoizedState=Di(n),s.childLanes=Ii(e,a,n),t.memoizedState=qi,t=l);else if(li(t),xd(c)){if(a=c.nextSibling&&c.nextSibling.dataset)var u=a.dgst;a=u,(s=Error(r(419))).stack="",s.digest=a,ps({value:s,source:null,stack:null}),t=Vi(e,t,n)}else if(_i||ws(e,t,n,!1),a=0!==(n&e.childLanes),_i||a){if(null!==(a=ac)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:Ee(s))&(a.suspendedLanes|n))?0:s)&&s!==o.retryLane))throw o.retryLane=s,za(e,s),Fc(a,e,s),Si;"$?"===c.data||Qc(),t=Vi(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ss=gd(c.nextSibling),as=t,ls=!0,rs=null,is=!1,null!==e&&(Ga[Ja++]=Ka,Ga[Ja++]=Xa,Ga[Ja++]=Ya,Ka=e.id,Xa=e.overflow,Ya=t),(t=Hi(t,s.children)).flags|=4096);return t}return l?(ii(),l=s.fallback,c=t.mode,u=(o=e.child).sibling,(s=qa(o,{mode:"hidden",children:s.children})).subtreeFlags=65011712&o.subtreeFlags,null!==u?l=qa(u,l):(l=Ua(l,c,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,null===(c=e.child.memoizedState)?c=Di(n):(null!==(o=c.cachePool)?(u=Ls._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Vs(),c={baseLanes:c.baseLanes|n,cachePool:o}),l.memoizedState=c,l.childLanes=Ii(e,a,n),t.memoizedState=qi,s):(li(t),e=(n=e.child).sibling,(n=qa(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Hi(e,t){return(t=Bi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Bi(e,t){return(e=Fa(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vi(e,t,n){return ti(t,e.child,null,n),(e=Hi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wi(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),js(e.return,t,n)}function $i(e,t,n,a,s){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=s)}function Qi(e,t,n){var a=t.pendingProps,s=a.revealOrder,l=a.tail;if(Ci(e,t,a.children,n),0!==(2&(a=ci.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wi(e,n,t);else if(19===e.tag)Wi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(U(ci,a),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ui(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),$i(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ui(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}$i(t,!0,n,null,l);break;case"together":$i(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ws(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=qa(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qa(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ji(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ks(e))}function Yi(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_i=!0;else{if(!Ji(e,n)&&0===(128&t.flags))return _i=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),bs(0,Ls,e.memoizedState.cache),fs();break;case 27:case 5:G(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:bs(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(li(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ui(e,t,n):(li(t),null!==(e=Gi(e,t,n))?e.sibling:null);li(t);break;case 19:var s=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(ws(e,t,n,!1),a=0!==(n&t.childLanes)),s){if(a)return Qi(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),U(ci,ci.current),a)break;return null;case 22:case 23:return t.lanes=0,zi(e,t,n);case 24:bs(0,Ls,e.memoizedState.cache)}return Gi(e,t,n)}(e,t,n);_i=0!==(131072&e.flags)}else _i=!1,ls&&0!==(1048576&t.flags)&&es(t,Qa,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,s=a._init;if(a=s(a._payload),t.type=a,"function"!==typeof a){if(void 0!==a&&null!==a){if((s=a.$$typeof)===N){t.tag=11,t=Ei(null,t,a,e,n);break e}if(s===S){t.tag=14,t=Pi(null,t,a,e,n);break e}}throw t=L(a)||a,Error(r(306,t,""))}Ma(a)?(e=pi(a,e),t.tag=1,t=Fi(null,t,a,e,n)):(t.tag=0,t=Oi(null,t,a,e,n))}return t;case 0:return Oi(e,t,t.type,t.pendingProps,n);case 1:return Fi(e,t,a=t.type,s=pi(a,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(r(387));a=t.pendingProps;var l=t.memoizedState;s=l.element,al(e,t),ul(t,a,null,n);var i=t.memoizedState;if(a=i.cache,bs(0,Ls,a),a!==l.cache&&Ns(t,[Ls],n,!0),cl(),a=i.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Mi(e,t,a,n);break e}if(a!==s){ps(s=ka(Error(r(424)),t)),t=Mi(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=gd(e.firstChild),as=t,ls=!0,rs=null,is=!0,n=ni(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),a===s){t=Gi(e,t,n);break e}Ci(e,t,a,n)}t=t.child}return t;case 26:return Ri(e,t),null===e?(n=Ed(t.type,null,t.pendingProps,null))?t.memoizedState=n:ls||(n=t.type,e=t.pendingProps,(a=ad(V.current).createElement(n))[Le]=t,a[Re]=e,ed(a,n,e),We(a),t.stateNode=a):t.memoizedState=Ed(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ls&&(a=t.stateNode=vd(t.type,t.pendingProps,V.current),as=t,is=!0,s=ss,fd(t.type)?(yd=s,ss=gd(a.firstChild)):ss=s),Ci(e,t,t.pendingProps.children,n),Ri(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ls&&((s=a=ss)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[De])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===l)return e}if(null===(e=gd(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,is))?(t.stateNode=a,as=t,ss=gd(a.firstChild),is=!1,s=!0):s=!1),s||cs(t)),G(t),s=t.type,l=t.pendingProps,i=null!==e?e.memoizedProps:null,a=l.children,rd(s,l)?a=null:null!==i&&rd(s,i)&&(t.flags|=32),null!==t.memoizedState&&(s=zl(e,t,Ol,null,null,n),Gd._currentValue=s),Ri(e,t),Ci(e,t,a,n),t.child;case 6:return null===e&&ls&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gd(e.nextSibling)))return null}return e}(n,t.pendingProps,is))?(t.stateNode=n,as=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return Ui(e,t,n);case 4:return $(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ti(t,null,a,n):Ci(e,t,a,n),t.child;case 11:return Ei(e,t,t.type,t.pendingProps,n);case 7:return Ci(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ci(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,bs(0,t.type,a.value),Ci(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Ss(t),a=a(s=_s(s)),t.flags|=1,Ci(e,t,a,n),t.child;case 14:return Pi(e,t,t.type,t.pendingProps,n);case 15:return Ti(e,t,t.type,t.pendingProps,n);case 19:return Qi(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},null===e?((n=Bi(a,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=qa(e.child,a)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return zi(e,t,n);case 24:return Ss(t),a=_s(Ls),null===e?(null===(s=Hs())&&(s=ac,l=Rs(),s.pooledCache=l,l.refCount++,null!==l&&(s.pooledCacheLanes|=n),s=l),t.memoizedState={parent:a,cache:s},nl(t),bs(0,Ls,s)):(0!==(e.lanes&n)&&(al(e,t),ul(t,null,null,n),cl()),s=e.memoizedState,l=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),bs(0,Ls,a)):(a=l.cache,bs(0,Ls,a),a!==s.cache&&Ns(t,[Ls],n,!0))),Ci(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ki(e){e.flags|=4}function Xi(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=ai.current)&&((4194048&lc)===lc?null!==si:(62914560&lc)!==lc&&0===(536870912&lc)||t!==si))throw Xs=Gs,$s;e.flags|=8192}}function Zi(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?we():536870912,e.lanes|=t,gc|=t)}function eo(e,t){if(!ls)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function to(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=65011712&s.subtreeFlags,a|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function no(e,t,n){var a=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return to(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),vs(Ls),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ms(t)?Ki(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,hs())),to(t),null;case 26:return n=t.memoizedState,null===e?(Ki(t),null!==n?(to(t),Xi(t,n)):(to(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ki(t),to(t),Xi(t,n)):(to(t),t.flags&=-16777217):(e.memoizedProps!==a&&Ki(t),to(t),t.flags&=-16777217),null;case 27:J(t),n=V.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Ki(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return to(t),null}e=H.current,ms(t)?us(t):(e=vd(s,a,n),t.stateNode=e,Ki(t))}return to(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&Ki(t);else{if(!a){if(null===t.stateNode)throw Error(r(166));return to(t),null}if(e=H.current,ms(t))us(t);else{switch(s=ad(V.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof a.is?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e="string"===typeof a.is?s.createElement(n,{is:a.is}):s.createElement(n)}}e[Le]=t,e[Re]=a;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(ed(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ki(t)}}return to(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&Ki(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(r(166));if(e=V.current,ms(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(s=as))switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Le]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||Yu(e.nodeValue,n)))||cs(t)}else(e=ad(e).createTextNode(a))[Le]=t,t.stateNode=e}return to(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=ms(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[Le]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;to(t),s=!1}else s=hs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(oi(t),t):(oi(t),null)}if(oi(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==a,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(s=a.alternate.memoizedState.cachePool.pool);var l=null;null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Zi(t,t.updateQueue),to(t),null;case 4:return Q(),null===e&&Iu(t.stateNode.containerInfo),to(t),null;case 10:return vs(t.type),to(t),null;case 19:if(I(ci),null===(s=t.memoizedState))return to(t),null;if(a=0!==(128&t.flags),null===(l=s.rendering))if(a)eo(s,!1);else{if(0!==mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ui(e))){for(t.flags|=128,eo(s,!1),e=l.updateQueue,t.updateQueue=e,Zi(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Da(n,e),n=n.sibling;return U(ci,1&ci.current|2),t.child}e=e.sibling}null!==s.tail&&te()>Nc&&(t.flags|=128,a=!0,eo(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ui(l))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Zi(t,e),eo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ls)return to(t),null}else 2*te()-s.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,a=!0,eo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=s.last)?e.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=ci.current,U(ci,a?1&e|2:1&e),t):(to(t),null);case 22:case 23:return oi(t),gl(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(to(t),6&t.subtreeFlags&&(t.flags|=8192)):to(t),null!==(n=t.updateQueue)&&Zi(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&I(Us),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vs(Ls),to(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function ao(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return vs(Ls),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(oi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return I(ci),null;case 4:return Q(),null;case 10:return vs(t.type),null;case 22:case 23:return oi(t),gl(),null!==e&&I(Us),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return vs(Ls),null;default:return null}}function so(e,t){switch(ns(t),t.tag){case 3:vs(Ls),Q();break;case 26:case 27:case 5:J(t);break;case 4:Q();break;case 13:oi(t);break;case 19:I(ci);break;case 10:vs(t.type);break;case 22:case 23:oi(t),gl(),null!==e&&I(Us);break;case 24:vs(Ls)}}function lo(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var l=n.create,r=n.inst;a=l(),r.destroy=a}n=n.next}while(n!==s)}}catch(i){uu(t,t.return,i)}}function ro(e,t,n){try{var a=t.updateQueue,s=null!==a?a.lastEffect:null;if(null!==s){var l=s.next;a=l;do{if((a.tag&e)===e){var r=a.inst,i=r.destroy;if(void 0!==i){r.destroy=void 0,s=t;var o=n,c=i;try{c()}catch(u){uu(s,o,u)}}}a=a.next}while(a!==l)}}catch(u){uu(t,t.return,u)}}function io(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ml(t,n)}catch(a){uu(e,e.return,a)}}}function oo(e,t,n){n.props=pi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){uu(e,t,a)}}function co(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(s){uu(e,t,s)}}function uo(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(s){uu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(l){uu(e,t,l)}else n.current=null}function mo(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){uu(e,e.return,s)}}function fo(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,l=null,i=null,o=null,c=null,u=null,d=null;for(h in n){var m=n[h];if(n.hasOwnProperty(h)&&null!=m)switch(h){case"checked":case"value":break;case"defaultValue":c=m;default:a.hasOwnProperty(h)||Xu(e,t,h,null,a,m)}}for(var f in a){var h=a[f];if(m=n[f],a.hasOwnProperty(f)&&(null!=h||null!=m))switch(f){case"type":l=h;break;case"name":s=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":i=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(r(137,t));break;default:h!==m&&Xu(e,t,f,h,a,m)}}return void xt(e,i,o,c,u,d,l,s);case"select":for(l in h=i=o=f=null,n)if(c=n[l],n.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":h=c;default:a.hasOwnProperty(l)||Xu(e,t,l,null,a,c)}for(s in a)if(l=a[s],c=n[s],a.hasOwnProperty(s)&&(null!=l||null!=c))switch(s){case"value":f=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:l!==c&&Xu(e,t,s,l,a,c)}return t=o,n=i,a=h,void(null!=f?bt(e,!!n,f,!1):!!a!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(o in h=f=null,n)if(s=n[o],n.hasOwnProperty(o)&&null!=s&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:Xu(e,t,o,null,a,s)}for(i in a)if(s=a[i],l=n[i],a.hasOwnProperty(i)&&(null!=s||null!=l))switch(i){case"value":f=s;break;case"defaultValue":h=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(r(91));break;default:s!==l&&Xu(e,t,i,s,a,l)}return void vt(e,f,h);case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&null!=f&&!a.hasOwnProperty(p))if("selected"===p)e.selected=!1;else Xu(e,t,p,null,a,f);for(c in a)if(f=a[c],h=n[c],a.hasOwnProperty(c)&&f!==h&&(null!=f||null!=h))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,a,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)f=n[x],n.hasOwnProperty(x)&&null!=f&&!a.hasOwnProperty(x)&&Xu(e,t,x,null,a,f);for(u in a)if(f=a[u],h=n[u],a.hasOwnProperty(u)&&f!==h&&(null!=f||null!=h))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:Xu(e,t,u,f,a,h)}return;default:if(_t(t)){for(var g in n)f=n[g],n.hasOwnProperty(g)&&void 0!==f&&!a.hasOwnProperty(g)&&Zu(e,t,g,void 0,a,f);for(d in a)f=a[d],h=n[d],!a.hasOwnProperty(d)||f===h||void 0===f&&void 0===h||Zu(e,t,d,f,a,h);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!a.hasOwnProperty(y)&&Xu(e,t,y,null,a,f);for(m in a)f=a[m],h=n[m],!a.hasOwnProperty(m)||f===h||null==f&&null==h||Xu(e,t,m,f,a,h)}(a,e.type,n,t),a[Re]=t}catch(s){uu(e,e.return,s)}}function ho(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function po(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ho(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ku));else if(4!==a&&(27===a&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(xo(e,t,n),e=e.sibling;null!==e;)xo(e,t,n),e=e.sibling}function go(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(go(e,t,n),e=e.sibling;null!==e;)go(e,t,n),e=e.sibling}function yo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ed(t,a,n),t[Le]=e,t[Re]=n}catch(l){uu(e,e.return,l)}}var bo=!1,vo=!1,jo=!1,No="function"===typeof WeakSet?WeakSet:Set,wo=null;function ko(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Mo(e,n),4&a&&lo(5,n);break;case 1:if(Mo(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(r){uu(n,n.return,r)}else{var s=pi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){uu(n,n.return,i)}}64&a&&io(n),512&a&&co(n,n.return);break;case 3:if(Mo(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ml(e,t)}catch(r){uu(n,n.return,r)}}break;case 27:null===t&&4&a&&yo(n);case 26:case 5:Mo(e,n),null===t&&4&a&&mo(n),512&a&&co(n,n.return);break;case 12:Mo(e,n);break;case 13:Mo(e,n),4&a&&To(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=hu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||bo)){t=null!==t&&null!==t.memoizedState||vo,s=bo;var l=vo;bo=a,(vo=t)&&!l?Do(e,n,0!==(8772&n.subtreeFlags)):Mo(e,n),bo=s,vo=l}break;case 30:break;default:Mo(e,n)}}function So(e){var t=e.alternate;null!==t&&(e.alternate=null,So(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ie(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _o=null,Co=!1;function Eo(e,t,n){for(n=n.child;null!==n;)Po(e,t,n),n=n.sibling}function Po(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(l){}switch(n.tag){case 26:vo||uo(n,t),Eo(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:vo||uo(n,t);var a=_o,s=Co;fd(n.type)&&(_o=n.stateNode,Co=!1),Eo(e,t,n),jd(n.stateNode),_o=a,Co=s;break;case 5:vo||uo(n,t);case 6:if(a=_o,s=Co,_o=null,Eo(e,t,n),Co=s,null!==(_o=a))if(Co)try{(9===_o.nodeType?_o.body:"HTML"===_o.nodeName?_o.ownerDocument.body:_o).removeChild(n.stateNode)}catch(r){uu(n,t,r)}else try{_o.removeChild(n.stateNode)}catch(r){uu(n,t,r)}break;case 18:null!==_o&&(Co?(hd(9===(e=_o).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Cm(e)):hd(_o,n.stateNode));break;case 4:a=_o,s=Co,_o=n.stateNode.containerInfo,Co=!0,Eo(e,t,n),_o=a,Co=s;break;case 0:case 11:case 14:case 15:vo||ro(2,n,t),vo||ro(4,n,t),Eo(e,t,n);break;case 1:vo||(uo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&oo(n,t,a)),Eo(e,t,n);break;case 21:Eo(e,t,n);break;case 22:vo=(a=vo)||null!==n.memoizedState,Eo(e,t,n),vo=a;break;default:Eo(e,t,n)}}function To(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Cm(e)}catch(n){uu(t,t.return,n)}}function zo(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new No),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new No),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var a=pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}function Lo(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var s=n[a],l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(fd(o.type)){_o=o.stateNode,Co=!1;break e}break;case 5:_o=o.stateNode,Co=!1;break e;case 3:case 4:_o=o.stateNode.containerInfo,Co=!0;break e}o=o.return}if(null===_o)throw Error(r(160));Po(l,i,s),_o=null,Co=!1,null!==(l=s.alternate)&&(l.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Oo(t,e),t=t.sibling}var Ro=null;function Oo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lo(t,e),Ao(e),4&a&&(ro(3,e,e.return),lo(3,e),ro(5,e,e.return));break;case 1:Lo(t,e),Ao(e),512&a&&(vo||null===n||uo(n,n.return)),64&a&&bo&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var s=Ro;if(Lo(t,e),Ao(e),512&a&&(vo||null===n||uo(n,n.return)),4&a){var l=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":(!(l=s.getElementsByTagName("title")[0])||l[De]||l[Le]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=s.createElement(a),s.head.insertBefore(l,s.querySelector("head > title"))),ed(l,a,n),l[Le]=e,We(l),a=l;break e;case"link":var i=Dd("link","href",s).get(a+(n.href||""));if(i)for(var o=0;o<i.length;o++)if((l=i[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(o,1);break t}ed(l=s.createElement(a),a,n),s.head.appendChild(l);break;case"meta":if(i=Dd("meta","content",s).get(a+(n.content||"")))for(o=0;o<i.length;o++)if((l=i[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(o,1);break t}ed(l=s.createElement(a),a,n),s.head.appendChild(l);break;default:throw Error(r(468,a))}l[Le]=e,We(l),a=l}e.stateNode=a}else Id(s,e.type,e.stateNode);else e.stateNode=Od(s,a,e.memoizedProps);else l!==a?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===a?Id(s,e.type,e.stateNode):Od(s,a,e.memoizedProps)):null===a&&null!==e.stateNode&&fo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Lo(t,e),Ao(e),512&a&&(vo||null===n||uo(n,n.return)),null!==n&&4&a&&fo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Lo(t,e),Ao(e),512&a&&(vo||null===n||uo(n,n.return)),32&e.flags){s=e.stateNode;try{Nt(s,"")}catch(h){uu(e,e.return,h)}}4&a&&null!=e.stateNode&&fo(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&a&&(jo=!0);break;case 6:if(Lo(t,e),Ao(e),4&a){if(null===e.stateNode)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(h){uu(e,e.return,h)}}break;case 3:if(qd=null,s=Ro,Ro=kd(t.containerInfo),Lo(t,e),Ro=s,Ao(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Cm(t.containerInfo)}catch(h){uu(e,e.return,h)}jo&&(jo=!1,Fo(e));break;case 4:a=Ro,Ro=kd(e.stateNode.containerInfo),Lo(t,e),Ao(e),Ro=a;break;case 12:default:Lo(t,e),Ao(e);break;case 13:Lo(t,e),Ao(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(jc=te()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,zo(e,a)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bo,d=vo;if(bo=u||s,vo=d||c,Lo(t,e),vo=d,bo=u,Ao(e),8192&a)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||bo||vo||qo(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(l=c.stateNode,s)"function"===typeof(i=l.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,f=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(h){uu(c,c.return,h)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(h){uu(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,zo(e,n))));break;case 19:Lo(t,e),Ao(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,zo(e,a)));case 30:case 21:}}function Ao(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(ho(a)){n=a;break}a=a.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var s=n.stateNode;go(e,po(e),s);break;case 5:var l=n.stateNode;32&n.flags&&(Nt(l,""),n.flags&=-33),go(e,po(e),l);break;case 3:case 4:var i=n.stateNode.containerInfo;xo(e,po(e),i);break;default:throw Error(r(161))}}catch(o){uu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Fo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Fo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Mo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ko(e,t.alternate,t),t=t.sibling}function qo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ro(4,t,t.return),qo(t);break;case 1:uo(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&oo(t,t.return,n),qo(t);break;case 27:jd(t.stateNode);case 26:case 5:uo(t,t.return),qo(t);break;case 22:null===t.memoizedState&&qo(t);break;default:qo(t)}e=e.sibling}}function Do(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,s=e,l=t,r=l.flags;switch(l.tag){case 0:case 11:case 15:Do(s,l,n),lo(4,l);break;case 1:if(Do(s,l,n),"function"===typeof(s=(a=l).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){uu(a,a.return,c)}if(null!==(s=(a=l).updateQueue)){var i=a.stateNode;try{var o=s.shared.hiddenCallbacks;if(null!==o)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)dl(o[s],i)}catch(c){uu(a,a.return,c)}}n&&64&r&&io(l),co(l,l.return);break;case 27:yo(l);case 26:case 5:Do(s,l,n),n&&null===a&&4&r&&mo(l),co(l,l.return);break;case 12:Do(s,l,n);break;case 13:Do(s,l,n),n&&4&r&&To(s,l);break;case 22:null===l.memoizedState&&Do(s,l,n),co(l,l.return);break;case 30:break;default:Do(s,l,n)}t=t.sibling}}function Io(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Os(n))}function Uo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e))}function Ho(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Bo(e,t,n,a),t=t.sibling}function Bo(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Ho(e,t,n,a),2048&s&&lo(9,t);break;case 1:case 13:default:Ho(e,t,n,a);break;case 3:Ho(e,t,n,a),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e)));break;case 12:if(2048&s){Ho(e,t,n,a),e=t.stateNode;try{var l=t.memoizedProps,r=l.id,i=l.onPostCommit;"function"===typeof i&&i(r,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){uu(t,t.return,o)}}else Ho(e,t,n,a);break;case 23:break;case 22:l=t.stateNode,r=t.alternate,null!==t.memoizedState?2&l._visibility?Ho(e,t,n,a):Wo(e,t):2&l._visibility?Ho(e,t,n,a):(l._visibility|=2,Vo(e,t,n,a,0!==(10256&t.subtreeFlags))),2048&s&&Io(r,t);break;case 24:Ho(e,t,n,a),2048&s&&Uo(t.alternate,t)}}function Vo(e,t,n,a,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var l=e,r=t,i=n,o=a,c=r.flags;switch(r.tag){case 0:case 11:case 15:Vo(l,r,i,o,s),lo(8,r);break;case 23:break;case 22:var u=r.stateNode;null!==r.memoizedState?2&u._visibility?Vo(l,r,i,o,s):Wo(l,r):(u._visibility|=2,Vo(l,r,i,o,s)),s&&2048&c&&Io(r.alternate,r);break;case 24:Vo(l,r,i,o,s),s&&2048&c&&Uo(r.alternate,r);break;default:Vo(l,r,i,o,s)}t=t.sibling}}function Wo(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:Wo(n,a),2048&s&&Io(a.alternate,a);break;case 24:Wo(n,a),2048&s&&Uo(a.alternate,a);break;default:Wo(n,a)}t=t.sibling}}var $o=8192;function Qo(e){if(e.subtreeFlags&$o)for(e=e.child;null!==e;)Go(e),e=e.sibling}function Go(e){switch(e.tag){case 26:Qo(e),e.flags&$o&&null!==e.memoizedState&&function(e,t,n){if(null===Hd)throw Error(r(475));var a=Hd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=Pd(n.href),l=e.querySelector(Td(s));if(l)return null!==(e=l._p)&&"object"===typeof e&&"function"===typeof e.then&&(a.count++,a=Vd.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=l,void We(l);l=e.ownerDocument||e,n=zd(n),(s=Nd.get(s))&&Fd(n,s),We(l=l.createElement("link"));var i=l;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),ed(l,"link",n),t.instance=l}null===a.stylesheets&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(a.count++,t=Vd.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ro,e.memoizedState,e.memoizedProps);break;case 5:default:Qo(e);break;case 3:case 4:var t=Ro;Ro=kd(e.stateNode.containerInfo),Qo(e),Ro=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=$o,$o=16777216,Qo(e),$o=t):Qo(e))}}function Jo(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yo(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];wo=a,Zo(a,e)}Jo(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ko(e),e=e.sibling}function Ko(e){switch(e.tag){case 0:case 11:case 15:Yo(e),2048&e.flags&&ro(9,e,e.return);break;case 3:case 12:default:Yo(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xo(e)):Yo(e)}}function Xo(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];wo=a,Zo(a,e)}Jo(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ro(8,t,t.return),Xo(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xo(t));break;default:Xo(t)}e=e.sibling}}function Zo(e,t){for(;null!==wo;){var n=wo;switch(n.tag){case 0:case 11:case 15:ro(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Os(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,wo=a;else e:for(n=e;null!==wo;){var s=(a=wo).sibling,l=a.return;if(So(a),a===n){wo=null;break e}if(null!==s){s.return=l,wo=s;break e}wo=l}}}var ec={getCacheForType:function(e){var t=_s(Ls),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,ac=null,sc=null,lc=0,rc=0,ic=null,oc=!1,cc=!1,uc=!1,dc=0,mc=0,fc=0,hc=0,pc=0,xc=0,gc=0,yc=null,bc=null,vc=!1,jc=0,Nc=1/0,wc=null,kc=null,Sc=0,_c=null,Cc=null,Ec=0,Pc=0,Tc=null,zc=null,Lc=0,Rc=null;function Oc(){if(0!==(2&nc)&&0!==lc)return lc&-lc;if(null!==O.T){return 0!==Ms?Ms:Pu()}return Te()}function Ac(){0===xc&&(xc=0===(536870912&lc)||ls?Ne():536870912);var e=ai.current;return null!==e&&(e.flags|=32),xc}function Fc(e,t,n){(e!==ac||2!==rc&&9!==rc)&&null===e.cancelPendingCommit||(Bc(e,0),Ic(e,lc,xc,!1)),Se(e,n),0!==(2&nc)&&e===ac||(e===ac&&(0===(2&nc)&&(hc|=n),4===mc&&Ic(e,lc,xc,!1)),Nu(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(r(327));for(var a=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ve(e,t),s=a?function(e,t){var n=nc;nc|=2;var a=Wc(),s=$c();ac!==e||lc!==t?(wc=null,Nc=te()+500,Bc(e,t)):cc=ve(e,t);e:for(;;)try{if(0!==rc&&null!==sc){t=sc;var l=ic;t:switch(rc){case 1:rc=0,ic=null,Zc(e,t,l,1);break;case 2:case 9:if(Js(l)){rc=0,ic=null,Xc(t);break}t=function(){2!==rc&&9!==rc||ac!==e||(rc=7),Nu(e)},l.then(t,t);break e;case 3:rc=7;break e;case 4:rc=5;break e;case 7:Js(l)?(rc=0,ic=null,Xc(t)):(rc=0,ic=null,Zc(e,t,l,7));break;case 5:var i=null;switch(sc.tag){case 26:i=sc.memoizedState;case 5:case 27:var o=sc;if(!i||Ud(i)){rc=0,ic=null;var c=o.sibling;if(null!==c)sc=c;else{var u=o.return;null!==u?(sc=u,eu(u)):sc=null}break t}}rc=0,ic=null,Zc(e,t,l,5);break;case 6:rc=0,ic=null,Zc(e,t,l,6);break;case 8:Hc(),mc=6;break e;default:throw Error(r(462))}}Yc();break}catch(d){Vc(e,d)}return ys=gs=null,O.H=a,O.A=s,nc=n,null!==sc?0:(ac=null,lc=0,Ea(),mc)}(e,t):Gc(e,t,!0),l=a;;){if(0===s){cc&&!a&&Ic(e,t,0,!1);break}if(n=e.current.alternate,!l||Dc(n)){if(2===s){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;s=yc;var c=o.current.memoizedState.isDehydrated;if(c&&(Bc(o,i).flags|=256),2!==(i=Gc(o,i,!1))){if(uc&&!c){o.errorRecoveryDisabledLanes|=l,hc|=l,s=4;break e}l=bc,bc=s,null!==l&&(null===bc?bc=l:bc.push.apply(bc,l))}s=i}if(l=!1,2!==s)continue}}if(1===s){Bc(e,0),Ic(e,t,0,!0);break}e:{switch(a=e,l=s){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Ic(a,t,xc,!oc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(s=jc+300-te())){if(Ic(a,t,xc,!oc),0!==be(a,0,!0))break e;a.timeoutHandle=od(qc.bind(null,a,n,bc,wc,vc,t,xc,hc,gc,oc,l,2,-0,0),s)}else qc(a,n,bc,wc,vc,t,xc,hc,gc,oc,l,0,-0,0)}break}s=Gc(e,t,!1),l=!1}Nu(e)}function qc(e,t,n,a,s,l,i,o,c,u,d,m,f,h){if(e.timeoutHandle=-1,(8192&(m=t.subtreeFlags)||16785408===(16785408&m))&&(Hd={stylesheets:null,count:0,unsuspend:Bd},Go(t),null!==(m=function(){if(null===Hd)throw Error(r(475));var e=Hd;return e.stylesheets&&0===e.count&&$d(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&$d(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=m(nu.bind(null,e,t,l,n,a,s,i,o,c,d,1,f,h)),void Ic(e,l,i,!u);nu(e,t,l,n,a,s,i,o,c)}function Dc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var s=n[a],l=s.getSnapshot;s=s.value;try{if(!Jn(l(),s))return!1}catch(r){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ic(e,t,n,a){t&=~pc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var l=31-fe(s),r=1<<l;a[l]=-1,s&=~r}0!==n&&_e(e,n,t)}function Uc(){return 0!==(6&nc)||(wu(0,!1),!1)}function Hc(){if(null!==sc){if(0===rc)var e=sc.return;else ys=gs=null,Ml(e=sc),Gr=null,Jr=0,e=sc;for(;null!==e;)so(e.alternate,e),e=e.return;sc=null}}function Bc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),ac=e,sc=n=qa(e.current,null),lc=t,rc=0,ic=null,oc=!1,cc=ve(e,t),uc=!1,gc=xc=pc=hc=fc=mc=0,bc=yc=null,vc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var s=31-fe(a),l=1<<s;t|=e[s],a&=~l}return dc=t,Ea(),n}function Vc(e,t){bl=null,O.H=Vr,t===Ws||t===Qs?(t=Zs(),rc=3):t===$s?(t=Zs(),rc=4):rc=t===Si?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===sc&&(mc=1,vi(e,ka(t,e.current)))}function Wc(){var e=O.H;return O.H=Vr,null===e?Vr:e}function $c(){var e=O.A;return O.A=ec,e}function Qc(){mc=4,oc||(4194048&lc)!==lc&&null!==ai.current||(cc=!0),0===(134217727&fc)&&0===(134217727&hc)||null===ac||Ic(ac,lc,xc,!1)}function Gc(e,t,n){var a=nc;nc|=2;var s=Wc(),l=$c();ac===e&&lc===t||(wc=null,Bc(e,t)),t=!1;var r=mc;e:for(;;)try{if(0!==rc&&null!==sc){var i=sc,o=ic;switch(rc){case 8:Hc(),r=6;break e;case 3:case 2:case 9:case 6:null===ai.current&&(t=!0);var c=rc;if(rc=0,ic=null,Zc(e,i,o,c),n&&cc){r=0;break e}break;default:c=rc,rc=0,ic=null,Zc(e,i,o,c)}}Jc(),r=mc;break}catch(u){Vc(e,u)}return t&&e.shellSuspendCounter++,ys=gs=null,nc=a,O.H=s,O.A=l,null===sc&&(ac=null,lc=0,Ea()),r}function Jc(){for(;null!==sc;)Kc(sc)}function Yc(){for(;null!==sc&&!Z();)Kc(sc)}function Kc(e){var t=Yi(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ai(n,t,t.pendingProps,t.type,void 0,lc);break;case 11:t=Ai(n,t,t.pendingProps,t.type.render,t.ref,lc);break;case 5:Ml(t);default:so(n,t),t=Yi(n,t=sc=Da(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):sc=t}function Zc(e,t,n,a){ys=gs=null,Ml(t),Gr=null,Jr=0;var s=t.return;try{if(function(e,t,n,a,s){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&ws(t,n,s,!0),null!==(n=ai.current)){switch(n.tag){case 13:return null===si?Qc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===Gs?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),du(e,a,s)),!1;case 22:return n.flags|=65536,a===Gs?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),du(e,a,s)),!1}throw Error(r(435,n.tag))}return du(e,a,s),Qc(),!1}if(ls)return null!==(t=ai.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==os&&ps(ka(e=Error(r(422),{cause:a}),n))):(a!==os&&ps(ka(t=Error(r(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,a=ka(a,n),il(e,s=Ni(e.stateNode,a,s)),4!==mc&&(mc=2)),!1;var l=Error(r(520),{cause:a});if(l=ka(l,n),null===yc?yc=[l]:yc.push(l),4!==mc&&(mc=2),null===t)return!0;a=ka(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,il(n,e=Ni(n.stateNode,a,e)),!1;case 1:if(t=n.type,l=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===kc||!kc.has(l))))return n.flags|=65536,s&=-s,n.lanes|=s,ki(s=wi(s),e,n,a),il(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,lc))return mc=1,vi(e,ka(n,e.current)),void(sc=null)}catch(l){if(null!==s)throw sc=s,l;return mc=1,vi(e,ka(n,e.current)),void(sc=null)}32768&t.flags?(ls||1===a?e=!0:cc||0!==(536870912&lc)?e=!1:(oc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=ai.current)&&13===a.tag&&(a.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,oc);e=t.return;var n=no(t.alternate,t,dc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===mc&&(mc=5)}function tu(e,t){do{var n=ao(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);mc=6,sc=null}function nu(e,t,n,a,s,l,i,o,c){e.cancelPendingCommit=null;do{iu()}while(0!==Sc);if(0!==(6&nc))throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(l=t.lanes|t.childLanes,function(e,t,n,a,s,l){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=r&~n;0<n;){var u=31-fe(n),d=1<<u;i[u]=0,o[u]=-1;var m=c[u];if(null!==m)for(c[u]=null,u=0;u<m.length;u++){var f=m[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==a&&_e(e,a,0),0!==l&&0===s&&0!==e.tag&&(e.suspendedLanes|=l&~(r&~t))}(e,n,l|=Ca,i,o,c),e===ac&&(sc=ac=null,lc=0),Cc=t,_c=e,Ec=n,Pc=l,Tc=s,zc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,K(le,function(){return ou(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=O.T,O.T=null,s=A.p,A.p=2,i=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nm,ta(e=ea(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var s=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(x){n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var h;m!==n||0!==s&&3!==m.nodeType||(o=i+s),m!==l||0!==a&&3!==m.nodeType||(c=i+a),3===m.nodeType&&(i+=m.nodeValue.length),null!==(h=m.firstChild);)f=m,m=h;for(;;){if(m===e)break t;if(f===n&&++u===s&&(o=i),f===l&&++d===a&&(c=i),null!==(h=m.nextSibling))break;f=(m=f).parentNode}m=h}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nm=!1,wo=t;null!==wo;)if(e=(t=wo).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,wo=e;else for(;null!==wo;){switch(l=(t=wo).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==l){e=void 0,n=t,s=l.memoizedProps,l=l.memoizedState,a=n.stateNode;try{var p=pi(n.type,s,(n.elementType,n.type));e=a.getSnapshotBeforeUpdate(p,l),a.__reactInternalSnapshotBeforeUpdate=e}catch(g){uu(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,wo=e;break}wo=t.return}}(e,t)}finally{nc=i,A.p=s,O.T=a}}Sc=1,au(),su(),lu()}}function au(){if(1===Sc){Sc=0;var e=_c,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var a=A.p;A.p=2;var s=nc;nc|=4;try{Oo(t,e);var l=nd,r=ea(e.containerInfo),i=l.focusedElem,o=l.selectionRange;if(r!==i&&i&&i.ownerDocument&&Zn(i.ownerDocument.documentElement,i)){if(null!==o&&ta(i)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var f=m.getSelection(),h=i.textContent.length,p=Math.min(o.start,h),x=void 0===o.end?p:Math.min(o.end,h);!f.extend&&p>x&&(r=x,x=p,p=r);var g=Xn(i,p),y=Xn(i,x);if(g&&y&&(1!==f.rangeCount||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(g.node,g.offset),f.removeAllRanges(),p>x?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=i;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<d.length;i++){var v=d[i];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}nm=!!td,nd=td=null}finally{nc=s,A.p=a,O.T=n}}e.current=t,Sc=2}}function su(){if(2===Sc){Sc=0;var e=_c,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var a=A.p;A.p=2;var s=nc;nc|=4;try{ko(e,t.alternate,t)}finally{nc=s,A.p=a,O.T=n}}Sc=3}}function lu(){if(4===Sc||3===Sc){Sc=0,ee();var e=_c,t=Cc,n=Ec,a=zc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Cc=_c=null,ru(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(kc=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==a){t=O.T,s=A.p,A.p=2,O.T=null;try{for(var l=e.onRecoverableError,r=0;r<a.length;r++){var i=a[r];l(i.value,{componentStack:i.stack})}}finally{O.T=t,A.p=s}}0!==(3&Ec)&&iu(),Nu(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Rc?Lc++:(Lc=0,Rc=e):Lc=0,wu(0,!1)}}function ru(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Os(t)))}function iu(e){return au(),su(),lu(),ou()}function ou(){if(5!==Sc)return!1;var e=_c,t=Pc;Pc=0;var n=Pe(Ec),a=O.T,s=A.p;try{A.p=32>n?32:n,O.T=null,n=Tc,Tc=null;var l=_c,i=Ec;if(Sc=0,Cc=_c=null,Ec=0,0!==(6&nc))throw Error(r(331));var o=nc;if(nc|=4,Ko(l.current),Bo(l,l.current,i,n),nc=o,wu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,l)}catch(c){}return!0}finally{A.p=s,O.T=a,ru(e,t)}}function cu(e,t,n){t=ka(n,t),null!==(e=ll(e,t=Ni(e.stateNode,t,2),2))&&(Se(e,2),Nu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===kc||!kc.has(a))){e=ka(n,e),null!==(a=ll(t,n=wi(2),2))&&(ki(n,a,t,e),Se(a,2),Nu(a));break}}t=t.return}}function du(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new tc;var s=new Set;a.set(t,s)}else void 0===(s=a.get(t))&&(s=new Set,a.set(t,s));s.has(n)||(uc=!0,s.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(lc&n)===n&&(4===mc||3===mc&&(62914560&lc)===lc&&300>te()-jc?0===(2&nc)&&Bc(e,0):pc|=n,gc===lc&&(gc=0)),Nu(e)}function fu(e,t){0===t&&(t=we()),null!==(e=za(e,t))&&(Se(e,t),Nu(e))}function hu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function pu(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==a&&a.delete(t),fu(e,n)}var xu=null,gu=null,yu=!1,bu=!1,vu=!1,ju=0;function Nu(e){e!==gu&&null===e.next&&(null===gu?xu=gu=e:gu=gu.next=e),bu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?K(ae,ku):Su()}))}function wu(e,t){if(!vu&&bu){vu=!0;do{for(var n=!1,a=xu;null!==a;){if(!t)if(0!==e){var s=a.pendingLanes;if(0===s)var l=0;else{var r=a.suspendedLanes,i=a.pingedLanes;l=(1<<31-fe(42|e)+1)-1,l=201326741&(l&=s&~(r&~i))?201326741&l|1:l?2|l:0}0!==l&&(n=!0,Eu(a,l))}else l=lc,0===(3&(l=be(a,a===ac?l:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||ve(a,l)||(n=!0,Eu(a,l));a=a.next}}while(n);vu=!1}}function ku(){Su()}function Su(){bu=yu=!1;var e=0;0!==ju&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==id&&(id=e,!0);return id=null,!1}()&&(e=ju),ju=0);for(var t=te(),n=null,a=xu;null!==a;){var s=a.next,l=_u(a,t);0===l?(a.next=null,null===n?xu=s:n.next=s,null===s&&(gu=n)):(n=a,(0!==e||0!==(3&l))&&(bu=!0)),a=s}wu(e,!1)}function _u(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var r=31-fe(l),i=1<<r,o=s[r];-1===o?0!==(i&n)&&0===(i&a)||(s[r]=je(i,t)):o<=t&&(e.expiredLanes|=i),l&=~i}if(n=lc,n=be(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===rc||9===rc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&X(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ve(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&X(a),Pe(n)){case 2:case 8:n=se;break;case 32:default:n=le;break;case 268435456:n=ie}return a=Cu.bind(null,e),n=K(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&X(a),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(iu()&&e.callbackNode!==n)return null;var a=lc;return 0===(a=be(e,e===ac?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,a,t),_u(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Eu(e,t){if(iu())return null;Mc(e,t,!0)}function Pu(){return 0===ju&&(ju=Ne()),ju}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function zu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Lu=0;Lu<ja.length;Lu++){var Ru=ja[Lu];Na(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}Na(fa,"onAnimationEnd"),Na(ha,"onAnimationIteration"),Na(pa,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(xa,"onTransitionRun"),Na(ga,"onTransitionStart"),Na(ya,"onTransitionCancel"),Na(ba,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Au=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Fu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var r=a.length-1;0<=r;r--){var i=a[r],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==l&&s.isPropagationStopped())break e;l=i,s.currentTarget=c;try{l(s)}catch(u){xi(u)}s.currentTarget=null,l=o}else for(r=0;r<a.length;r++){if(o=(i=a[r]).instance,c=i.currentTarget,i=i.listener,o!==l&&s.isPropagationStopped())break e;l=i,s.currentTarget=c;try{l(s)}catch(u){xi(u)}s.currentTarget=null,l=o}}}}function Mu(e,t){var n=t[Ae];void 0===n&&(n=t[Ae]=new Set);var a=e+"__bubble";n.has(a)||(Uu(t,e,2,!1),n.add(a))}function qu(e,t,n){var a=0;t&&(a|=4),Uu(n,e,a,t)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Iu(e){if(!e[Du]){e[Du]=!0,$e.forEach(function(t){"selectionchange"!==t&&(Au.has(t)||qu(t,!1,e),qu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Du]||(t[Du]=!0,qu("selectionchange",!1,t))}}function Uu(e,t,n,a){switch(cm(t)){case 2:var s=am;break;case 8:s=sm;break;default:s=lm}n=s.bind(null,t,n,e),s=void 0,!Dt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),a?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hu(e,t,n,a,s){var l=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var r=a.tag;if(3===r||4===r){var i=a.stateNode.containerInfo;if(i===s)break;if(4===r)for(r=a.return;null!==r;){var c=r.tag;if((3===c||4===c)&&r.stateNode.containerInfo===s)return;r=r.return}for(;null!==i;){if(null===(r=Ue(i)))return;if(5===(c=r.tag)||6===c||26===c||27===c){a=l=r;continue e}i=i.parentNode}}a=a.return}Ft(function(){var a=l,s=zt(n),r=[];e:{var i=va.get(e);if(void 0!==i){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=pn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gn;break;case fa:case ha:case pa:c=rn;break;case ba:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=vn}var d=0!==(4&t),m=!d&&("scroll"===e||"scrollend"===e),f=d?null!==i?i+"Capture":null:i;d=[];for(var h,p=a;null!==p;){var x=p;if(h=x.stateNode,5!==(x=x.tag)&&26!==x&&27!==x||null===h||null===f||null!=(x=Mt(p,f))&&d.push(Bu(p,x,h)),m)break;p=p.return}0<d.length&&(i=new c(i,u,null,n,s),r.push({event:i,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===Tt||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[Oe])&&(c||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(m=o(u),d=u.tag,u!==m||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=an,x="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=xn,x="onPointerLeave",f="onPointerEnter",p="pointer"),m=null==c?i:Be(c),h=null==u?i:Be(u),(i=new d(x,p+"leave",c,n,s)).target=m,i.relatedTarget=h,x=null,Ue(s)===a&&((d=new d(f,p+"enter",u,n,s)).target=h,d.relatedTarget=m,x=d),m=x,c&&u)e:{for(f=u,p=0,h=d=c;h;h=Wu(h))p++;for(h=0,x=f;x;x=Wu(x))h++;for(;0<p-h;)d=Wu(d),p--;for(;0<h-p;)f=Wu(f),h--;for(;p--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&$u(r,i,c,d,!1),null!==u&&null!==m&&$u(r,m,u,d,!0)}if("select"===(c=(i=a?Be(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var g=qn;else if(Ln(i))if(Dn)g=Gn;else{g=$n;var y=Wn}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?a&&_t(a.elementType)&&(g=qn):g=Qn;switch(g&&(g=g(e,a))?Rn(r,g,n,s):(y&&y(e,i,a),"focusout"===e&&a&&"number"===i.type&&null!=a.memoizedProps.value&&yt(i,"number",i.value)),y=a?Be(a):window,e){case"focusin":(Ln(y)||"true"===y.contentEditable)&&(aa=y,sa=a,la=null);break;case"focusout":la=sa=aa=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,ia(r,n,s);break;case"selectionchange":if(na)break;case"keydown":case"keyup":ia(r,n,s)}var b;if(Nn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Tn?En(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Sn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Tn&&(b=Vt()):(Ht="value"in(Ut=s)?Ut.value:Ut.textContent,Tn=!0)),0<(y=Vu(a,v)).length&&(v=new cn(v,e,null,n,s),r.push({event:v,listeners:y}),b?v.data=b:null!==(b=Pn(n))&&(v.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Cn=!0,_n);case"textInput":return(e=t.data)===_n&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!Nn&&En(e,t)?(e=Vt(),Bt=Ht=Ut=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Vu(a,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,s),r.push({event:y,listeners:v}),y.data=b)),function(e,t,n,a,s){if("submit"===t&&n&&n.stateNode===s){var l=Tu((s[Re]||null).action),r=a.submitter;r&&null!==(t=(t=r[Re]||null)?Tu(t.formAction):r.getAttribute("formAction"))&&(l=t,r=null);var i=new Zt("action","action",null,a,s);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==ju){var e=r?zu(s,r):new FormData(s);Tr(n,{pending:!0,data:e,method:s.method,action:l},null,e)}}else"function"===typeof l&&(i.preventDefault(),e=r?zu(s,r):new FormData(s),Tr(n,{pending:!0,data:e,method:s.method,action:l},l,e))},currentTarget:s}]})}}(r,e,a,n,s)}Fu(r,t)})}function Bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",a=[];null!==e;){var s=e,l=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===l||(null!=(s=Mt(e,n))&&a.unshift(Bu(e,s,l)),null!=(s=Mt(e,t))&&a.push(Bu(e,s,l))),3===e.tag)return a;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function $u(e,t,n,a,s){for(var l=t._reactName,r=[];null!==n&&n!==a;){var i=n,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===a)break;5!==i&&26!==i&&27!==i||null===c||(o=c,s?null!=(c=Mt(n,l))&&r.unshift(Bu(n,c,o)):s||null!=(c=Mt(n,l))&&r.push(Bu(n,c,o))),n=n.return}0!==r.length&&e.push({event:t,listeners:r})}var Qu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace(Gu,"")}function Yu(e,t){return t=Ju(t),Ju(e)===t}function Ku(){}function Xu(e,t,n,a,s,l){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||Nt(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&Nt(e,""+a);break;case"className":nt(e,"class",a);break;case"tabIndex":nt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,a);break;case"style":St(e,a,l);break;case"data":if("object"!==t){nt(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Pt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof l&&("formAction"===n?("input"!==t&&Xu(e,t,"name",s.name,s,null),Xu(e,t,"formEncType",s.formEncType,s,null),Xu(e,t,"formMethod",s.formMethod,s,null),Xu(e,t,"formTarget",s.formTarget,s,null)):(Xu(e,t,"encType",s.encType,s,null),Xu(e,t,"method",s.method,s,null),Xu(e,t,"target",s.target,s,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Pt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Ku);break;case"onScroll":null!=a&&Mu("scroll",e);break;case"onScrollEnd":null!=a&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Pt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",a);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":tt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,a)}}function Zu(e,t,n,a,s,l){switch(n){case"style":St(e,a,l);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(r(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"===typeof a?Nt(e,a):("number"===typeof a||"bigint"===typeof a)&&Nt(e,""+a);break;case"onScroll":null!=a&&Mu("scroll",e);break;case"onScrollEnd":null!=a&&Mu("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(l=null!=(l=e[Re]||null)?l[n]:null)&&e.removeEventListener(t,l,s),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):tt(e,n,a):("function"!==typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var a,s=!1,l=!1;for(a in n)if(n.hasOwnProperty(a)){var i=n[a];if(null!=i)switch(a){case"src":s=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Xu(e,t,a,i,n,null)}}return l&&Xu(e,t,"srcSet",n.srcSet,n,null),void(s&&Xu(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var o=a=i=l=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":l=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:Xu(e,t,s,d,n,null)}}return gt(e,a,o,c,u,i,l,!1),void dt(e);case"select":for(l in Mu("invalid",e),s=i=a=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":a=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:Xu(e,t,l,o,n,null)}return t=a,n=i,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(i in Mu("invalid",e),a=l=s=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":s=o;break;case"defaultValue":l=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(r(91));break;default:Xu(e,t,i,o,n,null)}return jt(e,s,l,a),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Xu(e,t,c,s,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(s=0;s<Ou.length;s++)Mu(Ou[s],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Xu(e,t,u,s,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&Zu(e,t,d,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(s=n[o])&&Xu(e,t,o,s,n,null))}var td=null,nd=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function sd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ld(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function rd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var id=null;var od="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(md)}:od;function md(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function hd(e,t){var n=t,a=0,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&8===l.nodeType)if("/$"===(n=l.data)){if(0<a&&8>a){n=a;var r=e.ownerDocument;if(1&n&&jd(r.documentElement),2&n&&jd(r.body),4&n)for(jd(n=r.head),r=n.firstChild;r;){var i=r.nextSibling,o=r.nodeName;r[De]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===r.rel.toLowerCase()||n.removeChild(r),r=i}}if(0===s)return e.removeChild(l),void Cm(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:a=n.charCodeAt(0)-48;else a=0;n=l}while(n);Cm(t)}function pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pd(n),Ie(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function xd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function vd(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function jd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ie(e)}var Nd=new Map,wd=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Sd=A.d;A.d={f:function(){var e=Sd.f(),t=Uc();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Lr(t):Sd.r(e)},D:function(e){Sd.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Sd.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Sd.L(e,t,n);var a=_d;if(a&&e&&t){var s='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+pt(n.imageSizes)+'"]')):s+='[href="'+pt(e)+'"]';var l=s;switch(t){case"style":l=Pd(e);break;case"script":l=Ld(e)}Nd.has(l)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Nd.set(l,e),null!==a.querySelector(s)||"style"===t&&a.querySelector(Td(l))||"script"===t&&a.querySelector(Rd(l))||(ed(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)))}},m:function(e,t){Sd.m(e,t);var n=_d;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+pt(a)+'"][href="'+pt(e)+'"]',l=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Ld(e)}if(!Nd.has(l)&&(e=m({rel:"modulepreload",href:e},t),Nd.set(l,e),null===n.querySelector(s))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(l)))return}ed(a=n.createElement("link"),"link",e),We(a),n.head.appendChild(a)}}},X:function(e,t){Sd.X(e,t);var n=_d;if(n&&e){var a=Ve(n).hoistableScripts,s=Ld(e),l=a.get(s);l||((l=n.querySelector(Rd(s)))||(e=m({src:e,async:!0},t),(t=Nd.get(s))&&Md(e,t),We(l=n.createElement("script")),ed(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(s,l))}},S:function(e,t,n){Sd.S(e,t,n);var a=_d;if(a&&e){var s=Ve(a).hoistableStyles,l=Pd(e);t=t||"default";var r=s.get(l);if(!r){var i={loading:0,preload:null};if(r=a.querySelector(Td(l)))i.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nd.get(l))&&Fd(e,n);var o=r=a.createElement("link");We(o),ed(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Ad(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:i},s.set(l,r)}}},M:function(e,t){Sd.M(e,t);var n=_d;if(n&&e){var a=Ve(n).hoistableScripts,s=Ld(e),l=a.get(s);l||((l=n.querySelector(Rd(s)))||(e=m({src:e,async:!0,type:"module"},t),(t=Nd.get(s))&&Md(e,t),We(l=n.createElement("script")),ed(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(s,l))}}};var _d="undefined"===typeof document?null:document;function Cd(e,t,n){var a=_d;if(a&&"string"===typeof t&&t){var s=pt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),wd.has(s)||(wd.add(s),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(s)&&(ed(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)))}}function Ed(e,t,n,a){var s,l,i,o,c=(c=V.current)?kd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(a=(n=Ve(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Nd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nd.set(e,n),u||(s=c,l=e,i=n,o=d.state,s.querySelector('link[rel="preload"][as="style"]['+l+"]")?o.loading=1:(l=s.createElement("link"),o.preload=l,l.addEventListener("load",function(){return o.loading|=1}),l.addEventListener("error",function(){return o.loading|=2}),ed(l,"link",i),We(l),s.head.appendChild(l))))),t&&null===a)throw Error(r(528,""));return d}if(t&&null!==a)throw Error(r(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ld(n),(a=(n=Ve(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Pd(e){return'href="'+pt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function zd(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Ld(e){return'[src="'+pt(e)+'"]'}function Rd(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(a)return t.instance=a,We(a),a;var s=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(a=(e.ownerDocument||e).createElement("style")),ed(a,"style",s),Ad(a,n.precedence,e),t.instance=a;case"stylesheet":s=Pd(n.href);var l=e.querySelector(Td(s));if(l)return t.state.loading|=4,t.instance=l,We(l),l;a=zd(n),(s=Nd.get(s))&&Fd(a,s),We(l=(e.ownerDocument||e).createElement("link"));var i=l;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),ed(l,"link",a),t.state.loading|=4,Ad(l,n.precedence,e),t.instance=l;case"script":return l=Ld(n.src),(s=e.querySelector(Rd(l)))?(t.instance=s,We(s),s):(a=n,(s=Nd.get(l))&&Md(a=m({},n),s),We(s=(e=e.ownerDocument||e).createElement("script")),ed(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Ad(a,n.precedence,e));return t.instance}function Ad(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,l=s,r=0;r<a.length;r++){var i=a[r];if(i.dataset.precedence===t)l=i;else if(l!==s)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var qd=null;function Dd(e,t,n){if(null===qd){var a=new Map,s=qd=new Map;s.set(n,a)}else(a=(s=qd).get(n))||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var l=n[s];if(!(l[De]||l[Le]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var r=l.getAttribute(t)||"";r=e+r;var i=a.get(r);i?i.push(l):a.set(r,[l])}}return a}function Id(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hd=null;function Bd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function $d(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Qd,e),Wd=null,Vd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var a=n.get(null);else{n=new Map,Wd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<s.length;l++){var r=s[l];"LINK"!==r.nodeName&&"not all"===r.getAttribute("media")||(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}r=(s=t.instance).getAttribute("data-precedence"),(l=n.get(r)||a)===a&&n.set(null,s),n.set(r,s),this.count++,a=Vd.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),l?l.parentNode.insertBefore(s,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:j,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Jd(e,t,n,a,s,l,r,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=l,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Yd(e,t,n,a,s,l,r,i,o,c,u,d){return e=new Jd(e,t,n,r,i,o,c,d),t=1,!0===l&&(t|=24),l=Fa(3,null,null,t),e.current=l,l.stateNode=e,(t=Rs()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:a,isDehydrated:n,cache:t},nl(l),e}function Kd(e){return e?e=Oa:Oa}function Xd(e,t,n,a,s,l){s=Kd(s),null===a.context?a.context=s:a.pendingContext=s,(a=sl(t)).payload={element:n},null!==(l=void 0===l?null:l)&&(a.callback=l),null!==(n=ll(e,a,t))&&(Fc(n,0,t),rl(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function em(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tm(e){if(13===e.tag){var t=za(e,67108864);null!==t&&Fc(t,0,67108864),em(e,67108864)}}var nm=!0;function am(e,t,n,a){var s=O.T;O.T=null;var l=A.p;try{A.p=2,lm(e,t,n,a)}finally{A.p=l,O.T=s}}function sm(e,t,n,a){var s=O.T;O.T=null;var l=A.p;try{A.p=8,lm(e,t,n,a)}finally{A.p=l,O.T=s}}function lm(e,t,n,a){if(nm){var s=rm(a);if(null===s)Hu(e,t,a,im,n),ym(e,a);else if(function(e,t,n,a,s){switch(t){case"focusin":return dm=bm(dm,e,t,n,a,s),!0;case"dragenter":return mm=bm(mm,e,t,n,a,s),!0;case"mouseover":return fm=bm(fm,e,t,n,a,s),!0;case"pointerover":var l=s.pointerId;return hm.set(l,bm(hm.get(l)||null,e,t,n,a,s)),!0;case"gotpointercapture":return l=s.pointerId,pm.set(l,bm(pm.get(l)||null,e,t,n,a,s)),!0}return!1}(s,e,t,n,a))a.stopPropagation();else if(ym(e,a),4&t&&-1<gm.indexOf(e)){for(;null!==s;){var l=He(s);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var r=ye(l.pendingLanes);if(0!==r){var i=l;for(i.pendingLanes|=2,i.entangledLanes|=2;r;){var o=1<<31-fe(r);i.entanglements[1]|=o,r&=~o}Nu(l),0===(6&nc)&&(Nc=te()+500,wu(0,!1))}}break;case 13:null!==(i=za(l,2))&&Fc(i,0,2),Uc(),em(l,2)}if(null===(l=rm(a))&&Hu(e,t,a,im,n),l===s)break;s=l}null!==s&&a.stopPropagation()}else Hu(e,t,a,null,n)}}function rm(e){return om(e=zt(e))}var im=null;function om(e){if(im=null,null!==(e=Ue(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return im=e,null}function cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ae:return 2;case se:return 8;case le:case re:return 32;case ie:return 268435456;default:return 32}default:return 32}}var um=!1,dm=null,mm=null,fm=null,hm=new Map,pm=new Map,xm=[],gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":dm=null;break;case"dragenter":case"dragleave":mm=null;break;case"mouseover":case"mouseout":fm=null;break;case"pointerover":case"pointerout":hm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pm.delete(t.pointerId)}}function bm(e,t,n,a,s,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[s]},null!==t&&(null!==(t=He(t))&&tm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function vm(e){var t=Ue(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=A.p;try{return A.p=e,t()}finally{A.p=n}}(e.priority,function(){if(13===n.tag){var e=Oc();e=Ee(e);var t=za(n,e);null!==t&&Fc(t,0,e),em(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=rm(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&tm(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Tt=a,n.target.dispatchEvent(a),Tt=null,t.shift()}return!0}function Nm(e,t,n){jm(e)&&n.delete(t)}function wm(){um=!1,null!==dm&&jm(dm)&&(dm=null),null!==mm&&jm(mm)&&(mm=null),null!==fm&&jm(fm)&&(fm=null),hm.forEach(Nm),pm.forEach(Nm)}function km(e,t){e.blockedOn===t&&(e.blockedOn=null,um||(um=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wm)))}var Sm=null;function _m(e){Sm!==e&&(Sm=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Sm===e&&(Sm=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if("function"!==typeof a){if(null===om(a||n))continue;break}var l=He(n);null!==l&&(e.splice(t,3),t-=3,Tr(l,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Cm(e){function t(t){return km(t,e)}null!==dm&&km(dm,e),null!==mm&&km(mm,e),null!==fm&&km(fm,e),hm.forEach(t),pm.forEach(t);for(var n=0;n<xm.length;n++){var a=xm[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<xm.length&&null===(n=xm[0]).blockedOn;)vm(n),null===n.blockedOn&&xm.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var s=n[a],l=n[a+1],r=s[Re]||null;if("function"===typeof l)r||_m(n);else if(r){var i=null;if(l&&l.hasAttribute("formAction")){if(s=l,r=l[Re]||null)i=r.formAction;else if(null!==om(s))continue}else i=r.action;"function"===typeof i?n[a+1]=i:(n.splice(a,3),a-=3),_m(n)}}}function Em(e){this._internalRoot=e}function Pm(e){this._internalRoot=e}Pm.prototype.render=Em.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Xd(t.current,Oc(),e,t,null,null)},Pm.prototype.unmount=Em.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Uc(),t[Oe]=null}},Pm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xm.length&&0!==t&&t<xm[n].priority;n++);xm.splice(n,0,e),0===n&&vm(e)}};var Tm=s.version;if("19.1.1"!==Tm)throw Error(r(527,Tm,"19.1.1"));A.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(a=s.return)){n=a;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return u(s),e;if(l===a)return u(s),t;l=l.sibling}throw Error(r(188))}if(n.return!==a.return)n=s,a=l;else{for(var i=!1,c=s.child;c;){if(c===n){i=!0,n=s,a=l;break}if(c===a){i=!0,a=s,n=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===n){i=!0,n=l,a=s;break}if(c===a){i=!0,a=l,n=s;break}c=c.sibling}if(!i)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var zm={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lm.isDisabled&&Lm.supportsFiber)try{ue=Lm.inject(zm),de=Lm}catch(Om){}}t.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,a="",s=gi,l=yi,o=bi;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,a,s,l,o,0,null),e[Oe]=t.current,Iu(e),new Em(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var a=!1,s="",l=gi,o=yi,c=bi,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,a,s,l,o,c,0,u)).context=Kd(null),n=t.current,(s=sl(a=Ee(a=Oc()))).callback=null,ll(n,s,a),n=a,t.current.lanes=n,Se(t,n),Nu(t),e[Oe]=t.current,Iu(e),new Pm(t)},t.version="19.1.1"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var v=b.prototype=new y;v.constructor=b,p(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},w=Object.prototype.hasOwnProperty;function k(e,t,a,s,l,r){return a=r.ref,{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(){}function P(e,t,s,l,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o,c,u=!1;if(null===e)u=!0;else switch(i){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case a:u=!0;break;case m:return P((u=e._init)(e._payload),t,s,l,r)}}if(u)return r=r(e),u=""===l?"."+C(e,0):l,j(r)?(s="",null!=u&&(s=u.replace(_,"$&/")+"/"),P(r,t,s,"",function(e){return e})):null!=r&&(S(r)&&(o=r,c=s+(null==r.key||e&&e.key===r.key?"":(""+r.key).replace(_,"$&/")+"/")+u,r=k(o.type,c,void 0,0,0,o.props)),t.push(r)),1;u=0;var d,h=""===l?".":l+":";if(j(e))for(var p=0;p<e.length;p++)u+=P(l=e[p],t,s,i=h+C(l,p),r);else if("function"===typeof(p=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(l=e.next()).done;)u+=P(l=l.value,t,s,i=h+C(l,p++),r);else if("object"===i){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,l,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var a=[],s=0;return P(e,a,"","",function(e){return t.call(n,e,s++)}),a}function z(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=r,t.PureComponent=b,t.StrictMode=l,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key;if(null!=t)for(l in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!w.call(t,l)||"key"===l||"__self"===l||"__source"===l||"ref"===l&&void 0===t.ref||(a[l]=t[l]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var r=Array(l),i=0;i<l;i++)r[i]=arguments[i+2];a.children=r}return k(e.type,s,void 0,0,0,a)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var a,s={},l=null;if(null!=t)for(a in void 0!==t.key&&(l=""+t.key),t)w.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(s[a]=t[a]);var r=arguments.length-2;if(1===r)s.children=n;else if(1<r){for(var i=Array(r),o=0;o<r;o++)i[o]=arguments[o+2];s.children=i}if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===s[a]&&(s[a]=r[a]);return k(e,l,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,n={};N.T=n;try{var a=e(),s=N.S;null!==s&&s(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(R,L)}catch(l){L(l)}finally{N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,n){return N.H.useActionState(e,t,n)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var a=N.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return a.useEffect(e,t)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,n){return N.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return N.H.useReducer(e,t,n)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var a=n(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=o.T,n=r.p;try{if(o.T=null,r.p=2,e)return e()}finally{o.T=t,r.p=n,r.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&r.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,l="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:l}):"script"===n&&r.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:l,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);r.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},t.requestFormReset=function(e){r.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(e,t,a){var s=null;if(void 0!==a&&(s=""+a),void 0!==t.key&&(s=""+t.key),"key"in t)for(var l in a={},t)"key"!==l&&(a[l]=t[l]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=s,t.jsxs=s},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<l(s,t)))break e;e[a]=t,e[n]=s,n=a}}function a(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,r=s>>>1;a<r;){var i=2*(a+1)-1,o=e[i],c=i+1,u=e[c];if(0>l(o,n))c<s&&0>l(u,o)?(e[a]=u,e[c]=n,a=c):(e[a]=o,e[i]=n,a=i);else{if(!(c<s&&0>l(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,m=null,f=3,h=!1,p=!1,x=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=a(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function N(e){if(x=!1,j(e),!p)if(null!==a(c))p=!0,k||(k=!0,w());else{var t=a(u);null!==t&&L(N,t.startTime-e)}}var w,k=!1,S=-1,_=5,C=-1;function E(){return!!g||!(t.unstable_now()-C<_)}function P(){if(g=!1,k){var e=t.unstable_now();C=e;var n=!0;try{e:{p=!1,x&&(x=!1,b(S),S=-1),h=!0;var l=f;try{t:{for(j(e),m=a(c);null!==m&&!(m.expirationTime>e&&E());){var r=m.callback;if("function"===typeof r){m.callback=null,f=m.priorityLevel;var i=r(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){m.callback=i,j(e),n=!0;break t}m===a(c)&&s(c),j(e)}else s(c);m=a(c)}if(null!==m)n=!0;else{var o=a(u);null!==o&&L(N,o.startTime-e),n=!1}}break e}finally{m=null,f=l,h=!1}n=void 0}}finally{n?w():k=!1}}}if("function"===typeof v)w=function(){v(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,z=T.port2;T.port1.onmessage=P,w=function(){z.postMessage(null)}}else w=function(){y(P,0)};function L(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,l){var r=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?r+l:r:l=r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>r?(e.sortIndex=l,n(u,e),null===a(c)&&e===a(u)&&(x?(b(S),S=-1):x=!0,L(N,l-r))):(e.sortIndex=i,n(c,e),p||h||(p=!0,k||(k=!0,w()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.m=e,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+e+".02f21fa8.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="smart-scheduler-frontend:";n.l=(a,s,l,r)=>{if(e[a])e[a].push(s);else{var i,o;if(void 0!==l)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+l){i=d;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+l),i.src=a),e[a]=[s];var m=(t,n)=>{i.onerror=i.onload=null,clearTimeout(f);var s=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach(e=>e(n)),t)return t(n)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),o&&document.head.appendChild(i)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,a)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var l=new Promise((n,a)=>s=e[t]=[n,a]);a.push(s[2]=l);var r=n.p+n.u(t),i=new Error;n.l(r,a=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var l=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+l+": "+r+")",i.name="ChunkLoadError",i.type=l,i.request=r,s[1](i)}},"chunk-"+t,t)}};var t=(t,a)=>{var s,l,r=a[0],i=a[1],o=a[2],c=0;if(r.some(t=>0!==e[t])){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(o)o(n)}for(t&&t(a);c<r.length;c++)l=r[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0},a=self.webpackChunksmart_scheduler_frontend=self.webpackChunksmart_scheduler_frontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n(43),s=n(391);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function r(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=l(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const d=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],p=(0,a.forwardRef)((e,t)=>{let{color:n="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:d}=e,p=u(e,h);return(0,a.createElement)("svg",c(c(c({ref:t},f),{},{width:s,height:s,stroke:n,strokeWidth:r?24*Number(l)/Number(s):l,className:m("lucide",i)},!o&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"}),p),[...d.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(o)?o:[o]])}),x=["className"],g=(e,t)=>{const n=(0,a.forwardRef)((n,s)=>{let{className:l}=n,r=u(n,x);return(0,a.createElement)(p,c({ref:s,iconNode:t,className:m("lucide-".concat((i=d(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),l)},r));var i});return n.displayName=d(e),n},y=g("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),b=g("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),v=g("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),j=g("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),N=g("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),w=g("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),k=g("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),S=g("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),_=g("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),C=g("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),E=g("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),P=g("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),T=g("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),z=g("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),L=g("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),R=g("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),O=g("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),A=g("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),F=g("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),M=g("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),q=g("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),D=g("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),I=g("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),U=g("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),H=g("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),B=g("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),V=g("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),W=g("computer",[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]]),$=g("presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]),Q=g("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),G=g("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),J=g("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Y=g("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),K=g("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),X=g("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Z=g("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),ee=g("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),te=g("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const ne=class{constructor(){this.baseURL="http://localhost:3000/api",this.token=localStorage.getItem("token"),console.log("APIService initialized with token:",this.token?"exists":"missing")}refreshToken(){return this.token=localStorage.getItem("token"),console.log("Token refreshed:",this.token?"exists":"missing"),this.token}setToken(e){this.token=e,localStorage.setItem("token",e)}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),a=c({headers:c({"Content-Type":"application/json"},this.token&&{Authorization:"Bearer ".concat(this.token)})},t);try{const e=await fetch(n,a);if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(s){throw s}}async getLeaveRequests(){return this.request("/leave-requests")}async createLeaveRequest(e){return this.request("/leave-requests",{method:"POST",body:JSON.stringify(e)})}async updateLeaveRequest(e,t){return this.request("/leave-requests/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async getOptimizationSuggestions(e){return this.request("/optimization/suggestions/".concat(e))}async applyOptimization(e){return this.request("/optimization/apply",{method:"POST",body:JSON.stringify(e)})}async getRealTimeDashboard(){return this.request("/dashboard/real-time")}async getSubstituteFaculty(){return this.request("/substitute-faculty")}async addSubstituteFaculty(e){return this.request("/substitute-faculty",{method:"POST",body:JSON.stringify(e)})}async getRescheduleQueue(){return this.request("/reschedule-queue")}async processRescheduleItem(e,t){return this.request("/reschedule-queue/".concat(e,"/process"),{method:"POST",body:JSON.stringify(t)})}async login(e){return this.request("/auth/login",{method:"POST",body:JSON.stringify(e)})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async getFaculty(){return this.request("/faculty")}async addFaculty(e){return this.request("/faculty",{method:"POST",body:JSON.stringify(e)})}async updateFaculty(e,t){return this.request("/faculty/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteFaculty(e){return this.request("/faculty/".concat(e),{method:"DELETE"})}async getFacultyProfile(){return this.request("/faculty/profile")}async changeFacultyPassword(e,t){return this.request("/faculty/change-password",{method:"POST",body:JSON.stringify({currentPassword:e,newPassword:t})})}async getFacultyLoginStatus(){return this.request("/faculty/login-status")}async bulkRegisterFaculty(){return this.request("/faculty/bulk-register",{method:"POST"})}async resetFacultyPassword(e,t){return this.request("/faculty/".concat(e,"/reset-password"),{method:"POST",body:JSON.stringify({newPassword:t})})}async migrateFacultyAccounts(){return this.request("/admin/migrate-faculty-accounts",{method:"POST"})}async getFacultySubjects(e){return this.request("/faculty/".concat(e,"/subjects"))}async getAvailableSubjects(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t?"?department=".concat(t):"";return this.request("/subjects/available/".concat(e).concat(n))}async assignSubjectToFaculty(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request("/faculty/".concat(e,"/subjects"),{method:"POST",body:JSON.stringify({subject_id:t,is_primary:n})})}async bulkAssignSubjects(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request("/faculty/".concat(e,"/subjects/bulk"),{method:"POST",body:JSON.stringify({subject_ids:t,replace_existing:n})})}async removeSubjectFromFaculty(e,t){return this.request("/faculty/".concat(e,"/subjects/").concat(t),{method:"DELETE"})}async updateFacultySubjectAssignment(e,t,n){return this.request("/faculty/".concat(e,"/subjects/").concat(t),{method:"PUT",body:JSON.stringify({is_primary:n})})}async getFacultyTeachingStats(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2024-25";return this.request("/faculty/".concat(e,"/teaching-stats?academic_year=").concat(t))}async getStudents(){return this.request("/students")}async getStudentsByBatch(e){return this.request("/students/batch/".concat(e))}async addStudent(e){return this.request("/students",{method:"POST",body:JSON.stringify(e)})}async getRooms(){return this.request("/rooms")}async addRoom(e){return this.request("/rooms",{method:"POST",body:JSON.stringify(e)})}async getRoomAvailability(e,t){return this.request("/rooms/availability?date=".concat(e,"&time_slot=").concat(t))}async getSubjects(){return this.request("/subjects")}async addSubject(e){return this.request("/subjects",{method:"POST",body:JSON.stringify(e)})}async getTimetable(e){return this.request("/timetable/batch/".concat(e))}async getFacultyTimetable(e){return this.request("/timetable/faculty/".concat(e))}async generateTimetable(e){return this.request("/timetable/generate",{method:"POST",body:JSON.stringify(e)})}async generateMultiSectionTimetable(e){return this.request("/timetable/generate-multi-section",{method:"POST",body:JSON.stringify(e)})}async getSectionTimetable(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"2024-25";return this.request("/timetable/section/".concat(e,"/").concat(t,"?academic_year=").concat(n))}async getMultiSectionSummary(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2024-25";return this.request("/timetable/multi-section-summary/".concat(e,"?academic_year=").concat(t))}async validateMultiSection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2024-25";return this.request("/timetable/validate-multi-section/".concat(e,"?academic_year=").concat(t))}async exportSectionCSV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"2024-25";return(await fetch("".concat(this.baseURL,"/timetable/export-section/").concat(e,"/").concat(t,"/csv?academic_year=").concat(n),{headers:{Authorization:"Bearer ".concat(this.token)}})).blob()}async deleteMultiSectionTimetable(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"2024-25";return this.request("/timetable/multi-section/".concat(e),{method:"DELETE",body:JSON.stringify({sections:t,academic_year:n})})}async getSwapRequests(){return this.request("/swap-requests")}async updateSwapRequest(e,t){return this.request("/swap-requests/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async validateSwapRequest(e){return this.request("/swap-requests/validate",{method:"POST",body:JSON.stringify(e)})}async createSwapRequest(e){return this.request("/swap-requests/create",{method:"POST",body:JSON.stringify(e)})}async getDetailedSwapRequests(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="/swap-requests/detailed?";return e&&(n+="status=".concat(e,"&")),t&&(n+="faculty_id=".concat(t)),this.request(n)}async approveSwapRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.request("/swap-requests/".concat(e,"/approve"),{method:"POST",body:JSON.stringify({admin_notes:t})})}async rejectSwapRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.request("/swap-requests/".concat(e,"/reject"),{method:"POST",body:JSON.stringify({admin_notes:t})})}async getRoomUtilization(){return this.request("/analytics/room-heatmap")}async getFacultyWorkload(){return this.request("/analytics/faculty-trends")}async getStudentLoad(){return this.request("/analytics/student-load")}async getRealTimeAnalytics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.request("/analytics/real-time".concat(e?"?batch=".concat(e):""))}async uploadFile(e,t){const n=new FormData;n.append("file",t);const a=localStorage.getItem("token"),s="".concat(this.baseURL,"/upload/").concat(e);console.log("=== UPLOAD DEBUG ==="),console.log("URL:",s),console.log("Type:",e),console.log("File:",t.name),console.log("Token exists:",!!a),console.log("Token preview:",a?a.substring(0,30)+"...":"MISSING"),console.log("===================");try{const e=await fetch(s,{method:"POST",headers:c({},this.token&&{Authorization:"Bearer ".concat(a)}),body:n});if(console.log("Response status:",e.status),403===e.status){const t=await e.text();throw console.error("403 Response:",t),new Error("Access denied. Your admin token may have expired. Please logout and login again.")}if(401===e.status)throw new Error("Authentication required. Please logout and login again.");if(!e.ok){let t="Upload failed (".concat(e.status,")");try{t=(await e.json()).error||t}catch(l){t=await e.text()||t}throw new Error(t)}return await e.json()}catch(r){throw console.error("Upload fetch error:",r),r}}},ae=()=>{const[e,t]=(0,a.useState)(null),[n,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{const e=localStorage.getItem("user"),n=localStorage.getItem("token");e&&n&&t(JSON.parse(e)),s(!1)},[]);return{user:e,login:(e,n)=>{t(e),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",n)},logout:()=>{t(null),localStorage.removeItem("user"),localStorage.removeItem("token")},loading:n}},se=(0,a.createContext)();var le=n(579);const re=e=>{let{size:t="md"}=e;return(0,le.jsx)("div",{className:"flex items-center justify-center",children:(0,le.jsx)("div",{className:"animate-spin rounded-full border-b-2 border-indigo-600 ".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t])})})},ie=["children","variant","size","onClick","disabled","className"],oe=e=>{let{children:t,variant:n="primary",size:a="md",onClick:s,disabled:l,className:r=""}=e,i=u(e,ie);return(0,le.jsx)("button",c(c({className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[n]," ").concat({sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[a]," ").concat(l?"opacity-50 cursor-not-allowed":""," ").concat(r),onClick:s,disabled:l},i),{},{children:t}))},ce=["label","error","className"],ue=e=>{let{label:t,error:n,className:a=""}=e,s=u(e,ce);return(0,le.jsxs)("div",{className:"space-y-1",children:[t&&(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t}),(0,le.jsx)("input",c({className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors ".concat(n?"border-red-500":""," ").concat(a)},s)),n&&(0,le.jsx)("p",{className:"text-sm text-red-600",children:n})]})},de=e=>{let{children:t,className:n=""}=e;return(0,le.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 ".concat(n),children:t})},me=e=>{let{isOpen:t,onClose:n,title:a,children:s}=e;return t?(0,le.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,le.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,le.jsx)("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:n}),(0,le.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,le.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:a}),(0,le.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,le.jsx)(k,{className:"w-6 h-6"})})]}),s]})]})}):null},fe=()=>{const{user:e}=ae(),[t,n]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[o,c]=(0,a.useState)("CS2023"),[u,d]=(0,a.useState)(!1),[m,f]=(0,a.useState)(null),h=(0,a.useMemo)(()=>new ne,[]),p=(0,a.useCallback)(async()=>{try{const e=await h.getRealTimeDashboard();console.log("Real-time data loaded:",e),n(e)}catch(e){console.error("Failed to load real-time data:",e),n({metrics:[{metric_type:"leave_requests",pending_count:0,active_count:0,total_count:0},{metric_type:"reschedule_queue",pending_count:0,active_count:0,total_count:0},{metric_type:"conflicts",pending_count:0,active_count:0,total_count:0}],conflicts:[],recentChanges:[]})}finally{i(!1)}},[h]),x=(0,a.useCallback)(async()=>{if("admin"===(null===e||void 0===e?void 0:e.role))try{console.log("Loading optimization suggestions for batch:",o);const e=await h.getOptimizationSuggestions(o);console.log("Optimization suggestions loaded:",e),l(e||[])}catch(t){console.error("Failed to load optimization suggestions:",t),l([])}},[h,o,e]);(0,a.useEffect)(()=>{p(),"admin"===(null===e||void 0===e?void 0:e.role)&&x();const t=setInterval(()=>{m||p()},3e4);return()=>clearInterval(t)},[p,x,e,m]);const g=async e=>{if(window.confirm("Are you sure you want to run ".concat(e," optimization? This will modify the timetable."))){f(e);try{console.log("Starting optimization:",e);const t=await h.applyOptimization({batch:o,academic_year:"2024-25",optimization_type:e});console.log("Optimization result:",t),alert("\u2705 Optimization completed!\n\n"+"Score: ".concat(t.stats.optimization_score,"%\n")+"Improvements: ".concat(t.stats.improvements_made,"\n")+"Gaps Reduced: ".concat(t.stats.gaps_reduced,"\n")+"Utilization Improved: ".concat(t.stats.utilization_improved,"%")),await p(),await x(),d(!1)}catch(t){console.error("Optimization failed:",t),alert("\u274c Optimization failed: "+t.message)}finally{f(null)}}};return r?(0,le.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,le.jsxs)("div",{className:"text-center",children:[(0,le.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,le.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Enhanced Smart Dashboard"}),(0,le.jsx)("p",{className:"text-gray-600",children:"Real-time insights and dynamic optimization"})]}),(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-50 rounded-lg",children:[(0,le.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,le.jsx)("span",{className:"text-sm text-green-700 font-medium",children:"Live"})]}),(0,le.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"CS2023",children:"CS 2023"}),(0,le.jsx)("option",{value:"MATH2023",children:"Math 2023"}),(0,le.jsx)("option",{value:"PHY2023",children:"Physics 2023"})]})]})]}),(0,le.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:null!==t&&void 0!==t&&t.metrics&&t.metrics.length>0?t.metrics.map((e,t)=>(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-600 capitalize",children:e.metric_type.replace(/_/g," ")}),(0,le.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,le.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:e.pending_count||0}),e.active_count>0&&(0,le.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.active_count," active"]})]})]}),(0,le.jsxs)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center ".concat(e.pending_count>0?"bg-orange-100":"bg-green-100"),children:["leave_requests"===e.metric_type&&(0,le.jsx)(y,{className:"w-6 h-6 text-orange-600"}),"reschedule_queue"===e.metric_type&&(0,le.jsx)(b,{className:"w-6 h-6 text-blue-600"}),"conflicts"===e.metric_type&&(0,le.jsx)(v,{className:"w-6 h-6 text-red-600"})]})]})},t)):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Leave Requests"}),(0,le.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"0"})]}),(0,le.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,le.jsx)(y,{className:"w-6 h-6 text-green-600"})})]})}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Reschedule Queue"}),(0,le.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"0"})]}),(0,le.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,le.jsx)(b,{className:"w-6 h-6 text-blue-600"})})]})}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Conflicts"}),(0,le.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"0"})]}),(0,le.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,le.jsx)(v,{className:"w-6 h-6 text-green-600"})})]})})]})}),"admin"===(null===e||void 0===e?void 0:e.role)&&(0,le.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Smart Optimization"}),(0,le.jsx)("button",{onClick:()=>d(!0),disabled:m,className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(m?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:m?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2 animate-spin"}),"Optimizing..."]}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(j,{className:"w-4 h-4 mr-2"}),"Run Optimization"]})})]}),(0,le.jsx)("div",{className:"space-y-4",children:s&&s.length>0?s.map((e,t)=>{var n,a,s,l;return(0,le.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,le.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,le.jsx)(v,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsx)("h3",{className:"font-medium text-blue-900",children:(null===(n=e.details)||void 0===n?void 0:n.description)||"Optimization available"}),(0,le.jsxs)("p",{className:"text-sm text-blue-700 mt-1",children:["Priority: ",(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("high"===(null===(a=e.details)||void 0===a?void 0:a.priority)?"bg-red-100 text-red-800":"medium"===(null===(s=e.details)||void 0===s?void 0:s.priority)?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:(null===(l=e.details)||void 0===l?void 0:l.priority)||"low"})]})]})]})},t)}):(0,le.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,le.jsx)(N,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),(0,le.jsx)("p",{className:"font-medium",children:"No optimization suggestions"}),(0,le.jsx)("p",{className:"text-sm mt-1",children:"Your timetable is well optimized!"})]})})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Changes"}),(0,le.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:null!==t&&void 0!==t&&t.recentChanges&&t.recentChanges.length>0?t.recentChanges.map((e,t)=>(0,le.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,le.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 ".concat("rescheduled"===e.change_type?"bg-orange-500":"modified"===e.change_type?"bg-blue-500":"cancelled"===e.change_type?"bg-red-500":"bg-green-500")}),(0,le.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.subject_name||"System Update"}),(0,le.jsxs)("p",{className:"text-xs text-gray-500",children:[e.change_type," - ",e.day_of_week," ",e.time_slot]}),(0,le.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleString()})]}),(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("rescheduled"===e.change_type?"bg-orange-100 text-orange-800":"modified"===e.change_type?"bg-blue-100 text-blue-800":"cancelled"===e.change_type?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.change_type})]},t)):(0,le.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,le.jsx)(w,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,le.jsx)("p",{className:"text-sm",children:"No recent changes"})]})})]})]}),(null===t||void 0===t?void 0:t.conflicts)&&t.conflicts.length>0&&(0,le.jsxs)(de,{className:"p-6 border-l-4 border-red-500",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,le.jsx)(v,{className:"w-6 h-6 text-red-600"}),(0,le.jsx)("h2",{className:"text-lg font-semibold text-red-900",children:"Active Conflicts"})]}),(0,le.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.conflicts.map((e,t)=>(0,le.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("span",{className:"font-medium text-red-900 capitalize",children:e.conflict_type.replace(/_/g," ")}),(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:e.count})]}),(0,le.jsxs)("p",{className:"text-sm text-red-700 mt-1",children:["Severity: ",e.severity]})]},t))})]}),u&&(0,le.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,le.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,le.jsx)("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>d(!1)}),(0,le.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,le.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Choose Optimization Type"}),(0,le.jsx)("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:(0,le.jsx)(k,{className:"w-6 h-6"})})]}),(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)("button",{onClick:()=>g("minimize_gaps"),disabled:m,className:"w-full p-4 text-left border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsx)(w,{className:"w-6 h-6 text-blue-600"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h4",{className:"font-medium text-gray-900",children:"Minimize Gaps"}),(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Reduce empty periods between classes"})]})]})}),(0,le.jsx)("button",{onClick:()=>g("maximize_utilization"),disabled:m,className:"w-full p-4 text-left border border-gray-200 rounded-lg hover:border-green-300 hover:bg-green-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsx)(j,{className:"w-6 h-6 text-green-600"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h4",{className:"font-medium text-gray-900",children:"Maximize Utilization"}),(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Optimize room and faculty usage"})]})]})}),(0,le.jsx)("button",{onClick:()=>g("balanced"),disabled:m,className:"w-full p-4 text-left border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsx)(S,{className:"w-6 h-6 text-purple-600"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h4",{className:"font-medium text-gray-900",children:"Balanced Optimization"}),(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Balance all factors for optimal schedule"})]})]})})]}),(0,le.jsx)("div",{className:"flex justify-end space-x-3 mt-6",children:(0,le.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})})]})]})})]})},he=()=>{const{login:e}=ae(),t=(0,a.useMemo)(()=>new ne,[]),[n,s]=(0,a.useState)({username:"",password:"",role:"student"}),[l,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(""),u=async a=>{a.preventDefault(),r(!0),o("");try{const a=await t.login(n);e(a.user,a.token)}catch(s){o("Invalid credentials. Please try again.")}finally{r(!1)}};return(0,le.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,le.jsxs)(de,{className:"p-8 w-full max-w-md",children:[(0,le.jsxs)("div",{className:"text-center mb-8",children:[(0,le.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-indigo-100 rounded-full mb-4",children:(0,le.jsx)(y,{className:"w-8 h-8 text-indigo-600"})}),(0,le.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Smart Scheduler"}),(0,le.jsx)("p",{className:"text-gray-600 mt-2",children:"Classroom Management System"})]}),(0,le.jsxs)("div",{onSubmit:u,className:"space-y-6",children:[(0,le.jsx)(ue,{label:"Username",type:"text",placeholder:"Enter your username",value:n.username,onChange:e=>s(c(c({},n),{},{username:e.target.value})),required:!0}),(0,le.jsx)(ue,{label:"Password",type:"password",placeholder:"Enter your password",value:n.password,onChange:e=>s(c(c({},n),{},{password:e.target.value})),required:!0}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),(0,le.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:n.role,onChange:e=>s(c(c({},n),{},{role:e.target.value})),children:[(0,le.jsx)("option",{value:"student",children:"Student"}),(0,le.jsx)("option",{value:"faculty",children:"Faculty"}),(0,le.jsx)("option",{value:"admin",children:"Administrator"})]})]}),i&&(0,le.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,le.jsx)("p",{className:"text-sm text-red-600",children:i})}),(0,le.jsx)(oe,{className:"w-full",onClick:u,disabled:l,children:l?"Signing in...":"Sign In"})]})]})})},pe=()=>{const[e,t]=(0,a.useState)(null),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[u,d]=(0,a.useState)(""),[m,f]=(0,a.useState)(!1),h=(0,a.useMemo)(()=>new ne,[]),p=(0,a.useCallback)(async()=>{try{const e=await h.request("/faculty/profile");t(e)}catch(e){console.error("Failed to load profile:",e)}finally{s(!1)}},[h]);(0,a.useEffect)(()=>{p()},[p]);return n?(0,le.jsx)(re,{size:"lg"}):e?(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,le.jsx)("div",{className:"w-24 h-24 bg-indigo-100 rounded-full flex items-center justify-center",children:(0,le.jsx)(_,{className:"w-12 h-12 text-indigo-600"})}),(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),(0,le.jsx)("p",{className:"text-gray-600",children:e.designation||"Faculty"}),(0,le.jsxs)("p",{className:"text-gray-600",children:[e.department," Department"]}),(0,le.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,le.jsx)("p",{className:"font-medium text-gray-900",children:e.email})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-500",children:"Max Hours/Week"}),(0,le.jsxs)("p",{className:"font-medium text-gray-900",children:[e.max_hours_per_week," hours"]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-500",children:"Current Workload"}),(0,le.jsxs)("p",{className:"font-medium text-gray-900",children:[e.weekly_hours?e.weekly_hours:"0"," hours"]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-500",children:"Total Classes"}),(0,le.jsx)("p",{className:"font-medium text-gray-900",children:e.total_classes||0})]})]})]})]})}),e.subjects&&e.subjects.length>0&&(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Subjects Teaching"}),(0,le.jsx)("div",{className:"flex flex-wrap gap-2",children:e.subjects.map((e,t)=>(0,le.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:e},t))})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Security"}),(0,le.jsxs)(oe,{variant:"secondary",onClick:()=>r(!l),children:[(0,le.jsx)(C,{className:"w-4 h-4 mr-2"}),"Change Password"]})]}),l&&(0,le.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d(""),f(!1),i.newPassword===i.confirmPassword)if(i.newPassword.length<6)d("Password must be at least 6 characters");else try{await h.request("/faculty/change-password",{method:"POST",body:JSON.stringify({currentPassword:i.currentPassword,newPassword:i.newPassword})}),f(!0),o({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{r(!1),f(!1)},2e3)}catch(t){d(t.message||"Failed to change password")}else d("New passwords do not match")},className:"space-y-4 mt-4",children:[(0,le.jsx)(ue,{label:"Current Password",type:"password",value:i.currentPassword,onChange:e=>o(c(c({},i),{},{currentPassword:e.target.value})),required:!0}),(0,le.jsx)(ue,{label:"New Password",type:"password",value:i.newPassword,onChange:e=>o(c(c({},i),{},{newPassword:e.target.value})),required:!0}),(0,le.jsx)(ue,{label:"Confirm New Password",type:"password",value:i.confirmPassword,onChange:e=>o(c(c({},i),{},{confirmPassword:e.target.value})),required:!0}),u&&(0,le.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-2",children:[(0,le.jsx)(v,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,le.jsx)("p",{className:"text-sm text-red-600",children:u})]}),m&&(0,le.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg flex items-start space-x-2",children:[(0,le.jsx)(N,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),(0,le.jsx)("p",{className:"text-sm text-green-600",children:"Password changed successfully!"})]}),(0,le.jsxs)("div",{className:"flex space-x-3",children:[(0,le.jsx)(oe,{type:"submit",children:"Save New Password"}),(0,le.jsx)(oe,{type:"button",variant:"secondary",onClick:()=>{r(!1),o({currentPassword:"",newPassword:"",confirmPassword:""}),d("")},children:"Cancel"})]})]}),!l&&(0,le.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,le.jsxs)("p",{className:"text-sm text-gray-600",children:["Last password change: ",(0,le.jsx)("span",{className:"font-medium",children:"Never changed"})]}),(0,le.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"For security, we recommend changing your password regularly"})]})]})]}):(0,le.jsx)("div",{className:"text-center py-8",children:(0,le.jsx)("p",{className:"text-gray-500",children:"Profile not found"})})},xe=()=>{const[e,t]=(0,a.useState)(null),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(null),[d,m]=(0,a.useState)(null),f=(0,a.useMemo)(()=>new ne,[]),h=(0,a.useCallback)(async()=>{try{const e=await f.request("/faculty/login-status");t(e)}catch(e){console.error("Failed to load login status:",e)}finally{s(!1)}},[f]);(0,a.useEffect)(()=>{h()},[h]);return n?(0,le.jsx)(re,{size:"lg"}):(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Login Management"}),(0,le.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage faculty user accounts and credentials"})]}),(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsxs)(oe,{onClick:async()=>{if(window.confirm("This will create user accounts for ALL faculty members who don't have one.\n\nDefault password: faculty123\n\nContinue?")){s(!0);try{const e=await f.request("/admin/migrate-faculty-accounts",{method:"POST"});alert("Migration completed!\n\nCreated: ".concat(e.summary.accounts_created,"\nExisting: ").concat(e.summary.already_existed,"\nFailed: ").concat(e.summary.failed)),await h()}catch(e){alert("Migration failed: "+e.message)}finally{s(!1)}}},variant:"secondary",children:[(0,le.jsx)(_,{className:"w-4 h-4 mr-2"}),"Run Migration"]}),(0,le.jsxs)(oe,{onClick:()=>r(!0),children:[(0,le.jsx)(N,{className:"w-4 h-4 mr-2"}),"Bulk Register"]})]})]}),e&&(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Faculty"}),(0,le.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.summary.total_faculty})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"With Login"}),(0,le.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.summary.with_login})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Without Login"}),(0,le.jsx)("p",{className:"text-2xl font-bold text-red-600",children:e.summary.without_login})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Never Logged In"}),(0,le.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:e.summary.never_logged_in})]})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Faculty Accounts"}),(0,le.jsx)("div",{className:"overflow-x-auto",children:(0,le.jsxs)("table",{className:"w-full",children:[(0,le.jsx)("thead",{className:"bg-gray-50",children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,le.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),(0,le.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),(0,le.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Login Status"}),(0,le.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Last Login"}),(0,le.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,le.jsx)("tbody",{className:"divide-y divide-gray-200",children:e&&e.faculty.map(e=>(0,le.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,le.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.name}),(0,le.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.email}),(0,le.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.department}),(0,le.jsx)("td",{className:"px-4 py-3 text-center",children:e.has_login?(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}):(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"No Account"})}),(0,le.jsx)("td",{className:"px-4 py-3 text-sm text-center text-gray-600",children:e.last_login?new Date(e.last_login).toLocaleDateString():e.has_login?"Never":"-"}),(0,le.jsx)("td",{className:"px-4 py-3 text-center",children:e.has_login&&(0,le.jsx)(oe,{size:"sm",variant:"secondary",onClick:()=>(async(e,t)=>{if(window.confirm("Reset password for ".concat(t,"?\nNew password will be: faculty123"))){m(e);try{const t=await f.request("/faculty/".concat(e,"/reset-password"),{method:"POST",body:JSON.stringify({newPassword:"faculty123"})});alert("Password reset successfully for ".concat(t.facultyName,"\nNew password: ").concat(t.newPassword)),await h()}catch(n){alert("Failed to reset password: "+n.message)}finally{m(null)}}})(e.id,e.name),disabled:d===e.id,children:d===e.id?"Resetting...":"Reset Password"})})]},e.id))})]})})]}),(0,le.jsx)(me,{isOpen:l,onClose:()=>{r(!1),u(null)},title:"Bulk Register Faculty",children:c?(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsx)(N,{className:"w-8 h-8 text-green-600"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Bulk Registration Complete"}),(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"User accounts have been created"})]})]}),(0,le.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,le.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,le.jsx)("p",{className:"text-2xl font-bold text-green-600",children:c.results.created}),(0,le.jsx)("p",{className:"text-xs text-green-700",children:"Created"})]}),(0,le.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,le.jsx)("p",{className:"text-2xl font-bold text-gray-600",children:c.results.total}),(0,le.jsx)("p",{className:"text-xs text-gray-700",children:"Total"})]}),(0,le.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[(0,le.jsx)("p",{className:"text-2xl font-bold text-red-600",children:c.results.failed}),(0,le.jsx)("p",{className:"text-xs text-red-700",children:"Failed"})]})]}),c.results.errors&&c.results.errors.length>0&&(0,le.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-h-40 overflow-y-auto",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-red-900 mb-2",children:"Errors:"}),(0,le.jsx)("div",{className:"space-y-1",children:c.results.errors.map((e,t)=>(0,le.jsxs)("p",{className:"text-xs text-red-700",children:["\u2022 ",e.faculty," (",e.email,"): ",e.error]},t))})]}),(0,le.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,le.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,le.jsx)("strong",{children:"Default Password:"})," ",(0,le.jsx)("code",{className:"bg-blue-100 px-2 py-1 rounded",children:c.defaultPassword})]}),(0,le.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:c.note})]}),(0,le.jsx)("div",{className:"flex justify-end",children:(0,le.jsx)(oe,{onClick:()=>{r(!1),u(null),h()},children:"Close"})})]}):(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"This will create user accounts for all faculty members who don't have one yet."}),(0,le.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,le.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,le.jsx)(v,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-yellow-900",children:"Important"}),(0,le.jsxs)("p",{className:"text-xs text-yellow-800 mt-1",children:["All accounts will be created with default password: ",(0,le.jsx)("code",{className:"bg-yellow-100 px-1 rounded",children:"faculty123"})]}),(0,le.jsx)("p",{className:"text-xs text-yellow-800 mt-1",children:"Faculty should change their password on first login."})]})]})}),e&&(0,le.jsx)("div",{className:"bg-blue-50 rounded-lg p-4",children:(0,le.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,le.jsx)("strong",{children:"Faculty without accounts:"})," ",e.summary.without_login]})}),(0,le.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,le.jsx)(oe,{variant:"secondary",onClick:()=>r(!1),children:"Cancel"}),(0,le.jsx)(oe,{onClick:async()=>{o(!0);try{const e=await f.request("/faculty/bulk-register",{method:"POST"});u(e),await h()}catch(e){alert("Bulk registration failed: "+e.message)}finally{o(!1)}},disabled:i,children:i?"Registering...":"Register All"})]})]})})]})},ge=e=>{let{activeTab:t,setActiveTab:n}=e;const{user:s,logout:l}=ae(),[r,i]=(0,a.useState)(!0),o=[{id:"dashboard",label:"Smart Dashboard",icon:E},{id:"leave",label:"Leave Management",icon:y},{id:"multi-section",label:"Multi-Section",icon:P},{id:"multi-section-import",label:"Import Data",icon:T},{id:"timetable",label:"Timetable",icon:y},{id:"faculty-management",label:"Faculty Accounts",icon:P},{id:"optimization",label:"Optimization",icon:j},{id:"faculty-subjects",label:"Faculty Subjects",icon:z},{id:"swap-request",label:"Swap Request",icon:y},{id:"faculty",label:"Faculty",icon:P},{id:"students",label:"Students",icon:L},{id:"rooms",label:"Rooms",icon:R},{id:"subjects",label:"Subjects",icon:z},{id:"requests",label:"Requests",icon:O},{id:"analytics",label:"Analytics",icon:S},{id:"settings",label:"Settings",icon:A},{id:"faculty-profile",label:"My Profile",icon:_},{id:"my-timetable",label:"My Timetable",icon:y}];return(0,le.jsxs)("div",{className:"bg-white shadow-lg transition-all duration-300 ".concat(r?"w-64":"w-16"," min-h-screen flex flex-col"),children:[(0,le.jsx)("div",{className:"p-4 border-b",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-3 ".concat(!r&&"justify-center"),children:[(0,le.jsx)("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:(0,le.jsx)(y,{className:"w-5 h-5 text-white"})}),r&&(0,le.jsx)("span",{className:"font-semibold text-gray-900",children:"Smart Scheduler"})]}),(0,le.jsx)("button",{onClick:()=>i(!r),className:"p-1 rounded-lg hover:bg-gray-100",children:r?(0,le.jsx)(F,{className:"w-4 h-4"}):(0,le.jsx)(M,{className:"w-4 h-4"})})]})}),(0,le.jsx)("nav",{className:"flex-1 p-4",children:(0,le.jsx)("div",{className:"space-y-2",children:(()=>{switch(null===s||void 0===s?void 0:s.role){case"student":return o.filter(e=>["dashboard","timetable"].includes(e.id));case"faculty":return o.filter(e=>["dashboard","timetable","multi-section","requests","settings","faculty-profile","my-timetable","swap-request","leave"].includes(e.id));case"admin":return o.slice(0,16);default:return[]}})().map(e=>{const a=e.icon;return(0,le.jsxs)("button",{onClick:()=>n(e.id),className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ".concat(t===e.id?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"," ").concat(!r&&"justify-center"),children:[(0,le.jsx)(a,{className:"w-5 h-5"}),r&&(0,le.jsx)("span",{children:e.label})]},e.id)})})}),(0,le.jsxs)("div",{className:"p-4 border-t",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-3 mb-4 ".concat(!r&&"justify-center"),children:[(0,le.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:(0,le.jsx)(_,{className:"w-4 h-4 text-gray-600"})}),r&&(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===s||void 0===s?void 0:s.username}),(0,le.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:null===s||void 0===s?void 0:s.role})]})]}),(0,le.jsxs)(oe,{variant:"ghost",className:"w-full ".concat(!r&&"px-2"),onClick:l,children:[(0,le.jsx)(q,{className:"w-5 h-5"}),r&&(0,le.jsx)("span",{className:"ml-3",children:"Logout"})]})]})]})},ye=()=>{const{user:e}=ae(),[t,n]=(0,a.useState)({totalFaculty:0,totalStudents:0,totalRooms:0,totalSubjects:0,activeTimetables:0,pendingSwapRequests:0,pendingLeaveRequests:0,roomUtilization:0}),[s,l]=(0,a.useState)(!0),[r,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)("CS2023"),[m,f]=(0,a.useState)(!1),h=(0,a.useMemo)(()=>new ne,[]),p=(0,a.useCallback)(async()=>{try{n({totalFaculty:25,totalStudents:450,totalRooms:20,totalSubjects:35,activeTimetables:12,pendingSwapRequests:5,pendingLeaveRequests:3,roomUtilization:75.5})}catch(e){console.error("Failed to load dashboard data:",e)}finally{l(!1)}},[]);(0,a.useEffect)(()=>{p()},[p]);const x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"balanced";f(!0);try{const t={department:"Computer Science",semester:3,batch:u,algorithm:e},n=await h.generateTimetable(t);alert("Timetable generated successfully using ".concat(e," algorithm! ").concat(n.classesGenerated||0," classes created.")),i(!1)}catch(t){console.error("Failed to generate timetable:",t),alert("Failed to generate timetable. Error: "+(t.message||"Please check your backend server."))}finally{f(!1)}};if(s)return(0,le.jsx)(re,{size:"lg"});const g=[{label:"Faculty",value:t.totalFaculty,icon:P,color:"blue"},{label:"Students",value:t.totalStudents,icon:L,color:"green"},{label:"Rooms",value:t.totalRooms,icon:R,color:"purple"},{label:"Subjects",value:t.totalSubjects,icon:z,color:"orange"}];return(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",null===e||void 0===e?void 0:e.username]}),(0,le.jsx)("div",{className:"text-sm text-gray-500",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,le.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map(e=>{const t=e.icon;return(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,le.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]}),(0,le.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center ".concat({blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",orange:"bg-orange-100 text-orange-600"}[e.color]),children:(0,le.jsx)(t,{className:"w-6 h-6"})})]})},e.label)})}),"admin"===(null===e||void 0===e?void 0:e.role)&&(0,le.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,le.jsxs)("div",{className:"space-y-3",children:[(0,le.jsxs)(oe,{className:"w-full justify-start",onClick:()=>i(!0),children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"Generate Timetable"]}),(0,le.jsxs)(oe,{variant:"secondary",className:"w-full justify-start",onClick:()=>c(!0),children:[(0,le.jsx)(T,{className:"w-4 h-4 mr-2"}),"Import Data"]}),(0,le.jsxs)(oe,{variant:"secondary",className:"w-full justify-start",onClick:()=>{const e=[["Room Name","Type","Capacity","Utilization %"],["Room 101","Classroom","50","85"],["Lab 201","Lab","30","92"],["Room 301","Classroom","60","65"]].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="room_utilization_report_".concat((new Date).toISOString().split("T")[0],".csv"),a.click(),window.URL.revokeObjectURL(n),alert("Report exported successfully!")},children:[(0,le.jsx)(I,{className:"w-4 h-4 mr-2"}),"Export Reports"]})]})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Analytics"}),(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("span",{className:"text-sm text-gray-600",children:"Room Utilization"}),(0,le.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[t.roomUtilization,"%"]})]}),(0,le.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,le.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-3 rounded-full flex items-center justify-end pr-2",style:{width:"".concat(t.roomUtilization,"%")},children:(0,le.jsxs)("span",{className:"text-xs text-white font-medium",children:[t.roomUtilization,"%"]})})}),(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("span",{className:"text-sm text-gray-600",children:"Faculty Workload"}),(0,le.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"82%"})]}),(0,le.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,le.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 h-3 rounded-full flex items-center justify-end pr-2",style:{width:"82%"},children:(0,le.jsx)("span",{className:"text-xs text-white font-medium",children:"82%"})})}),(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("span",{className:"text-sm text-gray-600",children:"Pending Requests"}),(0,le.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.pendingSwapRequests+t.pendingLeaveRequests})]}),(0,le.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,le.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,le.jsx)("div",{className:"text-lg font-bold text-blue-600",children:t.activeTimetables}),(0,le.jsx)("div",{className:"text-xs text-blue-500",children:"Active Schedules"})]}),(0,le.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,le.jsx)("div",{className:"text-lg font-bold text-green-600",children:"98%"}),(0,le.jsx)("div",{className:"text-xs text-green-500",children:"System Uptime"})]})]})]})]})]}),(0,le.jsx)(me,{isOpen:r,onClose:()=>i(!1),title:"Generate Timetable",children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch"}),(0,le.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"CS2023",children:"CS 2023"}),(0,le.jsx)("option",{value:"MATH2023",children:"Math 2023"}),(0,le.jsx)("option",{value:"PHY2023",children:"Physics 2023"})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Generation Algorithm"}),(0,le.jsxs)("div",{className:"space-y-3",children:[(0,le.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-indigo-300 cursor-pointer",onClick:()=>x("efficiency"),children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"font-medium text-gray-900",children:"Efficiency Optimized"}),(0,le.jsx)("p",{className:"text-sm text-gray-500",children:"Minimizes gaps between classes and maximizes consecutive scheduling"})]}),(0,le.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,le.jsx)(w,{className:"w-4 h-4 text-blue-600"})})]})}),(0,le.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-green-300 cursor-pointer",onClick:()=>x("utilization"),children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"font-medium text-gray-900",children:"Room Utilization"}),(0,le.jsx)("p",{className:"text-sm text-gray-500",children:"Maximizes room usage and minimizes conflicts"})]}),(0,le.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,le.jsx)(R,{className:"w-4 h-4 text-green-600"})})]})}),(0,le.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-orange-300 cursor-pointer",onClick:()=>x("workload"),children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"font-medium text-gray-900",children:"Balanced Workload"}),(0,le.jsx)("p",{className:"text-sm text-gray-500",children:"Evenly distributes faculty teaching hours across the week"})]}),(0,le.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:(0,le.jsx)(P,{className:"w-4 h-4 text-orange-600"})})]})}),(0,le.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-300 cursor-pointer",onClick:()=>x("elective"),children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"font-medium text-gray-900",children:"Open Elective Friendly"}),(0,le.jsx)("p",{className:"text-sm text-gray-500",children:"Reserves time slots for cross-department electives"})]}),(0,le.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,le.jsx)(z,{className:"w-4 h-4 text-purple-600"})})]})})]})]}),(0,le.jsx)("div",{className:"flex justify-end mt-6",children:(0,le.jsx)(oe,{variant:"secondary",onClick:()=>i(!1),children:"Cancel"})})]})}),(0,le.jsx)(me,{isOpen:o,onClose:()=>c(!1),title:"Import Data",children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Upload CSV or Excel files to import faculty, students, rooms, or subjects data."}),(0,le.jsx)("div",{className:"space-y-3",children:["faculty","students","rooms","subjects"].map(e=>(0,le.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,le.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:e}),(0,le.jsxs)("label",{className:"cursor-pointer",children:[(0,le.jsx)("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:t=>{const n=t.target.files[0];n&&(async(e,t)=>{try{const n=await h.uploadFile(t,e);alert("".concat(t," data imported successfully! ").concat(n.recordsInserted||0," records processed.")),c(!1)}catch(n){console.error("Failed to import data:",n),alert("Failed to import data. Please check your file format and backend server.")}})(n,e)},className:"hidden"}),(0,le.jsxs)(oe,{size:"sm",variant:"secondary",children:[(0,le.jsx)(T,{className:"w-3 h-3 mr-1"}),"Upload"]})]})]},e))}),(0,le.jsx)("div",{className:"flex justify-end mt-6",children:(0,le.jsx)(oe,{variant:"secondary",onClick:()=>c(!1),children:"Close"})})]})})]})},be=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),[u,d]=(0,a.useState)(null),[m,f]=(0,a.useState)({name:"",email:"",department:"",subjects:[]}),h=(0,a.useMemo)(()=>new ne,[]),p=(0,a.useCallback)(async()=>{try{const e=await h.getFaculty();t(e)}catch(e){console.error("Failed to load faculty:",e)}finally{s(!1)}},[h]);(0,a.useEffect)(()=>{p()},[p]);const x=e.filter(e=>{var t,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.department)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase()))});return n?(0,le.jsx)(re,{size:"lg"}):(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Management"}),(0,le.jsxs)(oe,{onClick:()=>o(!0),children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"Add Faculty"]})]}),(0,le.jsxs)(de,{children:[(0,le.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,le.jsxs)("div",{className:"relative",children:[(0,le.jsx)(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,le.jsx)("input",{type:"text",placeholder:"Search faculty...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:l,onChange:e=>r(e.target.value)})]})}),(0,le.jsx)("div",{className:"overflow-x-auto",children:(0,le.jsxs)("table",{className:"w-full",children:[(0,le.jsx)("thead",{className:"bg-gray-50",children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Faculty"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Department"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Email"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Subjects"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,le.jsx)("tbody",{className:"divide-y divide-gray-200",children:x.map(e=>{var t;return(0,le.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,le.jsx)("td",{className:"px-6 py-4",children:(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:(0,le.jsx)(_,{className:"w-5 h-5 text-gray-600"})}),(0,le.jsx)("div",{className:"ml-4",children:(0,le.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,le.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.department}),(0,le.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.email}),(0,le.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:(null===(t=e.subjects)||void 0===t?void 0:t.filter(e=>e).join(", "))||"No subjects assigned"}),(0,le.jsx)("td",{className:"px-6 py-4",children:(0,le.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,le.jsx)("button",{onClick:()=>{d(e),f({name:e.name,email:e.email,department:e.department,subjects:e.subjects||[]}),o(!0)},className:"text-indigo-600 hover:text-indigo-900",children:(0,le.jsx)(H,{className:"w-4 h-4"})}),(0,le.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this faculty member?"))try{await h.deleteFaculty(e),p()}catch(t){console.error("Failed to delete faculty:",t)}})(e.id),className:"text-red-600 hover:text-red-900",children:(0,le.jsx)(B,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]}),(0,le.jsx)(me,{isOpen:i,onClose:()=>{o(!1),d(null),f({name:"",email:"",department:"",subjects:[]})},title:u?"Edit Faculty":"Add Faculty",children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)(ue,{label:"Name",value:m.name,onChange:e=>f(c(c({},m),{},{name:e.target.value}))}),(0,le.jsx)(ue,{label:"Email",type:"email",value:m.email,onChange:e=>f(c(c({},m),{},{email:e.target.value}))}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,le.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:m.department,onChange:e=>f(c(c({},m),{},{department:e.target.value})),children:[(0,le.jsx)("option",{value:"",children:"Select Department"}),(0,le.jsx)("option",{value:"Computer Science",children:"Computer Science"}),(0,le.jsx)("option",{value:"Mathematics",children:"Mathematics"}),(0,le.jsx)("option",{value:"Physics",children:"Physics"}),(0,le.jsx)("option",{value:"Chemistry",children:"Chemistry"})]})]}),(0,le.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,le.jsxs)(oe,{onClick:async()=>{try{u?await h.updateFaculty(u.id,m):await h.addFaculty(m),p(),o(!1),d(null),f({name:"",email:"",department:"",subjects:[]})}catch(e){console.error("Failed to save faculty:",e)}},children:[(0,le.jsx)(V,{className:"w-4 h-4 mr-2"}),u?"Update":"Add"," Faculty"]}),(0,le.jsx)(oe,{variant:"secondary",onClick:()=>o(!1),children:"Cancel"})]})]})})]})},ve=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)(""),[i,o]=(0,a.useState)("all"),[u,d]=(0,a.useState)(!1),[m,f]=(0,a.useState)({name:"",email:"",batch:"",semester:1,department:""}),h=(0,a.useMemo)(()=>new ne,[]),p=(0,a.useCallback)(async()=>{try{const e=await h.getStudents();t(e)}catch(e){console.error("Failed to load students:",e)}finally{s(!1)}},[h]);(0,a.useEffect)(()=>{p()},[p]);const x=e.filter(e=>{var t,n;const a=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase())),s="all"===i||e.batch===i;return a&&s});return n?(0,le.jsx)(re,{size:"lg"}):(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Students Management"}),(0,le.jsxs)(oe,{onClick:()=>d(!0),children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"Add Student"]})]}),(0,le.jsxs)(de,{children:[(0,le.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,le.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,le.jsxs)("div",{className:"relative flex-1",children:[(0,le.jsx)(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,le.jsx)("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:l,onChange:e=>r(e.target.value)})]}),(0,le.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Batches"}),(0,le.jsx)("option",{value:"CS2023",children:"CS 2023"}),(0,le.jsx)("option",{value:"MATH2023",children:"Math 2023"}),(0,le.jsx)("option",{value:"PHY2023",children:"Physics 2023"})]})]})}),(0,le.jsx)("div",{className:"overflow-x-auto",children:(0,le.jsxs)("table",{className:"w-full",children:[(0,le.jsx)("thead",{className:"bg-gray-50",children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Student"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Batch"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Semester"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Department"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,le.jsx)("tbody",{className:"divide-y divide-gray-200",children:x.map(e=>(0,le.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,le.jsx)("td",{className:"px-6 py-4",children:(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,le.jsx)(L,{className:"w-5 h-5 text-blue-600"})}),(0,le.jsxs)("div",{className:"ml-4",children:[(0,le.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,le.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,le.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.batch}),(0,le.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.semester}),(0,le.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.department}),(0,le.jsx)("td",{className:"px-6 py-4",children:(0,le.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,le.jsx)("button",{className:"text-indigo-600 hover:text-indigo-900",children:(0,le.jsx)(H,{className:"w-4 h-4"})}),(0,le.jsx)("button",{className:"text-red-600 hover:text-red-900",children:(0,le.jsx)(B,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),(0,le.jsx)(me,{isOpen:u,onClose:()=>d(!1),title:"Add Student",children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)(ue,{label:"Name",value:m.name,onChange:e=>f(c(c({},m),{},{name:e.target.value}))}),(0,le.jsx)(ue,{label:"Email",type:"email",value:m.email,onChange:e=>f(c(c({},m),{},{email:e.target.value}))}),(0,le.jsx)(ue,{label:"Batch",value:m.batch,onChange:e=>f(c(c({},m),{},{batch:e.target.value}))}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,le.jsx)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:m.semester,onChange:e=>f(c(c({},m),{},{semester:parseInt(e.target.value)})),children:[1,2,3,4,5,6,7,8].map(e=>(0,le.jsxs)("option",{value:e,children:["Semester ",e]},e))})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,le.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:m.department,onChange:e=>f(c(c({},m),{},{department:e.target.value})),children:[(0,le.jsx)("option",{value:"",children:"Select Department"}),(0,le.jsx)("option",{value:"Computer Science",children:"Computer Science"}),(0,le.jsx)("option",{value:"Mathematics",children:"Mathematics"}),(0,le.jsx)("option",{value:"Physics",children:"Physics"}),(0,le.jsx)("option",{value:"Chemistry",children:"Chemistry"})]})]}),(0,le.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,le.jsxs)(oe,{onClick:async()=>{try{await h.addStudent(m),p(),d(!1),f({name:"",email:"",batch:"",semester:1,department:""})}catch(e){console.error("Failed to add student:",e)}},children:[(0,le.jsx)(V,{className:"w-4 h-4 mr-2"}),"Add Student"]}),(0,le.jsx)(oe,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"})]})]})})]})},je=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)(""),[i,o]=(0,a.useState)("all"),[u,d]=(0,a.useState)(!1),[m,f]=(0,a.useState)({name:"",type:"Classroom",capacity:"",department:"",location:""}),h=(0,a.useMemo)(()=>new ne,[]),p=(0,a.useCallback)(async()=>{try{const e=await h.getRooms();t(e)}catch(e){console.error("Failed to load rooms:",e)}finally{s(!1)}},[h]);(0,a.useEffect)(()=>{p()},[p]);const x=e.filter(e=>{var t;const n=null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()),a="all"===i||e.type===i;return n&&a});return n?(0,le.jsx)(re,{size:"lg"}):(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Rooms Management"}),(0,le.jsxs)(oe,{onClick:()=>d(!0),children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"Add Room"]})]}),(0,le.jsxs)(de,{children:[(0,le.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,le.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,le.jsxs)("div",{className:"relative flex-1",children:[(0,le.jsx)(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,le.jsx)("input",{type:"text",placeholder:"Search rooms...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:l,onChange:e=>r(e.target.value)})]}),(0,le.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Types"}),(0,le.jsx)("option",{value:"Classroom",children:"Classroom"}),(0,le.jsx)("option",{value:"Lab",children:"Laboratory"}),(0,le.jsx)("option",{value:"Auditorium",children:"Auditorium"}),(0,le.jsx)("option",{value:"Seminar Hall",children:"Seminar Hall"})]})]})}),(0,le.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:x.map(e=>{const t=(e=>{switch(e){case"Lab":return W;case"Auditorium":return $;case"Seminar Hall":return P;default:return R}})(e.type);return(0,le.jsxs)(de,{className:"p-6 hover:shadow-lg transition-shadow",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,le.jsx)(t,{className:"w-5 h-5 text-indigo-600"})}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,le.jsx)("p",{className:"text-sm text-gray-500",children:e.type})]})]}),(0,le.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,le.jsx)("button",{className:"text-indigo-600 hover:text-indigo-900",children:(0,le.jsx)(H,{className:"w-4 h-4"})}),(0,le.jsx)("button",{className:"text-red-600 hover:text-red-900",children:(0,le.jsx)(B,{className:"w-4 h-4"})})]})]}),(0,le.jsxs)("div",{className:"space-y-2",children:[(0,le.jsxs)("div",{className:"flex justify-between",children:[(0,le.jsx)("span",{className:"text-sm text-gray-600",children:"Capacity:"}),(0,le.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.capacity," students"]})]}),(0,le.jsxs)("div",{className:"flex justify-between",children:[(0,le.jsx)("span",{className:"text-sm text-gray-600",children:"Department:"}),(0,le.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.department})]}),e.location&&(0,le.jsxs)("div",{className:"flex justify-between",children:[(0,le.jsx)("span",{className:"text-sm text-gray-600",children:"Location:"}),(0,le.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.location})]}),(0,le.jsx)("div",{className:"mt-4",children:(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Available"})})]})]},e.id)})})]}),(0,le.jsx)(me,{isOpen:u,onClose:()=>d(!1),title:"Add Room",children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)(ue,{label:"Room Name",value:m.name,onChange:e=>f(c(c({},m),{},{name:e.target.value}))}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,le.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:m.type,onChange:e=>f(c(c({},m),{},{type:e.target.value})),children:[(0,le.jsx)("option",{value:"Classroom",children:"Classroom"}),(0,le.jsx)("option",{value:"Lab",children:"Laboratory"}),(0,le.jsx)("option",{value:"Auditorium",children:"Auditorium"}),(0,le.jsx)("option",{value:"Seminar Hall",children:"Seminar Hall"})]})]}),(0,le.jsx)(ue,{label:"Capacity",type:"number",value:m.capacity,onChange:e=>f(c(c({},m),{},{capacity:parseInt(e.target.value)}))}),(0,le.jsx)(ue,{label:"Department",value:m.department,onChange:e=>f(c(c({},m),{},{department:e.target.value}))}),(0,le.jsx)(ue,{label:"Location",value:m.location,onChange:e=>f(c(c({},m),{},{location:e.target.value}))}),(0,le.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,le.jsxs)(oe,{onClick:async()=>{try{await h.addRoom(m),p(),d(!1),f({name:"",type:"Classroom",capacity:"",department:"",location:""})}catch(e){console.error("Failed to add room:",e)}},children:[(0,le.jsx)(V,{className:"w-4 h-4 mr-2"}),"Add Room"]}),(0,le.jsx)(oe,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"})]})]})})]})},Ne=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)(""),[i,o]=(0,a.useState)("all"),[u,d]=(0,a.useState)(!1),[m,f]=(0,a.useState)({name:"",code:"",department:"",credits:1,type:"Theory"}),h=(0,a.useMemo)(()=>new ne,[]),p=(0,a.useCallback)(async()=>{try{const e=await h.getSubjects();t(e)}catch(e){console.error("Failed to load subjects:",e)}finally{s(!1)}},[h]);(0,a.useEffect)(()=>{p()},[p]);const x=e.filter(e=>{var t,n;const a=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null===(n=e.code)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase())),s="all"===i||e.department===i;return a&&s});return n?(0,le.jsx)(re,{size:"lg"}):(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Subjects Management"}),(0,le.jsxs)(oe,{onClick:()=>d(!0),children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"Add Subject"]})]}),(0,le.jsxs)(de,{children:[(0,le.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,le.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,le.jsxs)("div",{className:"relative flex-1",children:[(0,le.jsx)(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,le.jsx)("input",{type:"text",placeholder:"Search subjects...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:l,onChange:e=>r(e.target.value)})]}),(0,le.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Departments"}),(0,le.jsx)("option",{value:"Computer Science",children:"Computer Science"}),(0,le.jsx)("option",{value:"Mathematics",children:"Mathematics"}),(0,le.jsx)("option",{value:"Physics",children:"Physics"}),(0,le.jsx)("option",{value:"Chemistry",children:"Chemistry"})]})]})}),(0,le.jsx)("div",{className:"overflow-x-auto",children:(0,le.jsxs)("table",{className:"w-full",children:[(0,le.jsx)("thead",{className:"bg-gray-50",children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Subject"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Code"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Department"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Credits"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Type"}),(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,le.jsx)("tbody",{className:"divide-y divide-gray-200",children:x.map(e=>(0,le.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,le.jsx)("td",{className:"px-6 py-4",children:(0,le.jsxs)("div",{className:"flex items-center",children:[(0,le.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,le.jsx)(z,{className:"w-5 h-5 text-blue-600"})}),(0,le.jsx)("div",{className:"ml-4",children:(0,le.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,le.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.code}),(0,le.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.department}),(0,le.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.credits}),(0,le.jsx)("td",{className:"px-6 py-4",children:(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("Theory"===e.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.type})}),(0,le.jsx)("td",{className:"px-6 py-4",children:(0,le.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,le.jsx)("button",{className:"text-indigo-600 hover:text-indigo-900",children:(0,le.jsx)(H,{className:"w-4 h-4"})}),(0,le.jsx)("button",{className:"text-red-600 hover:text-red-900",children:(0,le.jsx)(B,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),(0,le.jsx)(me,{isOpen:u,onClose:()=>d(!1),title:"Add Subject",children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)(ue,{label:"Subject Name",value:m.name,onChange:e=>f(c(c({},m),{},{name:e.target.value}))}),(0,le.jsx)(ue,{label:"Subject Code",value:m.code,onChange:e=>f(c(c({},m),{},{code:e.target.value}))}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,le.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:m.department,onChange:e=>f(c(c({},m),{},{department:e.target.value})),children:[(0,le.jsx)("option",{value:"",children:"Select Department"}),(0,le.jsx)("option",{value:"Computer Science",children:"Computer Science"}),(0,le.jsx)("option",{value:"Mathematics",children:"Mathematics"}),(0,le.jsx)("option",{value:"Physics",children:"Physics"}),(0,le.jsx)("option",{value:"Chemistry",children:"Chemistry"})]})]}),(0,le.jsx)(ue,{label:"Credits",type:"number",min:"1",max:"6",value:m.credits,onChange:e=>f(c(c({},m),{},{credits:parseInt(e.target.value)}))}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,le.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:m.type,onChange:e=>f(c(c({},m),{},{type:e.target.value})),children:[(0,le.jsx)("option",{value:"Theory",children:"Theory"}),(0,le.jsx)("option",{value:"Practical",children:"Practical"}),(0,le.jsx)("option",{value:"Tutorial",children:"Tutorial"})]})]}),(0,le.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,le.jsxs)(oe,{onClick:async()=>{try{await h.addSubject(m),p(),d(!1),f({name:"",code:"",department:"",credits:1,type:"Theory"})}catch(e){console.error("Failed to add subject:",e)}},children:[(0,le.jsx)(V,{className:"w-4 h-4 mr-2"}),"Add Subject"]}),(0,le.jsx)(oe,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"})]})]})})]})},we=()=>{const{user:e}=ae(),t=(0,a.useMemo)(()=>new ne,[]),[n,s]=(0,a.useState)([]),[l,r]=(0,a.useState)("CS2023"),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),f=["Monday","Tuesday","Wednesday","Thursday","Friday"],h=(0,a.useCallback)(async e=>{o(!0);try{const n=await t.getTimetable(e);s(n)}catch(n){console.error("Failed to load timetable:",n)}finally{o(!1)}},[t]),p=(0,a.useCallback)(async()=>{o(!0);try{const n=await t.getFacultyTimetable(e.id);s(n)}catch(n){console.error("Failed to load faculty timetable:",n)}finally{o(!1)}},[t,e]);(0,a.useEffect)(()=>{"faculty"===(null===e||void 0===e?void 0:e.role)?p():h(l)},[l,e,h,p]);return(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"faculty"===(null===e||void 0===e?void 0:e.role)?"My Timetable":"Timetable"}),(0,le.jsxs)("div",{className:"flex items-center space-x-4",children:["faculty"!==(null===e||void 0===e?void 0:e.role)&&(0,le.jsxs)("select",{value:l,onChange:e=>r(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"CS2023",children:"CS 2023"}),(0,le.jsx)("option",{value:"MATH2023",children:"Math 2023"}),(0,le.jsx)("option",{value:"PHY2023",children:"Physics 2023"})]}),"admin"===(null===e||void 0===e?void 0:e.role)&&(0,le.jsxs)(oe,{onClick:()=>u(!0),children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2"}),"Generate Timetable"]})]})]}),(0,le.jsx)(de,{children:i?(0,le.jsx)("div",{className:"p-8",children:(0,le.jsx)(re,{size:"lg"})}):(0,le.jsx)("div",{className:"overflow-x-auto",children:(0,le.jsxs)("table",{className:"w-full",children:[(0,le.jsx)("thead",{className:"bg-gray-50",children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase w-32",children:"Time"}),f.map(e=>(0,le.jsx)("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase",children:e},e))]})}),(0,le.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:["09:00-10:00","10:00-11:00","11:00-12:00","12:00-13:00","14:00-15:00","15:00-16:00","16:00-17:00"].map(e=>(0,le.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,le.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e}),f.map(t=>{const a=((e,t)=>n.find(n=>n.day_of_week===e&&n.time_slot===t))(t,e);return(0,le.jsx)("td",{className:"px-6 py-4",children:a?(0,le.jsxs)("div",{className:"bg-indigo-100 p-3 rounded-lg border-l-4 border-indigo-600",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-indigo-900",children:a.subject_name}),(0,le.jsx)("p",{className:"text-xs text-indigo-700",children:a.subject_code}),(0,le.jsx)("p",{className:"text-xs text-indigo-600 mt-1",children:a.faculty_name}),(0,le.jsx)("p",{className:"text-xs text-indigo-600",children:a.room_name})]}):(0,le.jsx)("div",{className:"text-gray-400 text-sm text-center py-3",children:"Free"})},"".concat(t,"-").concat(e))})]},e))})]})})}),(0,le.jsx)(me,{isOpen:c,onClose:()=>u(!1),title:"Generate Timetable",children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsxs)("p",{className:"text-sm text-gray-600",children:["This will generate a new timetable for ",l,". All existing schedules will be replaced."]}),(0,le.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,le.jsx)(oe,{onClick:async()=>{m(!0);try{const e={department:"Computer Science",semester:3,batch:l};console.log("Generating timetable with data:",e);const n=await t.generateTimetable(e);console.log("Generate response:",n),alert("Timetable generated successfully! ".concat(n.classesGenerated||0," classes created.")),await h(l),u(!1)}catch(e){console.error("Failed to generate timetable:",e),alert("Failed to generate timetable. Error: "+(e.message||"Please check your backend server and database connection."))}finally{m(!1)}},disabled:d,children:d?"Generating...":"Generate"}),(0,le.jsx)(oe,{variant:"secondary",onClick:()=>u(!1),children:"Cancel"})]})]})})]})},ke=()=>{var e,t,n,s;const l=(0,a.useMemo)(()=>new ne,[]),{user:r}=ae(),[i,o]=(0,a.useState)("CS2023"),[u,d]=(0,a.useState)("A"),[m,f]=(0,a.useState)(["A","B","C"]),[h,p]=(0,a.useState)(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S"]),[x,g]=(0,a.useState)([]),[j,w]=(0,a.useState)(!1),[k,_]=(0,a.useState)(!1),[C,E]=(0,a.useState)(!1),[P,T]=(0,a.useState)(!1),[z,L]=(0,a.useState)(!1),[R,O]=(0,a.useState)({all:!1,sections:[]}),[A,F]=(0,a.useState)(!1),[M,q]=(0,a.useState)(null),[D,U]=(0,a.useState)(null),[H,V]=(0,a.useState)("grid"),[W,$]=(0,a.useState)([]),[G,J]=(0,a.useState)(!1),Y=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];(0,a.useEffect)(()=>{K()},[i,u]);const K=(0,a.useCallback)(async()=>{w(!0);try{const e=await l.getSectionTimetable(i,u);g(e)}catch(e){console.error("Failed to load section timetable:",e)}finally{w(!1)}},[l,i,u]),X=function(){O(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?{all:!0,sections:[]}:{all:!1,sections:[u]}),L(!0)};return(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Multi-Section Timetable"}),(0,le.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage timetables for multiple sections"})]}),"admin"===(null===r||void 0===r?void 0:r.role)&&(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsxs)(oe,{onClick:()=>X(!1),variant:"danger",disabled:!x||0===x.length,children:[(0,le.jsx)(B,{className:"w-4 h-4 mr-2"}),"Delete Section ",u]}),(0,le.jsxs)(oe,{onClick:()=>X(!0),variant:"danger",children:[(0,le.jsx)(B,{className:"w-4 h-4 mr-2"}),"Delete All Sections"]}),(0,le.jsxs)(oe,{onClick:async()=>{w(!0),E(!0);try{const e=await l.validateMultiSection(i);q(e)}catch(e){alert("Failed to validate: "+e.message),E(!1)}finally{w(!1)}},variant:"secondary",children:[(0,le.jsx)(N,{className:"w-4 h-4 mr-2"}),"Validate All"]}),(0,le.jsxs)(oe,{onClick:async()=>{w(!0),T(!0);try{const e=await l.getMultiSectionSummary(i);U(e)}catch(e){alert("Failed to load summary: "+e.message),T(!1)}finally{w(!1)}},variant:"secondary",children:[(0,le.jsx)(S,{className:"w-4 h-4 mr-2"}),"View Summary"]}),(0,le.jsxs)(oe,{onClick:()=>_(!0),children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2"}),"Generate Multi-Section"]})]})]}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),(0,le.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"CS2023",children:"CS 2023"}),(0,le.jsx)("option",{value:"MATH2023",children:"Math 2023"}),(0,le.jsx)("option",{value:"PHY2023",children:"Physics 2023"})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,le.jsxs)("div",{className:"flex flex-wrap gap-2",children:[h.slice(0,10).map(e=>(0,le.jsx)("button",{onClick:()=>d(e),className:"px-3 py-1 rounded-lg font-medium transition-all ".concat(u===e?"bg-indigo-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e)),h.length>10&&(0,le.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg",children:[(0,le.jsx)("option",{value:"",children:"More..."}),h.slice(10).map(e=>(0,le.jsx)("option",{value:e,children:e},e))]})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"View Mode"}),(0,le.jsxs)("div",{className:"flex space-x-2",children:[(0,le.jsx)("button",{onClick:()=>V("grid"),className:"px-4 py-2 rounded-lg ".concat("grid"===H?"bg-indigo-100 text-indigo-700":"bg-gray-100"),children:"Grid"}),(0,le.jsx)("button",{onClick:()=>V("list"),className:"px-4 py-2 rounded-lg ".concat("list"===H?"bg-indigo-100 text-indigo-700":"bg-gray-100"),children:"List"})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Actions"}),(0,le.jsxs)(oe,{onClick:async()=>{try{const e=await l.exportSectionCSV(i,u),t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="".concat(i,"_Section_").concat(u,".csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t),alert("Exported successfully!")}catch(e){alert("Failed to export: "+e.message)}},variant:"secondary",className:"w-full",children:[(0,le.jsx)(I,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),(0,le.jsx)(de,{children:j?(0,le.jsx)("div",{className:"p-8",children:(0,le.jsx)(re,{size:"lg"})}):(0,le.jsx)("div",{className:"overflow-x-auto",children:(0,le.jsxs)("table",{className:"w-full",children:[(0,le.jsx)("thead",{className:"bg-indigo-600 text-white",children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"px-4 py-4 text-left text-sm font-bold",children:"Time / Day"}),Y.map(e=>(0,le.jsx)("th",{className:"px-4 py-4 text-center text-sm font-bold",children:e},e))]})}),(0,le.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:["09:00-10:00","10:00-11:00","11:00-12:00","14:00-15:00","15:00-16:00","16:00-17:00"].map(e=>(0,le.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,le.jsx)("td",{className:"px-4 py-3 font-semibold text-sm text-gray-700 bg-gray-50",children:e}),Y.map(t=>{const n=((e,t)=>x.find(n=>n.day_of_week===e&&n.time_slot===t))(t,e);return(0,le.jsx)("td",{className:"px-2 py-2",children:n?(0,le.jsxs)("div",{className:"p-3 rounded-lg bg-blue-50 border-l-4 border-blue-500",children:[(0,le.jsx)("p",{className:"text-sm font-bold text-gray-900",children:n.subject_code}),(0,le.jsx)("p",{className:"text-xs text-gray-800",children:n.subject_name}),(0,le.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:n.faculty_name}),(0,le.jsx)("p",{className:"text-xs text-gray-600",children:n.room_name})]}):(0,le.jsx)("div",{className:"text-center py-8 text-gray-400 text-xs",children:"Free"})},"".concat(t,"-").concat(e))})]},e))})]})})}),(0,le.jsxs)(me,{isOpen:k,onClose:()=>_(!1),title:"Generate Multi-Section",children:[(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Generate timetables for multiple sections"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),(0,le.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"CS2023",children:"CS 2023"}),(0,le.jsx)("option",{value:"MATH2023",children:"Math 2023"}),(0,le.jsx)("option",{value:"PHY2023",children:"Physics 2023"})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Sections"}),(0,le.jsx)("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-3",children:(0,le.jsx)("div",{className:"grid grid-cols-5 gap-2",children:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map(e=>(0,le.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,le.jsx)("input",{type:"checkbox",checked:m.includes(e),onChange:t=>{t.target.checked?f([...m,e].sort()):f(m.filter(t=>t!==e))},className:"w-4 h-4 text-indigo-600 rounded"}),(0,le.jsx)("span",{className:"text-sm",children:e})]},e))})}),(0,le.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Selected: ",m.join(", ")||"None"]})]}),m.length>0&&(0,le.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Configure Day Off (Optional)"}),(0,le.jsx)("p",{className:"text-xs text-blue-700 mt-1",children:"Assign different off-days for each section"})]}),(0,le.jsxs)(oe,{onClick:()=>{const e=m.map(e=>({section:e,day_off:null}));$(e),J(!0)},size:"sm",variant:"secondary",children:[(0,le.jsx)(y,{className:"w-4 h-4 mr-2"}),"Set Days Off"]})]}),W.length>0&&(0,le.jsxs)("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[(0,le.jsx)("p",{className:"text-xs font-medium text-blue-800 mb-2",children:"Current Configuration:"}),(0,le.jsx)("div",{className:"flex flex-wrap gap-2",children:W.map(e=>e.day_off&&(0,le.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:["Section ",e.section,": ",e.day_off]},e.section))})]})]})]}),(0,le.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,le.jsx)(oe,{variant:"secondary",onClick:()=>_(!1),children:"Cancel"}),(0,le.jsx)(oe,{onClick:async()=>{F(!0);try{const e=await l.generateMultiSectionTimetable({batch:i,sections:m,sections_config:W,department:"Computer Science",semester:3,academic_year:"2024-25",algorithm:"csp"});alert("Multi-Section Generated!\nTotal Classes: ".concat(e.summary.total_classes_generated,"\nConflicts: ").concat(e.summary.total_conflicts)),await K(),_(!1),J(!1)}catch(e){alert("Failed to generate: "+e.message)}finally{F(!1)}},disabled:A||0===m.length,children:A?"Generating...":"Generate for ".concat(m.length," sections")})]})]}),(0,le.jsxs)(me,{isOpen:G,onClose:()=>J(!1),title:"Configure Day Off for Each Section",children:[(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Select which day each section should have off. Leave empty for no day off."}),(0,le.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:W.map((e,t)=>(0,le.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,le.jsx)("div",{className:"w-20",children:(0,le.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Section ",e.section]})}),(0,le.jsxs)("select",{value:e.day_off||"",onChange:n=>{const a=[...W];a[t]=c(c({},e),{},{day_off:n.target.value||null}),$(a)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"",children:"No day off"}),(0,le.jsx)("option",{value:"Monday",children:"Monday"}),(0,le.jsx)("option",{value:"Tuesday",children:"Tuesday"}),(0,le.jsx)("option",{value:"Wednesday",children:"Wednesday"}),(0,le.jsx)("option",{value:"Thursday",children:"Thursday"}),(0,le.jsx)("option",{value:"Friday",children:"Friday"}),(0,le.jsx)("option",{value:"Saturday",children:"Saturday"})]})]},e.section))}),(0,le.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,le.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,le.jsx)(Q,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,le.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,le.jsx)("p",{className:"font-medium",children:"Tips:"}),(0,le.jsxs)("ul",{className:"mt-1 space-y-1 text-xs",children:[(0,le.jsx)("li",{children:"\u2022 Each section can have a different day off"}),(0,le.jsx)("li",{children:"\u2022 No classes will be scheduled on the selected day"}),(0,le.jsx)("li",{children:"\u2022 Classes will be distributed across remaining days"}),(0,le.jsx)("li",{children:"\u2022 Leave empty if section should have classes all days"})]})]})]})})]}),(0,le.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,le.jsx)(oe,{variant:"secondary",onClick:()=>J(!1),children:"Cancel"}),(0,le.jsxs)(oe,{onClick:()=>J(!1),children:[(0,le.jsx)(N,{className:"w-4 h-4 mr-2"}),"Apply Configuration"]})]})]}),(0,le.jsxs)(me,{isOpen:P,onClose:()=>T(!1),title:"Multi-Section Summary",children:[D&&(0,le.jsx)("div",{className:"space-y-4",children:(0,le.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,le.jsxs)("div",{className:"bg-blue-50 p-4 rounded text-center",children:[(0,le.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(e=D.summary_stats)||void 0===e?void 0:e.total_sections)||0}),(0,le.jsx)("div",{className:"text-xs text-blue-700",children:"Sections"})]}),(0,le.jsxs)("div",{className:"bg-green-50 p-4 rounded text-center",children:[(0,le.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===(t=D.summary_stats)||void 0===t||null===(n=t.avg_classes_per_section)||void 0===n?void 0:n.toFixed(0))||0}),(0,le.jsx)("div",{className:"text-xs text-green-700",children:"Avg Classes"})]}),(0,le.jsxs)("div",{className:"bg-orange-50 p-4 rounded text-center",children:[(0,le.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null===(s=D.summary_stats)||void 0===s?void 0:s.total_conflicts)||0}),(0,le.jsx)("div",{className:"text-xs text-orange-700",children:"Conflicts"})]})]})}),(0,le.jsx)("div",{className:"flex justify-end mt-6",children:(0,le.jsx)(oe,{variant:"secondary",onClick:()=>T(!1),children:"Close"})})]}),(0,le.jsxs)(me,{isOpen:z,onClose:()=>L(!1),title:"\u26a0\ufe0f Confirm Delete",children:[(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:(0,le.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,le.jsx)(v,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsx)("h3",{className:"font-semibold text-red-900",children:"Warning: This action cannot be undone!"}),(0,le.jsx)("p",{className:"text-sm text-red-700 mt-1",children:R.all?"You are about to delete ALL timetable data for batch ".concat(i,"."):"You are about to delete timetable data for ".concat(i," - Section ").concat(R.sections.join(", "),".")})]})]})}),(0,le.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,le.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"What will be deleted:"}),(0,le.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,le.jsx)("li",{children:"\u2022 All class schedules"}),(0,le.jsx)("li",{children:"\u2022 Faculty assignments"}),(0,le.jsx)("li",{children:"\u2022 Room allocations"}),(0,le.jsx)("li",{children:"\u2022 Time slot bookings"})]})]}),(0,le.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,le.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,le.jsx)("strong",{children:"Note:"})," Students, faculty, rooms, and subjects will NOT be deleted. Only the timetable schedule will be removed."]})}),(0,le.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,le.jsxs)("p",{className:"text-sm text-blue-800",children:["\ud83d\udca1 ",(0,le.jsx)("strong",{children:"Tip:"})," You can generate a new timetable after deletion."]})})]}),(0,le.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,le.jsx)(oe,{variant:"secondary",onClick:()=>L(!1),children:"Cancel"}),(0,le.jsx)(oe,{variant:"danger",onClick:async()=>{w(!0);try{const e=R.all?null:R.sections,t=await l.deleteMultiSectionTimetable(i,e,"2024-25");alert("\u2705 Deleted successfully!\n\n"+"Total classes deleted: ".concat(t.deleted_count,"\n")+"Sections affected: ".concat(t.sections_affected,"\n\n")+Object.entries(t.details).map(e=>{let[t,n]=e;return"Section ".concat(t,": ").concat(n," classes")}).join("\n")),await K(),L(!1)}catch(e){alert("\u274c Failed to delete: "+e.message)}finally{w(!1)}},disabled:j,children:j?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(B,{className:"w-4 h-4 mr-2"}),"Yes, Delete ",R.all?"All":"Section"]})})]})]})]})},Se=()=>{const e=(0,a.useMemo)(()=>new ne,[]),{user:t}=ae(),[n,s]=(0,a.useState)([]),[l,r]=(0,a.useState)(!0),[i,o]=(0,a.useState)("week"),[u,d]=(0,a.useState)({batch:"all",section:"all",subject:"all"}),[m,f]=(0,a.useState)(null),h=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=(0,a.useCallback)(e=>e.filter(e=>("all"===u.batch||e.batch===u.batch)&&(("all"===u.section||e.section===u.section)&&("all"===u.subject||e.subject_name===u.subject))),[u]),x=(0,a.useCallback)(e=>{const t=p(e),n=[...new Set(t.map(e=>e.batch))],a=[...new Set(t.map(e=>"".concat(e.batch,"-").concat(e.section||"A")))],s=[...new Set(t.map(e=>e.subject_name))],l=1*t.length;f({batches:n.length,sections:a.length,subjects:s.length,hours:l})},[p]),g=(0,a.useCallback)(async()=>{r(!0);try{const t=await e.getFacultyProfile(),n=await e.getFacultyTimetable(t.id);s(n),x(n)}catch(t){console.error("Failed to load faculty timetable:",t)}finally{r(!1)}},[e,x]);(0,a.useEffect)(()=>{g()},[g]);return l?(0,le.jsx)(re,{size:"lg"}):(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Timetable"}),(0,le.jsx)("p",{className:"text-gray-600 mt-1",children:"View your class schedule across all sections"})]}),(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsxs)(oe,{onClick:g,variant:"secondary",children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,le.jsxs)(oe,{onClick:()=>{const e=p(n);let t="My Timetable\n\n";t+="Day,Time,Subject,Batch,Section,Room,Type,Duration\n",e.forEach(e=>{t+='"'.concat(e.day_of_week,'","').concat(e.time_slot,'","').concat(e.subject_name,'","').concat(e.batch,'","').concat(e.section||"A",'","').concat(e.room_name,'","').concat(e.session_type,'","').concat(e.duration_minutes,' min"\n')});const a=new Blob([t],{type:"text/csv"}),s=window.URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download="my_timetable_".concat((new Date).toISOString().split("T")[0],".csv"),l.click(),window.URL.revokeObjectURL(s)},variant:"secondary",children:[(0,le.jsx)(I,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),m&&(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,le.jsx)(de,{className:"p-4",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Total Classes"}),(0,le.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.totalClasses})]}),(0,le.jsx)(y,{className:"w-8 h-8 text-blue-500"})]})}),(0,le.jsx)(de,{className:"p-4",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Weekly Hours"}),(0,le.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.totalHours})]}),(0,le.jsx)(w,{className:"w-8 h-8 text-green-500"})]})}),(0,le.jsx)(de,{className:"p-4",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Batches"}),(0,le.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.uniqueBatches})]}),(0,le.jsx)(P,{className:"w-8 h-8 text-purple-500"})]})}),(0,le.jsx)(de,{className:"p-4",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Sections"}),(0,le.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.uniqueSections})]}),(0,le.jsx)(G,{className:"w-8 h-8 text-orange-500"})]})}),(0,le.jsx)(de,{className:"p-4",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Subjects"}),(0,le.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:m.uniqueSubjects})]}),(0,le.jsx)(z,{className:"w-8 h-8 text-indigo-500"})]})})]}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,le.jsx)(J,{className:"w-4 h-4 inline mr-1"}),"Batch"]}),(0,le.jsxs)("select",{value:u.batch,onChange:e=>d(c(c({},u),{},{batch:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Batches"}),null===m||void 0===m?void 0:m.batches.map(e=>(0,le.jsx)("option",{value:e,children:e},e))]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,le.jsxs)("select",{value:u.section,onChange:e=>d(c(c({},u),{},{section:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Sections"}),null===m||void 0===m?void 0:m.sections.map(e=>(0,le.jsx)("option",{value:e.split("-")[1],children:e},e))]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),(0,le.jsxs)("select",{value:u.subject,onChange:e=>d(c(c({},u),{},{subject:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Subjects"}),null===m||void 0===m?void 0:m.subjects.map(e=>(0,le.jsx)("option",{value:e,children:e},e))]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"View"}),(0,le.jsxs)("div",{className:"flex space-x-2",children:[(0,le.jsx)("button",{onClick:()=>o("week"),className:"flex-1 px-3 py-2 rounded-lg text-sm font-medium ".concat("week"===i?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"),children:"Week"}),(0,le.jsx)("button",{onClick:()=>o("list"),className:"flex-1 px-3 py-2 rounded-lg text-sm font-medium ".concat("list"===i?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"),children:"List"})]})]}),(0,le.jsx)("div",{className:"flex items-end",children:(0,le.jsx)(oe,{variant:"secondary",className:"w-full",onClick:()=>d({batch:"all",section:"all",subject:"all"}),children:"Clear Filters"})})]})}),"week"===i&&(0,le.jsx)(de,{className:"overflow-x-auto",children:(0,le.jsxs)("table",{className:"w-full",children:[(0,le.jsx)("thead",{className:"bg-indigo-600 text-white",children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold sticky left-0 bg-indigo-600",children:"Time"}),h.map(e=>(0,le.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold min-w-[200px]",children:e},e))]})}),(0,le.jsx)("tbody",{className:"divide-y divide-gray-200",children:["09:00-10:00","10:00-11:00","11:00-12:00","14:00-15:00","15:00-16:00","16:00-17:00"].map((e,t)=>(0,le.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,le.jsx)("td",{className:"px-4 py-3 font-semibold text-sm text-gray-700 whitespace-nowrap sticky left-0 bg-gray-100",children:e}),h.map(t=>{const a=((e,t)=>p(n).filter(n=>n.day_of_week===e&&n.time_slot===t))(t,e);return(0,le.jsx)("td",{className:"px-2 py-2",children:a.length>0?(0,le.jsx)("div",{className:"space-y-2",children:a.map((e,t)=>(0,le.jsxs)("div",{className:"p-3 rounded-lg border-l-4 ".concat("Lab"===e.session_type?"bg-purple-50 border-purple-500":"Tutorial"===e.session_type?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"),children:[(0,le.jsxs)("div",{className:"flex items-start justify-between",children:[(0,le.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,le.jsx)("p",{className:"text-sm font-bold text-gray-900 truncate",children:e.subject_code}),(0,le.jsx)("p",{className:"text-xs text-gray-700 mt-1",children:e.subject_name})]}),(0,le.jsx)("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full flex-shrink-0 ".concat("Lab"===e.session_type?"bg-purple-200 text-purple-800":"Tutorial"===e.session_type?"bg-green-200 text-green-800":"bg-blue-200 text-blue-800"),children:e.session_type})]}),(0,le.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,le.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,le.jsx)(P,{className:"w-3 h-3 mr-1"}),e.batch,"-",e.section||"A"]}),(0,le.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,le.jsx)(Y,{className:"w-3 h-3 mr-1"}),e.room_name]}),(0,le.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,le.jsx)(w,{className:"w-3 h-3 mr-1"}),e.duration_minutes," min"]})]})]},t))}):(0,le.jsx)("div",{className:"text-center py-8 text-gray-400 text-xs",children:"Free"})},"".concat(t,"-").concat(e))})]},e))})]})}),"list"===i&&(0,le.jsx)("div",{className:"space-y-4",children:h.map(e=>{const t=p(n).filter(t=>t.day_of_week===e);return 0===t.length?null:(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,le.jsx)(y,{className:"w-5 h-5 mr-2 text-indigo-600"}),e,(0,le.jsxs)("span",{className:"ml-auto text-sm font-normal text-gray-600",children:[t.length," ",1===t.length?"class":"classes"]})]}),(0,le.jsx)("div",{className:"space-y-3",children:t.sort((e,t)=>e.time_slot.localeCompare(t.time_slot)).map((e,t)=>(0,le.jsxs)("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,le.jsx)("div",{className:"flex-shrink-0 w-24 text-sm font-medium text-gray-700",children:e.time_slot}),(0,le.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.subject_code}),(0,le.jsx)("p",{className:"text-xs text-gray-600",children:e.subject_name})]}),(0,le.jsx)("div",{children:(0,le.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,le.jsx)(P,{className:"w-4 h-4 inline mr-1"}),e.batch,"-",e.section||"A"]})}),(0,le.jsx)("div",{children:(0,le.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,le.jsx)(Y,{className:"w-4 h-4 inline mr-1"}),e.room_name]})}),(0,le.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,le.jsx)("span",{className:"px-3 py-1 text-xs rounded-full font-medium ".concat("Lab"===e.session_type?"bg-purple-100 text-purple-800":"Tutorial"===e.session_type?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.session_type}),(0,le.jsxs)("span",{className:"text-xs text-gray-500",children:[e.duration_minutes,"m"]})]})]})]},t))})]},e)})}),0===p(n).length&&(0,le.jsxs)(de,{className:"p-12 text-center",children:[(0,le.jsx)(y,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"No Classes Found"}),(0,le.jsx)("p",{className:"text-gray-600 mt-2",children:0===n.length?"No classes have been assigned to you yet.":"No classes match the selected filters."}),"all"!==u.batch||"all"!==u.section||"all"!==u.subject?(0,le.jsx)(oe,{className:"mt-4",onClick:()=>d({batch:"all",section:"all",subject:"all"}),children:"Clear Filters"}):null]})]})},_e=()=>{const{user:e}=ae(),[t,n]=(0,a.useState)(!1),[s,l]=(0,a.useState)({}),[r,i]=(0,a.useState)(null),o=new ne,u=[{id:"faculty",label:"Faculty",icon:P,color:"blue"},{id:"subjects",label:"Subjects",icon:z,color:"green"},{id:"rooms",label:"Rooms",icon:R,color:"purple"},{id:"sections",label:"Sections",icon:P,color:"orange"},{id:"students",label:"Students",icon:L,color:"indigo"}];return(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsx)("div",{className:"flex items-center justify-between",children:(0,le.jsxs)("div",{children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Multi-Section Data Import"}),(0,le.jsx)("p",{className:"text-gray-600 mt-1",children:"Import data for multi-section timetable generation"})]})}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Import Data"}),(0,le.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Upload CSV or Excel files to import data for faculty, subjects, rooms, sections, and students. Download templates below to ensure correct format."}),(0,le.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>{var a;const u=e.icon,d={blue:"bg-blue-50 border-blue-200",green:"bg-green-50 border-green-200",purple:"bg-purple-50 border-purple-200",orange:"bg-orange-50 border-orange-200",indigo:"bg-indigo-50 border-indigo-200"};return(0,le.jsxs)("div",{className:"p-6 border-2 rounded-lg ".concat(d[e.color]),children:[(0,le.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,le.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center bg-white border-2 ".concat(d[e.color]),children:(0,le.jsx)(u,{className:"w-6 h-6 ".concat({blue:"text-blue-600",green:"text-green-600",purple:"text-purple-600",orange:"text-orange-600",indigo:"text-indigo-600"}[e.color])})}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"font-semibold text-gray-900",children:e.label}),(null===r||void 0===r?void 0:r[e.id])&&(0,le.jsx)("span",{className:"text-xs ".concat(r[e.id].success?"text-green-600":"text-red-600"),children:r[e.id].success?"".concat(r[e.id].recordsInserted," imported"):"Failed"})]})]}),null!==s[e.id]&&void 0!==s[e.id]&&(0,le.jsxs)("div",{className:"mb-4",children:[(0,le.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,le.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(s[e.id],"%")}})}),(0,le.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Uploading... ",s[e.id],"%"]})]}),(0,le.jsxs)("div",{className:"space-y-2",children:[(0,le.jsx)("input",{type:"file",id:"file-input-".concat(e.id),accept:".csv,.xlsx,.xls",onChange:t=>{console.log("File selected:",t.target.files[0]);const a=t.target.files[0];a&&(console.log("Calling handleFileUpload for",e.id),(async(e,t)=>{if(t){console.log("Starting upload:",{type:e,fileName:t.name,fileSize:t.size,fileType:t.type}),n(!0),l(c(c({},s),{},{[e]:0}));try{console.log("Calling API uploadFile...");const n=await o.uploadFile(e,t);console.log("Upload response:",n),l(c(c({},s),{},{[e]:100})),i(t=>c(c({},t),{},{[e]:{success:!0,recordsInserted:n.recordsInserted,recordsTotal:n.recordsTotal,recordsSkipped:n.recordsSkipped,errors:n.errors||[]}})),alert("\u2705 ".concat(e," data imported successfully!\n").concat(n.recordsInserted," records added."))}catch(a){console.error("Upload error details:",{message:a.message,error:a}),i(t=>c(c({},t),{},{[e]:{success:!1,error:a.message}})),alert("\u274c Failed to import ".concat(e,": ").concat(a.message))}finally{n(!1),l(c(c({},s),{},{[e]:null}))}}else console.log("No file selected")})(e.id,a)),t.target.value=""},style:{display:"none"},disabled:t}),(0,le.jsxs)("button",{type:"button",onClick:t=>{t.preventDefault(),console.log("Upload button clicked for",e.id);const n=document.getElementById("file-input-".concat(e.id));n?n.click():console.error("File input not found")},disabled:t,className:"w-full inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat(t?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500"),children:[(0,le.jsx)(T,{className:"w-4 h-4 mr-2"}),t?"Uploading...":"Upload File"]}),(0,le.jsxs)("button",{type:"button",onClick:t=>{t.preventDefault(),console.log("Download template clicked for",e.id),(e=>{console.log("Downloading template for:",e);const t=new Blob([{faculty:"name,email,department,designation,max_hours_per_week\nDr. John Doe,john@university.edu,Computer Science,Professor,25\nProf. Jane Smith,jane@university.edu,Mathematics,Associate Professor,25\n",subjects:"name,code,department,semester,credits,type,lecture_hours,lab_hours\nData Structures,CS301,Computer Science,3,4,Theory,3,0\nDatabase Systems,CS401,Computer Science,4,4,Theory,3,0\nProgramming Lab,CS302L,Computer Science,3,2,Practical,0,4\n",rooms:"name,type,capacity,department,building,floor\nRoom 101,Classroom,50,Computer Science,Block A,1\nLab 201,Lab,30,Computer Science,Block A,2\nRoom 301,Classroom,60,Mathematics,Block B,3\n",sections:"batch,section,department,semester,academic_year,total_students\nCS2023,A,Computer Science,3,2024-25,60\nCS2023,B,Computer Science,3,2024-25,55\nCS2023,C,Computer Science,3,2024-25,58\nCS2023,D,Computer Science,3,2024-25,52\nCS2023,E,Computer Science,3,2024-25,57\n",students:"name,email,roll_number,batch,section,semester,department\nJohn Smith,john@student.edu,CS2023A001,CS2023,A,3,Computer Science\nJane Doe,jane@student.edu,CS2023A002,CS2023,A,3,Computer Science\nBob Wilson,bob@student.edu,CS2023B001,CS2023,B,3,Computer Science\n"}[e]||""],{type:"text/csv;charset=utf-8;"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="".concat(e,"_template.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n),console.log("Template downloaded")})(e.id)},className:"w-full inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-lg bg-gray-200 text-gray-900 hover:bg-gray-300 transition-colors focus:ring-2 focus:ring-gray-500",children:[(0,le.jsx)(I,{className:"w-4 h-4 mr-2"}),"Download Template"]})]}),(null===r||void 0===r||null===(a=r[e.id])||void 0===a?void 0:a.errors)&&r[e.id].errors.length>0&&(0,le.jsxs)("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-600",children:[(0,le.jsx)("p",{className:"font-semibold mb-1",children:"Errors:"}),r[e.id].errors.slice(0,3).map((e,t)=>(0,le.jsxs)("p",{children:["\u2022 ",e]},t)),r[e.id].errors.length>3&&(0,le.jsxs)("p",{children:["...and ",r[e.id].errors.length-3," more"]})]})]},e.id)})})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udccb Import Guidelines"}),(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"\ud83d\udcc4 File Format"}),(0,le.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,le.jsx)("li",{children:"\u2022 Supported formats: CSV, XLSX, XLS"}),(0,le.jsx)("li",{children:"\u2022 First row must be headers"}),(0,le.jsx)("li",{children:"\u2022 Use exact column names from templates"}),(0,le.jsx)("li",{children:"\u2022 UTF-8 encoding recommended"})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"\u2705 Data Requirements"}),(0,le.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,le.jsx)("li",{children:"\u2022 Email addresses must be unique"}),(0,le.jsx)("li",{children:"\u2022 Section must be A, B, C, D, or E"}),(0,le.jsx)("li",{children:"\u2022 Semester must be between 1-8"}),(0,le.jsx)("li",{children:"\u2022 Room capacity must be positive number"})]})]})]})]})]})},Ce=e=>{let{status:t}=e;const n={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:w},eligible:{bg:"bg-blue-100",text:"text-blue-800",icon:N},approved:{bg:"bg-green-100",text:"text-green-800",icon:N},rejected:{bg:"bg-red-100",text:"text-red-800",icon:k}},{bg:a,text:s,icon:l}=n[t]||n.pending;return(0,le.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat(a," ").concat(s),children:[(0,le.jsx)(l,{className:"w-3 h-3 mr-1"}),t.charAt(0).toUpperCase()+t.slice(1)]})},Ee=()=>{var e,t,n,s,l,r,i;const[o,u]=(0,a.useState)([]),[d,m]=(0,a.useState)([]),[f,h]=(0,a.useState)([]),[p,x]=(0,a.useState)(!0),[g,j]=(0,a.useState)(!1),[S,_]=(0,a.useState)(!1),[C,E]=(0,a.useState)(null),[P,T]=(0,a.useState)(!1),[z,L]=(0,a.useState)("all"),[R,O]=(0,a.useState)(null),[A,M]=(0,a.useState)(null),[q,I]=(0,a.useState)(null),U=localStorage.getItem("token"),H=(0,a.useMemo)(()=>new ne(U),[U]),[B,V]=(0,a.useState)({requesting_faculty_id:null,target_faculty_id:"",original_timetable_id:"",requested_day:"Monday",requested_time_slot:"09:00-10:00",reason:""}),[W,$]=(0,a.useState)(null),G=(0,a.useCallback)(async()=>{x(!0);try{const e=JSON.parse(localStorage.getItem("user")||"{}");M(e),await Promise.all([Y(),ee(),..."faculty"===e.role?[te(e.id)]:[]])}catch(e){console.error("Failed to load initial data:",e),alert("Error loading data: "+e.message)}finally{x(!1)}},[H]),Y=(0,a.useCallback)(async()=>{try{const e="all"===z?null:z,t="faculty"===(null===A||void 0===A?void 0:A.role)?A.id:null,n=await H.getDetailedSwapRequests(e,t);u(n||[])}catch(e){console.error("Failed to load swap requests:",e)}},[H,z,A]),ee=(0,a.useCallback)(async()=>{try{const e=await H.getFaculty();m(e||[])}catch(e){console.error("Failed to load faculty:",e)}},[H]),te=(0,a.useCallback)(async e=>{try{const e=await H.getFacultyProfile(),t=await H.getFacultyTimetable(e.id);h(t||[]),V(t=>c(c({},t),{},{requesting_faculty_id:e.id}))}catch(t){console.error("Failed to load my classes:",t)}},[H]);(0,a.useEffect)(()=>{G()},[G]),(0,a.useEffect)(()=>{Y()},[Y]);const ae=()=>{j(!1),_(!1),E(null),$(null),V({requesting_faculty_id:B.requesting_faculty_id,target_faculty_id:"",original_timetable_id:"",requested_day:"Monday",requested_time_slot:"09:00-10:00",reason:""})};if(p)return(0,le.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,le.jsxs)("div",{className:"text-center",children:[(0,le.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,le.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading swap requests..."})]})});const se={total:o.length,pending:o.filter(e=>"pending"===e.status).length,approved:o.filter(e=>"approved"===e.status).length,rejected:o.filter(e=>"rejected"===e.status).length};return(0,le.jsxs)("div",{className:"space-y-6 p-8",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\ud83d\udd04 Advanced Swap Request Management"}),(0,le.jsx)("p",{className:"text-gray-600 mt-1",children:"Intelligent validation \u2022 Automatic updates \u2022 Conflict resolution"})]}),"faculty"===(null===A||void 0===A?void 0:A.role)&&(0,le.jsxs)(oe,{onClick:()=>j(!0),children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"Create Swap Request"]})]}),(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Total Requests"}),(0,le.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:se.total})]}),(0,le.jsx)(y,{className:"w-10 h-10 text-blue-500"})]})}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Pending Review"}),(0,le.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:se.pending})]}),(0,le.jsx)(w,{className:"w-10 h-10 text-yellow-500"})]})}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Approved"}),(0,le.jsx)("p",{className:"text-3xl font-bold text-green-600",children:se.approved})]}),(0,le.jsx)(N,{className:"w-10 h-10 text-green-500"})]})}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Rejected"}),(0,le.jsx)("p",{className:"text-3xl font-bold text-red-600",children:se.rejected})]}),(0,le.jsx)(k,{className:"w-10 h-10 text-red-500"})]})})]}),(0,le.jsx)(de,{className:"p-4",children:(0,le.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,le.jsx)(J,{className:"w-5 h-5 text-gray-400"}),(0,le.jsxs)("select",{value:z,onChange:e=>L(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Status"}),(0,le.jsx)("option",{value:"pending",children:"Pending"}),(0,le.jsx)("option",{value:"approved",children:"Approved"}),(0,le.jsx)("option",{value:"rejected",children:"Rejected"})]}),(0,le.jsxs)(oe,{variant:"ghost",onClick:Y,children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})}),(0,le.jsx)("div",{className:"space-y-4",children:0===o.length?(0,le.jsxs)(de,{className:"p-12 text-center",children:[(0,le.jsx)(y,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,le.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No Swap Requests"}),(0,le.jsx)("p",{className:"text-gray-600 mt-2",children:"all"===z?"No swap requests found.":"No ".concat(z," requests found.")})]}):o.map(e=>(0,le.jsxs)(de,{className:"overflow-hidden",children:[(0,le.jsx)("div",{className:"p-6 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>O(R===e.id?null:e.id),children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,le.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Request #",e.id]}),(0,le.jsx)(Ce,{status:e.status})]}),(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600 text-xs",children:"Requesting Faculty:"}),(0,le.jsx)("p",{className:"font-medium text-gray-900",children:e.requesting_faculty_name})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600 text-xs",children:"Target Faculty:"}),(0,le.jsx)("p",{className:"font-medium text-gray-900",children:e.target_faculty_name})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600 text-xs",children:"Class:"}),(0,le.jsxs)("p",{className:"font-medium text-gray-900",children:[e.subject_code," - ",e.batch]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600 text-xs",children:"Room:"}),(0,le.jsx)("p",{className:"font-medium text-gray-900",children:e.room_name})]})]}),(0,le.jsxs)("div",{className:"flex items-center space-x-6 mt-3 text-sm text-gray-600 flex-wrap gap-2",children:[(0,le.jsxs)("span",{className:"flex items-center",children:[(0,le.jsx)(y,{className:"w-4 h-4 mr-1"}),e.original_day," ",e.original_time]}),(0,le.jsx)(K,{className:"w-4 h-4"}),(0,le.jsxs)("span",{className:"flex items-center text-indigo-600 font-medium",children:[(0,le.jsx)(y,{className:"w-4 h-4 mr-1"}),e.requested_day," ",e.requested_time_slot]})]})]}),(0,le.jsx)("button",{children:R===e.id?(0,le.jsx)(X,{className:"w-6 h-6 text-gray-400"}):(0,le.jsx)(F,{className:"w-6 h-6 text-gray-400"})})]})}),R===e.id&&(0,le.jsxs)("div",{className:"p-6 border-t border-gray-200 bg-white space-y-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason:"}),(0,le.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:e.reason})]}),e.admin_notes&&(0,le.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,le.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,le.jsx)(Q,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Admin Notes:"}),(0,le.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:e.admin_notes})]})]})}),"admin"===(null===A||void 0===A?void 0:A.role)&&"pending"===e.status&&(0,le.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,le.jsxs)(oe,{variant:"danger",onClick:()=>(async e=>{const t=window.prompt("\u26a0\ufe0f Reject Swap Request\n\nPlease provide reason for rejection:");if(null!==t)if(t.trim())try{await H.rejectSwapRequest(e,t),alert("Swap request rejected. Faculty will be notified."),Y()}catch(n){alert("Failed to reject: "+n.message)}else alert("Rejection reason is required")})(e.id),children:[(0,le.jsx)(k,{className:"w-4 h-4 mr-2"}),"Reject"]}),(0,le.jsxs)(oe,{variant:"success",onClick:()=>(async e=>{if(window.confirm("\u26a0\ufe0f Approve Swap Request?\n\nThis will:\n\u2713 Update the master timetable\n\u2713 Change faculty assignments\n\u2713 Update section schedules\n\u2713 Recalculate workload analytics\n\nContinue?")){I(e);try{var t,n,a;const s=window.prompt("Add admin notes (optional):"),l=await H.approveSwapRequest(e,s||"Approved");alert("\u2705 Swap Request Approved!\n\n"+"Timetable ID: ".concat(null===(t=l.updated_class)||void 0===t?void 0:t.timetable_id,"\n")+"New Day: ".concat(null===(n=l.updated_class)||void 0===n?void 0:n.new_day,"\n")+"New Time: ".concat(null===(a=l.updated_class)||void 0===a?void 0:a.new_time,"\n\n")+"All schedules updated automatically!"),Y()}catch(s){alert("\u274c Approval failed: "+s.message)}finally{I(null)}}})(e.id),disabled:q===e.id,children:[(0,le.jsx)(N,{className:"w-4 h-4 mr-2"}),q===e.id?"Approving...":"Approve & Update"]})]}),(0,le.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 border-t",children:[(0,le.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleString()]}),e.updated_at&&(0,le.jsxs)("span",{children:["Updated: ",new Date(e.updated_at).toLocaleString()]})]})]})]},e.id))}),(0,le.jsx)(me,{isOpen:g,onClose:ae,title:"Create Swap Request",children:(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1\ufe0f\u20e3 Select Your Current Class to Swap"}),(0,le.jsxs)("select",{value:(null===W||void 0===W?void 0:W.id)||"",onChange:e=>{const t=f.find(t=>t.id===parseInt(e.target.value));$(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"",children:"Select a class..."}),f.map(e=>(0,le.jsxs)("option",{value:e.id,children:[e.subject_name," (",e.subject_code,") - ",e.day_of_week," ",e.time_slot]},e.id))]})]}),W&&(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"\ud83d\udccb Current Class Details:"}),(0,le.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600",children:"Subject:"}),(0,le.jsx)("p",{className:"font-medium",children:W.subject_name})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600",children:"Code:"}),(0,le.jsx)("p",{className:"font-medium",children:W.subject_code})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600",children:"Batch-Section:"}),(0,le.jsxs)("p",{className:"font-medium",children:[W.batch,"-",W.section||"A"]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600",children:"Room:"}),(0,le.jsx)("p",{className:"font-medium",children:W.room_name})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600",children:"Current Slot:"}),(0,le.jsxs)("p",{className:"font-medium",children:[W.day_of_week," ",W.time_slot]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,le.jsx)("p",{className:"font-medium",children:W.session_type})]})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"2\ufe0f\u20e3 Select Target Faculty (Who will take this class)"}),(0,le.jsxs)("select",{value:B.target_faculty_id,onChange:e=>V(c(c({},B),{},{target_faculty_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"",children:"Select faculty..."}),d.filter(e=>e.id!==B.requesting_faculty_id).map(e=>(0,le.jsxs)("option",{value:e.id,children:[e.name," - ",e.department," (",e.max_hours_per_week,"h/week max)"]},e.id))]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"3\ufe0f\u20e3 Select Requested Time Slot"}),(0,le.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,le.jsx)("select",{value:B.requested_day,onChange:e=>V(c(c({},B),{},{requested_day:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(e=>(0,le.jsx)("option",{value:e,children:e},e))}),(0,le.jsx)("select",{value:B.requested_time_slot,onChange:e=>V(c(c({},B),{},{requested_time_slot:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:["09:00-10:00","10:00-11:00","11:00-12:00","14:00-15:00","15:00-16:00","16:00-17:00"].map(e=>(0,le.jsx)("option",{value:e,children:e},e))})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"4\ufe0f\u20e3 Reason for Swap"}),(0,le.jsx)("textarea",{value:B.reason,onChange:e=>V(c(c({},B),{},{reason:e.target.value})),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Provide detailed reason for the swap request..."})]}),(0,le.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,le.jsx)(oe,{variant:"secondary",onClick:ae,children:"Cancel"}),(0,le.jsx)(oe,{onClick:async()=>{if(W&&B.target_faculty_id&&B.requested_day&&B.requested_time_slot){T(!0);try{const e=await H.validateSwapRequest({requesting_faculty_id:B.requesting_faculty_id,original_timetable_id:W.id,target_faculty_id:parseInt(B.target_faculty_id),requested_day:B.requested_day,requested_time_slot:B.requested_time_slot,academic_year:"2024-25"});E(e),_(!0)}catch(e){alert("Validation failed: "+e.message)}finally{T(!1)}}else alert("Please fill in all required fields")},disabled:P,children:P?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2 animate-spin"}),"Validating..."]}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(v,{className:"w-4 h-4 mr-2"}),"Validate Request"]})})]})]})]})}),(0,le.jsx)(me,{isOpen:S,onClose:()=>_(!1),title:"Swap Request Validation",children:C&&(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsx)("div",{className:"p-4 rounded-lg border-2 ".concat("APPROVE"===C.recommendation?"bg-green-50 border-green-200":"REJECT"===C.recommendation?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"),children:(0,le.jsxs)("div",{className:"flex items-start space-x-3",children:["APPROVE"===C.recommendation?(0,le.jsx)(N,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}):"REJECT"===C.recommendation?(0,le.jsx)(k,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}):(0,le.jsx)(v,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h3",{className:"font-semibold text-lg",children:"APPROVE"===C.recommendation?"\u2705 Approved for Submission":"REJECT"===C.recommendation?"\u274c Request Cannot Proceed":"\u26a0\ufe0f Review Required"}),(0,le.jsx)("p",{className:"text-sm mt-1",children:C.recommendation_message})]})]})}),(0,le.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,le.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Original Class:"}),(0,le.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-blue-700",children:"Subject:"})," ",(0,le.jsx)("span",{className:"font-medium",children:null===(e=C.original_class)||void 0===e?void 0:e.subject_name})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-blue-700",children:"Faculty:"})," ",(0,le.jsx)("span",{className:"font-medium",children:null===(t=C.original_class)||void 0===t?void 0:t.faculty_name})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-blue-700",children:"Current Slot:"})," ",(0,le.jsxs)("span",{className:"font-medium",children:[null===(n=C.original_class)||void 0===n?void 0:n.day_of_week," ",null===(s=C.original_class)||void 0===s?void 0:s.time_slot]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-blue-700",children:"Room:"})," ",(0,le.jsx)("span",{className:"font-medium",children:null===(l=C.original_class)||void 0===l?void 0:l.room_name})]})]})]}),(0,le.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,le.jsx)("h4",{className:"font-semibold text-indigo-900 mb-2",children:"Requested Swap Slot:"}),(0,le.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-indigo-700",children:"Day:"})," ",(0,le.jsx)("span",{className:"font-medium",children:null===(r=C.requested_slot)||void 0===r?void 0:r.day})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-indigo-700",children:"Time:"})," ",(0,le.jsx)("span",{className:"font-medium",children:null===(i=C.requested_slot)||void 0===i?void 0:i.time})]})]})]}),C.conflicts&&C.conflicts.length>0&&(0,le.jsxs)("div",{children:[(0,le.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\ud83d\udea8 Detected Conflicts:"}),(0,le.jsx)("div",{className:"space-y-2",children:C.conflicts.map((e,t)=>(0,le.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-red-50 border border-red-200 rounded",children:[(0,le.jsx)(v,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-red-900",children:e.type}),(0,le.jsx)("p",{className:"text-xs text-red-700 mt-1",children:e.message}),e.severity&&(0,le.jsx)("span",{className:"inline-block mt-2 px-2 py-1 text-xs rounded font-medium ".concat("high"===e.severity?"bg-red-200 text-red-800":"medium"===e.severity?"bg-yellow-200 text-yellow-800":"bg-blue-200 text-blue-800"),children:e.severity.toUpperCase()})]})]},t))})]}),C.suggestions&&C.suggestions.length>0&&(0,le.jsxs)("div",{children:[(0,le.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\ud83d\udca1 Alternative Slots Suggested:"}),(0,le.jsx)("div",{className:"grid grid-cols-1 gap-2",children:C.suggestions.map((e,t)=>(0,le.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded",children:[(0,le.jsxs)("div",{children:[(0,le.jsxs)("p",{className:"text-sm font-medium text-green-900",children:[e.day," - ",e.time_slot]}),(0,le.jsxs)("p",{className:"text-xs text-green-700",children:["Subject gap: ",e.subject_gap_days," days ",e.is_optimal&&"\u2713 Optimal"]})]}),(0,le.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["Score: ",e.score,"%"]})]},t))})]}),(0,le.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,le.jsx)(oe,{variant:"secondary",onClick:()=>_(!1),children:"Back"}),"REJECT"!==C.recommendation&&(0,le.jsxs)(oe,{onClick:async()=>{if(C&&"REJECT"!==C.recommendation)if(B.reason.trim())try{await H.createSwapRequest({requesting_faculty_id:B.requesting_faculty_id,target_faculty_id:parseInt(B.target_faculty_id),original_timetable_id:W.id,requested_day:B.requested_day,requested_time_slot:B.requested_time_slot,reason:B.reason}),alert("\u2705 Swap request submitted successfully!\n\nAdmin will review and validate your request."),ae(),Y()}catch(e){alert("Failed to submit request: "+e.message)}else alert("Please provide a reason for the swap request");else alert("Cannot submit request with blocking conflicts")},children:[(0,le.jsx)(Z,{className:"w-4 h-4 mr-2"}),"Submit Request"]})]})]})})]})},Pe=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[u,d]=(0,a.useState)(null),[m,f]=(0,a.useState)("all"),[h,p]=(0,a.useState)(""),[x,g]=(0,a.useState)(null),[j,S]=(0,a.useState)({}),[_,C]=(0,a.useState)({leave_type:"Casual",start_date:"",end_date:"",reason:""}),[E,P]=(0,a.useState)(null),T=localStorage.getItem("token"),z=(0,a.useMemo)(()=>new ne(T),[T]),L=(0,a.useCallback)(async()=>{s(!0);try{const e=JSON.parse(localStorage.getItem("user")||"{}");d(e),await R()}catch(e){console.error("Failed to load initial data:",e)}finally{s(!1)}},[]),R=(0,a.useCallback)(async()=>{try{const e=await z.getLeaveRequests();t(e||[])}catch(e){console.error("Failed to load leave requests:",e),alert("Failed to load leave requests: "+e.message)}},[z]);(0,a.useEffect)(()=>{L()},[L]),(0,a.useEffect)(()=>{R()},[R]);const O=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(window.confirm("".concat("approved"===t?"Approve":"Reject"," this leave request?"))){g(e);try{const a=await z.updateLeaveRequest(e,{status:t,admin_notes:n||"Leave request ".concat(t)});a.rescheduleStats?alert("\u2705 Leave request ".concat(t,"!\n\n\ud83d\udcca Rescheduling Summary:\n")+"Substitutes: ".concat(a.rescheduleStats.substitutes_assigned,"\n")+"Rescheduled: ".concat(a.rescheduleStats.rescheduled,"\n")+"Cancelled: ".concat(a.rescheduleStats.cancelled,"\n")+"Total Affected: ".concat(a.rescheduleStats.total_affected)):alert("\u2705 Leave request ".concat(t," successfully!")),await R()}catch(a){alert("\u274c Failed to ".concat(t," leave request: ")+a.message)}finally{g(null)}}},A=(e,t)=>{if(!e||!t)return 0;const n=new Date(e),a=new Date(t);return Math.ceil((a-n)/864e5)+1},M=e.filter(e=>{var t,n;const a="all"===m||e.status===m,s=!h||(null===(t=e.faculty_name)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(n=e.leave_type)||void 0===n?void 0:n.toLowerCase().includes(h.toLowerCase()));return a&&s}),q={total:e.length,pending:e.filter(e=>"pending"===e.status).length,approved:e.filter(e=>"approved"===e.status).length,rejected:e.filter(e=>"rejected"===e.status).length};return n?(0,le.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,le.jsxs)("div",{className:"text-center",children:[(0,le.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,le.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading leave requests..."})]})}):(0,le.jsxs)("div",{className:"space-y-6 p-8",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\ud83d\udccb Leave Management"}),(0,le.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage faculty leave requests and schedule substitutes"})]}),"faculty"===(null===u||void 0===u?void 0:u.role)&&(0,le.jsxs)(oe,{onClick:()=>r(!0),children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"Apply for Leave"]})]}),(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Total Requests"}),(0,le.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:q.total})]}),(0,le.jsx)(y,{className:"w-10 h-10 text-blue-500"})]})}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Pending"}),(0,le.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:q.pending})]}),(0,le.jsx)(w,{className:"w-10 h-10 text-yellow-500"})]})}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Approved"}),(0,le.jsx)("p",{className:"text-3xl font-bold text-green-600",children:q.approved})]}),(0,le.jsx)(N,{className:"w-10 h-10 text-green-500"})]})}),(0,le.jsx)(de,{className:"p-6",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Rejected"}),(0,le.jsx)("p",{className:"text-3xl font-bold text-red-600",children:q.rejected})]}),(0,le.jsx)(k,{className:"w-10 h-10 text-red-500"})]})})]}),(0,le.jsx)(de,{className:"p-4",children:(0,le.jsxs)("div",{className:"flex items-center space-x-4 flex-wrap gap-4",children:[(0,le.jsx)(J,{className:"w-5 h-5 text-gray-400"}),(0,le.jsxs)("select",{value:m,onChange:e=>f(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Status"}),(0,le.jsx)("option",{value:"pending",children:"Pending"}),(0,le.jsx)("option",{value:"approved",children:"Approved"}),(0,le.jsx)("option",{value:"rejected",children:"Rejected"})]}),(0,le.jsx)("input",{type:"text",placeholder:"Search by faculty name or leave type...",value:h,onChange:e=>p(e.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}),(0,le.jsxs)(oe,{variant:"ghost",onClick:R,children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})}),(0,le.jsx)("div",{className:"space-y-4",children:0===M.length?(0,le.jsxs)(de,{className:"p-12 text-center",children:[(0,le.jsx)(y,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,le.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No Leave Requests"}),(0,le.jsx)("p",{className:"text-gray-600 mt-2",children:"all"===m?"No leave requests found.":"No ".concat(m," requests found.")})]}):M.map(e=>{const t=A(e.start_date,e.end_date),n=i===e.id;return(0,le.jsxs)(de,{className:"overflow-hidden",children:[(0,le.jsx)("div",{className:"p-6 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>o(n?null:e.id),children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.faculty_name||"Faculty"}),(0,le.jsx)(Ce,{status:e.status})]}),(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600 text-xs block",children:"Leave Type"}),(0,le.jsx)("p",{className:"font-medium text-gray-900",children:e.leave_type})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600 text-xs block",children:"Duration"}),(0,le.jsxs)("p",{className:"font-medium text-gray-900",children:[e.start_date," to ",e.end_date]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600 text-xs block",children:"Leave Days"}),(0,le.jsxs)("p",{className:"font-medium text-gray-900",children:[t," day(s)"]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-gray-600 text-xs block",children:"Department"}),(0,le.jsx)("p",{className:"font-medium text-gray-900",children:e.department||"N/A"})]})]}),e.auto_rescheduled&&(0,le.jsxs)("div",{className:"mt-3 inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,le.jsx)(N,{className:"w-3 h-3 mr-1"}),"Auto-rescheduled"]})]}),(0,le.jsx)("button",{children:n?(0,le.jsx)(X,{className:"w-6 h-6 text-gray-400"}):(0,le.jsx)(F,{className:"w-6 h-6 text-gray-400"})})]})}),n&&(0,le.jsxs)("div",{className:"p-6 border-t border-gray-200 bg-white space-y-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reason:"}),(0,le.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:e.reason})]}),e.affected_classes_count>0&&(0,le.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:(0,le.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,le.jsx)(v,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h4",{className:"font-semibold text-orange-900",children:"Leave Impact Analysis"}),(0,le.jsxs)("div",{className:"mt-2 space-y-1 text-sm text-orange-700",children:[(0,le.jsxs)("p",{children:["\ud83d\udcda Affected Classes: ",(0,le.jsx)("span",{className:"font-medium",children:e.affected_classes_count})]}),(0,le.jsxs)("p",{children:["\ud83d\udc65 Total Students Impacted: ",(0,le.jsx)("span",{className:"font-medium",children:30*e.affected_classes_count})]}),(0,le.jsxs)("p",{children:["\ud83d\udc68\u200d\ud83c\udfeb Substitutes Required: ",(0,le.jsx)("span",{className:"font-medium",children:"Pending"})]})]})]})]})}),e.reschedule_details&&(0,le.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,le.jsx)("h4",{className:"font-semibold text-green-900 mb-2",children:"\u2705 Rescheduling Results"}),(0,le.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-green-700 text-xs",children:"Substitutes"}),(0,le.jsx)("p",{className:"font-medium text-green-900",children:e.reschedule_details.substitutes_assigned})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-green-700 text-xs",children:"Rescheduled"}),(0,le.jsx)("p",{className:"font-medium text-green-900",children:e.reschedule_details.rescheduled})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-green-700 text-xs",children:"Cancelled"}),(0,le.jsx)("p",{className:"font-medium text-green-900",children:e.reschedule_details.cancelled})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("span",{className:"text-green-700 text-xs",children:"Total Handled"}),(0,le.jsx)("p",{className:"font-medium text-green-900",children:e.reschedule_details.total_affected})]})]})]}),e.admin_notes&&(0,le.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,le.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,le.jsx)(Q,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Admin Notes:"}),(0,le.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:e.admin_notes})]})]})}),"admin"===(null===u||void 0===u?void 0:u.role)&&"pending"===e.status&&(0,le.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,le.jsxs)(oe,{variant:"danger",onClick:()=>{const t=window.prompt("Reason for rejection:");t&&O(e.id,"rejected",t)},disabled:x===e.id,children:[(0,le.jsx)(k,{className:"w-4 h-4 mr-2"}),"Reject"]}),(0,le.jsx)(oe,{variant:"success",onClick:()=>{const t=window.prompt("Approval notes:");O(e.id,"approved",t||"")},disabled:x===e.id,children:x===e.id?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(N,{className:"w-4 h-4 mr-2"}),"Approve & Auto-Schedule"]})})]}),(0,le.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 border-t",children:[(0,le.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleString()]}),e.reviewed_at&&(0,le.jsxs)("span",{children:["Reviewed: ",new Date(e.reviewed_at).toLocaleString()]})]})]})]},e.id)})}),(0,le.jsx)(me,{isOpen:l,onClose:()=>{r(!1),C({leave_type:"Casual",start_date:"",end_date:"",reason:""}),S({})},title:"Apply for Leave",size:"lg",children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Leave Type ",(0,le.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,le.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{value:"Casual",label:"\ud83d\uddd3\ufe0f Casual Leave",color:"blue"},{value:"Sick",label:"\ud83c\udfe5 Sick Leave",color:"red"},{value:"Earned",label:"\ud83d\udcbc Earned Leave",color:"green"},{value:"Emergency",label:"\u26a0\ufe0f Emergency Leave",color:"orange"},{value:"Conference",label:"\ud83d\udcda Conference/Seminar",color:"purple"},{value:"Sabbatical",label:"\ud83d\udcd6 Sabbatical",color:"indigo"}].map(e=>(0,le.jsx)("button",{onClick:()=>{C(c(c({},_),{},{leave_type:e.value})),S(c(c({},j),{},{leave_type:""}))},className:"p-3 rounded-lg border-2 transition-all text-left ".concat(_.leave_type===e.value?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,le.jsx)("p",{className:"text-sm font-medium",children:e.label})},e.value))}),j.leave_type&&(0,le.jsx)("p",{className:"text-xs text-red-600 mt-1",children:j.leave_type})]}),(0,le.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,le.jsx)(ue,{label:"Start Date",type:"date",value:_.start_date,onChange:e=>{C(c(c({},_),{},{start_date:e.target.value})),S(c(c({},j),{},{start_date:""}))},error:j.start_date,required:!0}),(0,le.jsx)(ue,{label:"End Date",type:"date",value:_.end_date,onChange:e=>{C(c(c({},_),{},{end_date:e.target.value})),S(c(c({},j),{},{end_date:""}))},error:j.end_date,required:!0})]}),_.start_date&&_.end_date&&(0,le.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,le.jsxs)("p",{className:"text-sm text-blue-900",children:["\ud83d\udcc5 Total Leave Days: ",(0,le.jsx)("span",{className:"font-bold",children:A(_.start_date,_.end_date)})]})}),(0,le.jsxs)("div",{children:[(0,le.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason ",(0,le.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,le.jsx)("textarea",{value:_.reason,onChange:e=>{C(c(c({},_),{},{reason:e.target.value})),S(c(c({},j),{},{reason:""}))},rows:"4",placeholder:"Provide detailed reason for leave...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors ".concat(j.reason?"border-red-500":"border-gray-300")}),j.reason&&(0,le.jsx)("p",{className:"text-xs text-red-600 mt-1",children:j.reason})]}),(0,le.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,le.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,le.jsx)(v,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h4",{className:"font-semibold text-yellow-900",children:"Important Information"}),(0,le.jsxs)("ul",{className:"mt-2 space-y-1 text-sm text-yellow-700",children:[(0,le.jsx)("li",{children:"\u2713 Substitute faculty will be automatically assigned"}),(0,le.jsx)("li",{children:"\u2713 Your classes will be rescheduled or covered"}),(0,le.jsx)("li",{children:"\u2713 Students will be notified of any changes"}),(0,le.jsx)("li",{children:"\u2713 Admin will review and approve your request"})]})]})]})}),(0,le.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,le.jsx)(oe,{variant:"secondary",onClick:()=>{r(!1),C({leave_type:"Casual",start_date:"",end_date:"",reason:""}),S({})},children:"Cancel"}),(0,le.jsx)(oe,{onClick:async()=>{if((()=>{const e={};return _.leave_type.trim()||(e.leave_type="Leave type is required"),_.start_date.trim()||(e.start_date="Start date is required"),_.end_date.trim()||(e.end_date="End date is required"),_.start_date&&_.end_date&&_.start_date>_.end_date&&(e.end_date="End date must be after start date"),_.reason.trim()||(e.reason="Reason is required"),_.reason.trim().length<10&&(e.reason="Reason must be at least 10 characters"),S(e),0===Object.keys(e).length})()){g("create");try{var e;const t=await z.createLeaveRequest({leave_type:_.leave_type,start_date:_.start_date,end_date:_.end_date,reason:_.reason});P(t.impactAnalysis),(null===(e=t.impactAnalysis)||void 0===e?void 0:e.affectedClassesCount)>0?alert("\u2705 Leave request submitted!\n\n\u26a0\ufe0f ".concat(t.impactAnalysis.affectedClassesCount," classes will be affected.\n\ud83d\udccb Affected Students: ").concat(t.impactAnalysis.totalAffectedStudents,"\n\nAdmin will arrange substitute faculty.")):alert("\u2705 Leave request submitted successfully!"),C({leave_type:"Casual",start_date:"",end_date:"",reason:""}),S({}),r(!1),await R()}catch(t){alert("\u274c Failed to create leave request: "+t.message)}finally{g(null)}}},disabled:"create"===x,children:"create"===x?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):(0,le.jsxs)(le.Fragment,{children:[(0,le.jsx)(Z,{className:"w-4 h-4 mr-2"}),"Apply for Leave"]})})]})]})})]})},Te=()=>{const{user:e}=ae(),[t,n]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[r,i]=(0,a.useState)("swap"),[o,u]=(0,a.useState)(!1),[d,m]=(0,a.useState)([]),[f,h]=(0,a.useState)({target_faculty_id:"",original_time_slot:"",requested_time_slot:"",requested_day:"Monday",reason:""}),p=(0,a.useMemo)(()=>new ne,[]),x=(0,a.useCallback)(async()=>{try{const e=await p.getFaculty();m(e)}catch(e){console.error("Failed to load faculty:",e)}},[p]),g=(0,a.useCallback)(async()=>{try{const e=await p.getSwapRequests();n(e)}catch(e){console.error("Failed to load swap requests:",e)}finally{l(!1)}},[p]);(0,a.useEffect)(()=>{g(),x()},[g,x]);const y=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{await p.updateSwapRequest(e,{status:t,admin_notes:n}),g()}catch(a){console.error("Failed to update swap request:",a)}},b=["09:00-10:00","10:00-11:00","11:00-12:00","12:00-13:00","14:00-15:00","15:00-16:00","16:00-17:00"];return s?(0,le.jsx)(re,{size:"lg"}):(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Requests Management"}),"faculty"===(null===e||void 0===e?void 0:e.role)&&(0,le.jsxs)(oe,{onClick:()=>{h({target_faculty_id:"",original_time_slot:"",requested_time_slot:"",requested_day:"Monday",reason:""}),u(!0)},children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"New Request"]})]}),(0,le.jsxs)(de,{children:[(0,le.jsx)("div",{className:"border-b border-gray-200",children:(0,le.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,le.jsx)("button",{onClick:()=>i("swap"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("swap"===r?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Swap Requests"}),(0,le.jsx)("button",{onClick:()=>i("leave"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("leave"===r?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Leave Requests"})]})}),(0,le.jsxs)("div",{className:"p-6",children:["swap"===r&&(0,le.jsx)("div",{className:"space-y-4",children:t.map(t=>(0,le.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("div",{className:"flex-1",children:(0,le.jsx)("div",{className:"flex items-center space-x-4",children:(0,le.jsxs)("div",{children:[(0,le.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Faculty Swap Request #",t.id]}),(0,le.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:t.reason}),(0,le.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Original: ",t.original_time_slot," \u2192 Requested: ",t.requested_time_slot]}),(0,le.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Created: ",new Date(t.created_at).toLocaleDateString()]})]})})}),(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("pending"===t.status?"bg-yellow-100 text-yellow-800":"approved"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.status}),"admin"===(null===e||void 0===e?void 0:e.role)&&"pending"===t.status&&(0,le.jsxs)("div",{className:"flex space-x-2",children:[(0,le.jsx)(oe,{size:"sm",variant:"success",onClick:()=>y(t.id,"approved"),children:"Approve"}),(0,le.jsx)(oe,{size:"sm",variant:"danger",onClick:()=>y(t.id,"rejected"),children:"Reject"})]})]})]})},t.id))}),"leave"===r&&(0,le.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Leave requests functionality will be implemented based on backend support."})]})]}),(0,le.jsx)(me,{isOpen:o,onClose:()=>u(!1),title:"Create Swap Request",children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Faculty"}),(0,le.jsxs)("select",{value:f.target_faculty_id,onChange:e=>h(c(c({},f),{},{target_faculty_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"",children:"Select Faculty"}),d.map(e=>(0,le.jsxs)("option",{value:e.id,children:[e.name," (",e.department,")"]},e.id))]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requested Day"}),(0,le.jsx)("select",{value:f.requested_day,onChange:e=>h(c(c({},f),{},{requested_day:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:["Monday","Tuesday","Wednesday","Thursday","Friday"].map(e=>(0,le.jsx)("option",{value:e,children:e},e))})]}),(0,le.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Time Slot"}),(0,le.jsxs)("select",{value:f.original_time_slot,onChange:e=>h(c(c({},f),{},{original_time_slot:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"",children:"Select Time"}),b.map(e=>(0,le.jsx)("option",{value:e,children:e},e))]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requested Time Slot"}),(0,le.jsxs)("select",{value:f.requested_time_slot,onChange:e=>h(c(c({},f),{},{requested_time_slot:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"",children:"Select Time"}),b.map(e=>(0,le.jsx)("option",{value:e,children:e},e))]})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),(0,le.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:"3",value:f.reason,onChange:e=>h(c(c({},f),{},{reason:e.target.value})),placeholder:"Please provide a reason for the swap request..."})]}),(0,le.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,le.jsxs)(oe,{onClick:async()=>{try{if(!f.target_faculty_id||!f.original_time_slot||!f.requested_time_slot||!f.requested_day||!f.reason.trim())return void alert("Please fill in all fields before submitting.");const e={target_faculty_id:parseInt(f.target_faculty_id),original_time_slot:f.original_time_slot,requested_time_slot:f.requested_time_slot,requested_day:f.requested_day,reason:f.reason.trim()};console.log("Sending swap request data:",e),await p.createSwapRequest(e),g(),u(!1),h({target_faculty_id:"",original_time_slot:"",requested_time_slot:"",requested_day:"Monday",reason:""}),alert("Swap request created successfully!")}catch(e){console.error("Failed to create swap request:",e),alert("Failed to create swap request. Error: ".concat(e.message))}},children:[(0,le.jsx)(Z,{className:"w-4 h-4 mr-2"}),"Submit Request"]}),(0,le.jsx)(oe,{variant:"secondary",onClick:()=>u(!1),children:"Cancel"})]})]})})]})},ze=()=>{const[e,t]=(0,a.useState)(null),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)("overview"),[i,o]=(0,a.useState)("all"),[c,u]=(0,a.useState)(!1),[d,m]=(0,a.useState)([]),f=(0,a.useMemo)(()=>new ne,[]),h=(0,a.useCallback)(async()=>{try{const n=await f.getRealTimeAnalytics("all"===i?null:i);t(n);try{const e=await f.getOptimizationSuggestions("all"===i?null:i);m(e||[])}catch(e){console.log("Could not load suggestions:",e)}}catch(n){console.error("Failed to load analytics:",n)}finally{s(!1)}},[f,i]);if((0,a.useEffect)(()=>{let e;return h(),c&&(e=setInterval(h,3e4)),()=>{e&&clearInterval(e)}},[h,c]),n)return(0,le.jsx)(re,{size:"lg"});if(!e)return(0,le.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,le.jsx)("p",{className:"text-gray-500",children:"No analytics data available"})});const{summary:p,faculty_workload:x,room_utilization:g,alerts:y,conflicts:b}=e;return(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsx)(Le,{timestamp:e.timestamp,autoRefresh:c,setAutoRefresh:u,selectedBatch:i,setSelectedBatch:o,onRefresh:h}),y&&y.length>0&&(0,le.jsx)(Re,{alerts:y}),(0,le.jsx)(Oe,{summary:p}),(0,le.jsx)(Fe,{activeView:l,setActiveView:r,suggestionsCount:d.length}),"overview"===l&&(0,le.jsx)(qe,{faculty_workload:x,room_utilization:g,conflicts:b}),"faculty"===l&&(0,le.jsx)(Be,{faculty_workload:x}),"rooms"===l&&(0,le.jsx)(Ve,{room_utilization:g}),"suggestions"===l&&(0,le.jsx)(We,{suggestions:d})]})},Le=e=>{let{timestamp:t,autoRefresh:n,setAutoRefresh:a,selectedBatch:s,setSelectedBatch:l,onRefresh:r}=e;return(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Real-Time Analytics Dashboard"}),(0,le.jsxs)("p",{className:"text-gray-600 mt-1",children:["Last updated: ",new Date(t).toLocaleTimeString()]})]}),(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,le.jsx)("input",{type:"checkbox",checked:n,onChange:e=>a(e.target.checked),className:"rounded"}),(0,le.jsx)("span",{children:"Auto-refresh"})]}),(0,le.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Batches"}),(0,le.jsx)("option",{value:"CS2023",children:"CS 2023"}),(0,le.jsx)("option",{value:"MATH2023",children:"Math 2023"}),(0,le.jsx)("option",{value:"PHY2023",children:"Physics 2023"})]}),(0,le.jsxs)(oe,{onClick:r,children:[(0,le.jsx)(b,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})},Re=e=>{let{alerts:t}=e;return(0,le.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>(0,le.jsx)(de,{className:"p-4 border-l-4 ".concat("critical"===e.severity?"border-red-500 bg-red-50":"warning"===e.severity?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"),children:(0,le.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,le.jsx)(v,{className:"w-5 h-5 mt-0.5 ".concat("critical"===e.severity?"text-red-600":"warning"===e.severity?"text-yellow-600":"text-blue-600")}),(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsx)("h3",{className:"font-semibold ".concat("critical"===e.severity?"text-red-900":"warning"===e.severity?"text-yellow-900":"text-blue-900"),children:e.message}),(0,le.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[JSON.stringify(e.details).substring(0,100),"..."]})]}),(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("critical"===e.severity?"bg-red-100 text-red-800":"warning"===e.severity?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.type.replace(/_/g," ")})]})},t))})},Oe=e=>{let{summary:t}=e;return(0,le.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,le.jsx)(Ae,{title:"Avg Faculty Load",value:"".concat(t.avg_faculty_utilization,"%"),subtitle:"".concat(t.overloaded_faculty," overloaded"),icon:P,color:"blue",progressValue:t.avg_faculty_utilization,progressColor:t.avg_faculty_utilization>90?"bg-red-500":t.avg_faculty_utilization>70?"bg-yellow-500":"bg-green-500"}),(0,le.jsx)(Ae,{title:"Avg Room Usage",value:"".concat(t.avg_room_utilization,"%"),subtitle:"".concat(t.high_utilization_rooms," highly used"),icon:R,color:"green",progressValue:t.avg_room_utilization,progressColor:"bg-green-500"}),(0,le.jsx)(Ae,{title:"Total Conflicts",value:t.total_conflicts,subtitle:"".concat(t.critical_conflicts," critical"),icon:v,color:"red",progressValue:null}),(0,le.jsx)(Ae,{title:"Active Resources",value:t.total_faculty+t.total_rooms,subtitle:"".concat(t.total_faculty," faculty, ").concat(t.total_rooms," rooms"),icon:ee,color:"purple",progressValue:null})]})},Ae=e=>{let{title:t,value:n,subtitle:a,icon:s,color:l,progressValue:r,progressColor:i}=e;return(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,le.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n}),(0,le.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a})]}),(0,le.jsx)("div",{className:"w-12 h-12 ".concat({blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",red:"bg-red-100 text-red-600",purple:"bg-purple-100 text-purple-600"}[l]," rounded-full flex items-center justify-center"),children:(0,le.jsx)(s,{className:"w-6 h-6"})})]}),null!==r&&(0,le.jsx)("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:(0,le.jsx)("div",{className:"h-2 rounded-full ".concat(i),style:{width:"".concat(Math.min(r,100),"%")}})})]})},Fe=e=>{let{activeView:t,setActiveView:n,suggestionsCount:a}=e;const s=[{id:"overview",label:"Overview"},{id:"faculty",label:"Faculty Workload"},{id:"rooms",label:"Room Utilization"},{id:"suggestions",label:"Suggestions ".concat(a>0?"(".concat(a,")"):"")}];return(0,le.jsx)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:s.map(e=>(0,le.jsx)("button",{onClick:()=>n(e.id),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat(t===e.id?"bg-white text-gray-900 shadow":"text-gray-500 hover:text-gray-700"),children:e.label},e.id))})},Me=()=>{var e;const t=(0,a.useMemo)(()=>new ne,[]),{user:n}=ae(),[s,l]=(0,a.useState)([]),[r,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[u,d]=(0,a.useState)([]),[m,f]=(0,a.useState)(null),[h,p]=(0,a.useState)(!1),[x,g]=(0,a.useState)(""),[y,b]=(0,a.useState)("all"),[v,j]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1),[S,C]=(0,a.useState)([]),E=(0,a.useCallback)(async()=>{p(!0);try{const e=await t.getFaculty();l(e)}catch(e){console.error("Failed to load faculty:",e),alert("Failed to load faculty: "+e.message)}finally{p(!1)}},[t]),T=(0,a.useCallback)(async()=>{if(r)try{const e=await t.getFacultySubjects(r.id);c(e)}catch(e){console.error("Failed to load faculty details:",e)}},[t,r]),L=(0,a.useCallback)(async()=>{if(r)try{const e=await t.getAvailableSubjects(r.id,"all"===y?null:y);d(e)}catch(e){console.error("Failed to load available subjects:",e)}},[t,r,y]),R=(0,a.useCallback)(async()=>{if(r)try{const e=await t.getFacultyTeachingStats(r.id);f(e)}catch(e){console.error("Failed to load teaching stats:",e)}},[t,r]);(0,a.useEffect)(()=>{E()},[E]),(0,a.useEffect)(()=>{r&&(T(),L(),R())},[r,T,L,R]);const O=async function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{await t.assignSubjectToFaculty(r.id,e,n),alert("\u2705 Subject assigned successfully!"),T(),L(),j(!1)}catch(a){alert("Failed to assign subject: "+a.message)}},A=s.filter(e=>{var t,n,a;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(x.toLowerCase()))||(null===(n=e.department)||void 0===n?void 0:n.toLowerCase().includes(x.toLowerCase()))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(x.toLowerCase()))}),F=u.filter(e=>!e.is_assigned),M=[...new Set(s.map(e=>e.department))];return h?(0,le.jsx)(re,{size:"lg"}):(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Faculty Subject Assignment"}),(0,le.jsx)("p",{className:"text-gray-600 mt-1",children:"Assign subjects to faculty members for teaching"})]}),r&&(0,le.jsxs)(oe,{onClick:()=>k(!0),children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"Bulk Assign Subjects"]})]}),(0,le.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,le.jsxs)(de,{className:"p-6 lg:col-span-1",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Faculty"}),(0,le.jsxs)("div",{className:"relative mb-4",children:[(0,le.jsx)(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,le.jsx)("input",{type:"text",placeholder:"Search faculty...",value:x,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,le.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:A.map(e=>(0,le.jsx)("button",{onClick:()=>i(e),className:"w-full text-left p-4 rounded-lg border-2 transition-all ".concat((null===r||void 0===r?void 0:r.id)===e.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center flex-shrink-0",children:(0,le.jsx)(_,{className:"w-5 h-5 text-gray-600"})}),(0,le.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,le.jsx)("p",{className:"font-medium text-gray-900 truncate",children:e.name}),(0,le.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.department}),(0,le.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.email})]})]})},e.id))})]}),(0,le.jsx)("div",{className:"lg:col-span-2 space-y-6",children:r?(0,le.jsxs)(le.Fragment,{children:[(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsxs)("div",{className:"flex items-start justify-between",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,le.jsx)("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:(0,le.jsx)(_,{className:"w-8 h-8 text-indigo-600"})}),(0,le.jsxs)("div",{children:[(0,le.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:r.name}),(0,le.jsx)("p",{className:"text-gray-600",children:r.designation||"Faculty"}),(0,le.jsxs)("p",{className:"text-sm text-gray-500",children:[r.department," Department"]})]})]}),(0,le.jsxs)(oe,{onClick:()=>j(!0),size:"sm",children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"Assign Subject"]})]}),m&&(0,le.jsxs)("div",{className:"grid grid-cols-4 gap-4 mt-6 pt-6 border-t",children:[(0,le.jsxs)("div",{className:"text-center",children:[(0,le.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:m.subjects_teaching||0}),(0,le.jsx)("div",{className:"text-xs text-gray-600",children:"Subjects Teaching"})]}),(0,le.jsxs)("div",{className:"text-center",children:[(0,le.jsx)("div",{className:"text-2xl font-bold text-green-600",children:m.sections_teaching||0}),(0,le.jsx)("div",{className:"text-xs text-gray-600",children:"Sections"})]}),(0,le.jsxs)("div",{className:"text-center",children:[(0,le.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:m.total_classes||0}),(0,le.jsx)("div",{className:"text-xs text-gray-600",children:"Total Classes"})]}),(0,le.jsxs)("div",{className:"text-center",children:[(0,le.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:m.weekly_hours?parseFloat(m.weekly_hours).toFixed(1):"0.0"}),(0,le.jsx)("div",{className:"text-xs text-gray-600",children:"Weekly Hours"})]})]})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Assigned Subjects (",(null===o||void 0===o||null===(e=o.assigned_subjects)||void 0===e?void 0:e.length)||0,")"]}),null!==o&&void 0!==o&&o.assigned_subjects&&o.assigned_subjects.length>0?(0,le.jsx)("div",{className:"space-y-3",children:o.assigned_subjects.map(e=>(0,le.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,le.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center ".concat("Practical"===e.subject_type?"bg-purple-100":"Tutorial"===e.subject_type?"bg-green-100":"bg-blue-100"),children:(0,le.jsx)(z,{className:"w-6 h-6 ".concat("Practical"===e.subject_type?"text-purple-600":"Tutorial"===e.subject_type?"text-green-600":"text-blue-600")})}),(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,le.jsx)("h4",{className:"font-semibold text-gray-900",children:e.subject_name}),e.is_primary&&(0,le.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,le.jsx)(te,{className:"w-3 h-3 mr-1"}),"Primary"]})]}),(0,le.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[(0,le.jsx)("span",{children:e.subject_code}),(0,le.jsx)("span",{children:"\u2022"}),(0,le.jsx)("span",{children:e.subject_type}),(0,le.jsx)("span",{children:"\u2022"}),(0,le.jsxs)("span",{children:[e.credits," Credits"]}),(0,le.jsx)("span",{children:"\u2022"}),(0,le.jsx)("span",{children:e.department}),(0,le.jsx)("span",{children:"\u2022"}),(0,le.jsxs)("span",{children:["Sem ",e.semester]})]})]})]}),(0,le.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,le.jsx)("button",{onClick:()=>(async(e,n)=>{try{await t.updateFacultySubjectAssignment(r.id,e,!n),T()}catch(a){alert("Failed to update: "+a.message)}})(e.subject_id,e.is_primary),className:"p-2 rounded-lg transition-colors ".concat(e.is_primary?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-200 text-gray-600 hover:bg-gray-300"),title:e.is_primary?"Remove as primary":"Set as primary",children:(0,le.jsx)(te,{className:"w-4 h-4"})}),(0,le.jsx)("button",{onClick:()=>(async(e,n)=>{if(window.confirm('Remove "'.concat(n,'" from ').concat(r.name,"?")))try{await t.removeSubjectFromFaculty(r.id,e),alert("\u2705 Subject removed successfully!"),T(),L(),R()}catch(a){a.message.includes("active timetable")?alert("\u274c Cannot remove: This subject is currently assigned in the active timetable."):alert("Failed to remove subject: "+a.message)}})(e.subject_id,e.subject_name),className:"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-colors",title:"Remove subject",children:(0,le.jsx)(B,{className:"w-4 h-4"})})]})]},e.id))}):(0,le.jsxs)("div",{className:"text-center py-12",children:[(0,le.jsx)(z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,le.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No Subjects Assigned"}),(0,le.jsx)("p",{className:"text-gray-600 mt-2",children:'Click "Assign Subject" to add subjects to this faculty member'}),(0,le.jsxs)(oe,{onClick:()=>j(!0),className:"mt-4",children:[(0,le.jsx)(D,{className:"w-4 h-4 mr-2"}),"Assign First Subject"]})]})]}),F.length>0&&(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,le.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Available Subjects (",F.length,")"]}),(0,le.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Departments"}),M.map(e=>(0,le.jsx)("option",{value:e,children:e},e))]})]}),(0,le.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:F.map(e=>(0,le.jsx)("button",{onClick:()=>O(e.id),className:"text-left p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all",children:(0,le.jsxs)("div",{className:"flex items-start justify-between",children:[(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,le.jsxs)("div",{className:"flex items-center space-x-2 mt-1 text-xs text-gray-600",children:[(0,le.jsx)("span",{children:e.code}),(0,le.jsx)("span",{children:"\u2022"}),(0,le.jsx)("span",{children:e.type}),(0,le.jsx)("span",{children:"\u2022"}),(0,le.jsxs)("span",{children:[e.credits," Credits"]})]}),(0,le.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.department," \u2022 Sem ",e.semester]})]}),(0,le.jsx)(D,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"})]})},e.id))})]})]}):(0,le.jsxs)(de,{className:"p-12 text-center",children:[(0,le.jsx)(P,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Select a Faculty Member"}),(0,le.jsx)("p",{className:"text-gray-600 mt-2",children:"Choose a faculty member from the list to view and manage their subject assignments"})]})})]}),(0,le.jsx)(me,{isOpen:v,onClose:()=>j(!1),title:"Assign Subject to ".concat(null===r||void 0===r?void 0:r.name),children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Department"}),(0,le.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Departments"}),M.map(e=>(0,le.jsx)("option",{value:e,children:e},e))]})]}),(0,le.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:F.length>0?F.map(e=>(0,le.jsx)("button",{onClick:()=>O(e.id),className:"w-full text-left p-4 border-2 border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-all",children:(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,le.jsxs)("div",{className:"flex items-center space-x-2 mt-1 text-xs text-gray-600",children:[(0,le.jsx)("span",{children:e.code}),(0,le.jsx)("span",{children:"\u2022"}),(0,le.jsx)("span",{className:"px-2 py-0.5 rounded ".concat("Practical"===e.type?"bg-purple-100 text-purple-700":"Tutorial"===e.type?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"),children:e.type}),(0,le.jsx)("span",{children:"\u2022"}),(0,le.jsxs)("span",{children:[e.credits," Credits"]})]}),(0,le.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.department," \u2022 Semester ",e.semester]})]}),(0,le.jsx)(N,{className:"w-5 h-5 text-indigo-600"})]})},e.id)):(0,le.jsx)("div",{className:"text-center py-8",children:(0,le.jsx)("p",{className:"text-gray-500",children:"No available subjects to assign"})})})]})}),(0,le.jsx)(me,{isOpen:w,onClose:()=>{k(!1),C([])},title:"Bulk Assign Subjects to ".concat(null===r||void 0===r?void 0:r.name),children:(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("p",{className:"text-sm text-gray-600",children:"Select multiple subjects to assign at once"}),(0,le.jsxs)("span",{className:"text-sm font-medium text-indigo-600",children:[S.length," selected"]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Department"}),(0,le.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,le.jsx)("option",{value:"all",children:"All Departments"}),M.map(e=>(0,le.jsx)("option",{value:e,children:e},e))]})]}),(0,le.jsx)("div",{className:"border-t border-b border-gray-200 py-2",children:(0,le.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,le.jsx)("input",{type:"checkbox",checked:S.length===F.length&&F.length>0,onChange:e=>{e.target.checked?C(F.map(e=>e.id)):C([])},className:"w-4 h-4 text-indigo-600 rounded"}),(0,le.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Select All (",F.length,")"]})]})}),(0,le.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:F.map(e=>(0,le.jsxs)("label",{className:"flex items-start space-x-3 p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(S.includes(e.id)?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[(0,le.jsx)("input",{type:"checkbox",checked:S.includes(e.id),onChange:t=>{t.target.checked?C([...S,e.id]):C(S.filter(t=>t!==e.id))},className:"mt-1 w-4 h-4 text-indigo-600 rounded"}),(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,le.jsxs)("div",{className:"flex items-center space-x-2 mt-1 text-xs text-gray-600",children:[(0,le.jsx)("span",{children:e.code}),(0,le.jsx)("span",{children:"\u2022"}),(0,le.jsx)("span",{className:"px-2 py-0.5 rounded ".concat("Practical"===e.type?"bg-purple-100 text-purple-700":"Tutorial"===e.type?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"),children:e.type}),(0,le.jsx)("span",{children:"\u2022"}),(0,le.jsxs)("span",{children:[e.credits," Credits"]})]}),(0,le.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.department," \u2022 Semester ",e.semester]})]})]},e.id))}),(0,le.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,le.jsx)(oe,{variant:"secondary",onClick:()=>{k(!1),C([])},children:"Cancel"}),(0,le.jsxs)(oe,{onClick:async()=>{if(0!==S.length){if(window.confirm("Assign ".concat(S.length," subjects to ").concat(r.name,"?")))try{const e=await t.bulkAssignSubjects(r.id,S,!1);alert("\u2705 Bulk assignment completed!\n\n"+"Added: ".concat(e.added,"\n")+"Skipped: ".concat(e.skipped,"\n")+"Total: ".concat(e.total)),T(),L(),k(!1),C([])}catch(e){alert("Failed to bulk assign: "+e.message)}}else alert("Please select at least one subject")},disabled:0===S.length,children:[(0,le.jsx)(N,{className:"w-4 h-4 mr-2"}),"Assign ",S.length," Subject",1!==S.length?"s":""]})]})]})})]})},qe=e=>{let{faculty_workload:t,room_utilization:n,conflicts:a}=e;return(0,le.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,le.jsx)(De,{faculty_workload:t}),(0,le.jsx)(Ie,{room_utilization:n}),a&&a.length>0&&(0,le.jsx)(Ue,{conflicts:a}),(0,le.jsx)(He,{faculty_workload:t,room_utilization:n})]})},De=e=>{let{faculty_workload:t}=e;const n={overloaded:"bg-red-500",very_high:"bg-orange-500",high:"bg-yellow-500",optimal:"bg-green-500",underutilized:"bg-blue-500"};return(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Faculty Workload Distribution"}),(0,le.jsx)("div",{className:"space-y-3",children:["overloaded","very_high","high","optimal","underutilized"].map(e=>{const a=t.filter(t=>t.load_status===e).length,s=t.length>0?a/t.length*100:0;return(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsx)("div",{className:"w-32 text-sm text-gray-600 capitalize",children:e.replace("_"," ")}),(0,le.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-6",children:(0,le.jsx)("div",{className:"".concat(n[e]," h-6 rounded-full flex items-center justify-end pr-2"),style:{width:"".concat(Math.max(s,5),"%")},children:(0,le.jsx)("span",{className:"text-xs text-white font-medium",children:a})})}),(0,le.jsxs)("div",{className:"w-16 text-sm text-gray-600 text-right",children:[s,"%"]})]},e)})})]})},Ie=e=>{let{room_utilization:t}=e;return(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Type Utilization"}),(0,le.jsx)("div",{className:"space-y-4",children:["Classroom","Lab","Auditorium","Seminar Hall"].map(e=>{const n=t.filter(t=>t.type===e),a=n.length>0?n.reduce((e,t)=>e+parseFloat(t.utilization_percentage||0),0)/n.length:0;return(0,le.jsxs)("div",{className:"space-y-2",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e}),(0,le.jsxs)("span",{className:"text-sm text-gray-600",children:[n.length," rooms"]})]}),(0,le.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,le.jsx)("div",{className:"bg-indigo-600 h-3 rounded-full flex items-center justify-end pr-2",style:{width:"".concat(Math.max(a,3),"%")},children:(0,le.jsxs)("span",{className:"text-xs text-white font-medium",children:[a.t,"%"]})})})]},e)})})]})},Ue=e=>{let{conflicts:t}=e;return(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conflicts Detected"}),(0,le.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>(0,le.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,le.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("high"===e.severity?"bg-red-500":"medium"===e.severity?"bg-yellow-500":"bg-blue-500")}),(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.conflict_type}),(0,le.jsxs)("p",{className:"text-xs text-gray-500",children:["Severity: ",e.severity]})]})]}),(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:e.count})]},t))})]})},He=e=>{let{faculty_workload:t,room_utilization:n}=e;return(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Highly Utilized Resources"}),(0,le.jsxs)("div",{className:"space-y-3",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Faculty"}),t.slice(0,5).map((e,t)=>(0,le.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,le.jsx)("span",{className:"text-sm text-gray-700",children:e.name}),(0,le.jsxs)("span",{className:"text-sm font-medium ".concat("overloaded"===e.load_status?"text-red-600":"very_high"===e.load_status?"text-orange-600":"text-green-600"),children:[e.utilization_percentage,"%"]})]},t))]}),(0,le.jsxs)("div",{className:"mt-4",children:[(0,le.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase mb-2",children:"Rooms"}),n.slice(0,5).map((e,t)=>(0,le.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,le.jsx)("span",{className:"text-sm text-gray-700",children:e.name}),(0,le.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.utilization_percentage,"%"]})]},t))]})]})]})},Be=e=>{let{faculty_workload:t}=e;return(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Faculty Workload Details"}),(0,le.jsx)("div",{className:"overflow-x-auto",children:(0,le.jsxs)("table",{className:"w-full",children:[(0,le.jsx)("thead",{className:"bg-gray-50",children:(0,le.jsxs)("tr",{children:[(0,le.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Faculty"}),(0,le.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),(0,le.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Classes"}),(0,le.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Sections"}),(0,le.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Hours/Week"}),(0,le.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Max Hours"}),(0,le.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Utilization"}),(0,le.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),(0,le.jsx)("tbody",{className:"divide-y divide-gray-200",children:t.map((e,t)=>(0,le.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,le.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.name}),(0,le.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.department}),(0,le.jsx)("td",{className:"px-4 py-3 text-sm text-center",children:e.total_classes}),(0,le.jsx)("td",{className:"px-4 py-3 text-sm text-center",children:e.sections_teaching}),(0,le.jsx)("td",{className:"px-4 py-3 text-sm text-center font-medium",children:e.total_weekly_hours?e.total_weekly_hours:"0"}),(0,le.jsx)("td",{className:"px-4 py-3 text-sm text-center",children:e.max_hours_per_week}),(0,le.jsx)("td",{className:"px-4 py-3 text-sm text-center",children:(0,le.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,le.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,le.jsx)("div",{className:"h-2 rounded-full ".concat("overloaded"===e.load_status?"bg-red-500":"very_high"===e.load_status?"bg-orange-500":"high"===e.load_status?"bg-yellow-500":"optimal"===e.load_status?"bg-green-500":"bg-blue-500"),style:{width:"".concat(Math.min(e.utilization_percentage||0,100),"%")}})}),(0,le.jsxs)("span",{className:"text-xs font-medium",children:[e.utilization_percentage,"%"]})]})}),(0,le.jsx)("td",{className:"px-4 py-3 text-center",children:(0,le.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("overloaded"===e.load_status?"bg-red-100 text-red-800":"very_high"===e.load_status?"bg-orange-100 text-orange-800":"high"===e.load_status?"bg-yellow-100 text-yellow-800":"optimal"===e.load_status?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.load_status.replace("_"," ")})})]},t))})]})})]})},Ve=e=>{let{room_utilization:t}=e;return(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Utilization Details"}),(0,le.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((e,t)=>(0,le.jsxs)("div",{className:"p-4 rounded-lg border-2 ".concat(e.utilization_percentage>80?"border-red-200 bg-red-50":e.utilization_percentage>50?"border-yellow-200 bg-yellow-50":"border-green-200 bg-green-50"),children:[(0,le.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,le.jsxs)("p",{className:"text-xs text-gray-600",children:[e.type," \u2022 ",e.building]})]}),(0,le.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(e.utilization_percentage>80?"bg-red-100":e.utilization_percentage>50?"bg-yellow-100":"bg-green-100"),children:(0,le.jsx)(R,{className:"w-5 h-5 ".concat(e.utilization_percentage>80?"text-red-600":e.utilization_percentage>50?"text-yellow-600":"text-green-600")})})]}),(0,le.jsxs)("div",{className:"space-y-2",children:[(0,le.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,le.jsx)("span",{className:"text-gray-600",children:"Capacity:"}),(0,le.jsxs)("span",{className:"font-medium",children:[e.capacity," students"]})]}),(0,le.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,le.jsx)("span",{className:"text-gray-600",children:"Bookings:"}),(0,le.jsxs)("span",{className:"font-medium",children:[e.total_bookings," / 36"]})]}),(0,le.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,le.jsx)("span",{className:"text-gray-600",children:"Sections:"}),(0,le.jsx)("span",{className:"font-medium",children:e.sections_using})]}),(0,le.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,le.jsx)("span",{className:"text-gray-600",children:"Available:"}),(0,le.jsxs)("span",{className:"font-medium",children:[e.available_slots," slots"]})]})]}),(0,le.jsxs)("div",{className:"mt-3",children:[(0,le.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,le.jsx)("span",{className:"text-xs text-gray-600",children:"Utilization"}),(0,le.jsxs)("span",{className:"text-xs font-medium",children:[e.utilization_percentage,"%"]})]}),(0,le.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,le.jsx)("div",{className:"h-2 rounded-full ".concat(e.utilization_percentage>80?"bg-red-500":e.utilization_percentage>50?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(e.utilization_percentage,100),"%")}})})]})]},t))})]})},We=e=>{let{suggestions:t}=e;return(0,le.jsx)("div",{className:"space-y-4",children:0===t.length?(0,le.jsxs)(de,{className:"p-12 text-center",children:[(0,le.jsx)(N,{className:"w-16 h-16 mx-auto mb-4 text-green-500"}),(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"All Systems Optimal"}),(0,le.jsx)("p",{className:"text-gray-600 mt-2",children:"No optimization suggestions at this time"})]}):t.map((e,t)=>(0,le.jsx)(de,{className:"p-6 border-l-4 ".concat("high"===e.priority?"border-red-500":"medium"===e.priority?"border-yellow-500":"border-blue-500"),children:(0,le.jsx)("div",{className:"flex items-start justify-between",children:(0,le.jsxs)("div",{className:"flex-1",children:[(0,le.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,le.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,le.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:[e.priority," priority"]})]}),(0,le.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),e.details&&e.details.length>0&&(0,le.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:[(0,le.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Details:"}),(0,le.jsxs)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[e.details.slice(0,5).map((e,t)=>(0,le.jsxs)("div",{className:"text-sm text-gray-600",children:["\u2022 ",JSON.stringify(e).substring(0,100)]},t)),e.details.length>5&&(0,le.jsxs)("p",{className:"text-xs text-gray-500",children:["...and ",e.details.length-5," more"]})]})]}),(0,le.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,le.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,le.jsx)("span",{className:"font-medium",children:"Recommendation:"})," ",e.recommendation]})})]})})},t))})},$e=()=>{const{user:e}=ae(),[t,n]=(0,a.useState)({notifications:{email:!0,push:!1,sms:!1},preferences:{theme:"dark",language:"english",timezone:"UTC+05:30"},profile:{name:(null===e||void 0===e?void 0:e.username)||"",email:(null===e||void 0===e?void 0:e.email)||""}}),[s,l]=(0,a.useState)(!1);return(0,le.jsxs)("div",{className:"space-y-6",children:[(0,le.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),(0,le.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Settings"}),(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsx)(ue,{label:"Name",value:t.profile.name,onChange:e=>n(c(c({},t),{},{profile:c(c({},t.profile),{},{name:e.target.value})}))}),(0,le.jsx)(ue,{label:"Email",type:"email",value:t.profile.email,onChange:e=>n(c(c({},t),{},{profile:c(c({},t.profile),{},{email:e.target.value})}))})]})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notifications"}),(0,le.jsx)("div",{className:"space-y-4",children:Object.entries(t.notifications).map(e=>{let[a,s]=e;return(0,le.jsxs)("div",{className:"flex items-center justify-between",children:[(0,le.jsxs)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[a," notifications"]}),(0,le.jsx)("button",{onClick:()=>n(c(c({},t),{},{notifications:c(c({},t.notifications),{},{[a]:!s})})),className:"relative inline-flex h-6 w-11 items-center rounded-full ".concat(s?"bg-indigo-600":"bg-gray-200"),children:(0,le.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition ".concat(s?"translate-x-6":"translate-x-1")})})]},a)})})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Preferences"}),(0,le.jsxs)("div",{className:"space-y-4",children:[(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme"}),(0,le.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:t.preferences.theme,onChange:e=>n(c(c({},t),{},{preferences:c(c({},t.preferences),{},{theme:e.target.value})})),children:[(0,le.jsx)("option",{value:"light",children:"Light"}),(0,le.jsx)("option",{value:"dark",children:"Dark"}),(0,le.jsx)("option",{value:"auto",children:"Auto"})]})]}),(0,le.jsxs)("div",{children:[(0,le.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),(0,le.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",value:t.preferences.language,onChange:e=>n(c(c({},t),{},{preferences:c(c({},t.preferences),{},{language:e.target.value})})),children:[(0,le.jsx)("option",{value:"english",children:"English"}),(0,le.jsx)("option",{value:"hindi",children:"Hindi"})]})]})]})]}),(0,le.jsxs)(de,{className:"p-6",children:[(0,le.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System"}),(0,le.jsxs)("div",{className:"space-y-3",children:[(0,le.jsxs)(oe,{variant:"secondary",className:"w-full justify-start",children:[(0,le.jsx)(I,{className:"w-4 h-4 mr-2"}),"Export Data"]}),(0,le.jsxs)(oe,{variant:"secondary",className:"w-full justify-start",children:[(0,le.jsx)(T,{className:"w-4 h-4 mr-2"}),"Import Data"]}),(0,le.jsxs)(oe,{variant:"danger",className:"w-full justify-start",children:[(0,le.jsx)(v,{className:"w-4 h-4 mr-2"}),"Reset Settings"]})]})]})]}),(0,le.jsx)("div",{className:"flex justify-end",children:(0,le.jsx)(oe,{onClick:async()=>{l(!0);try{await new Promise(e=>setTimeout(e,1e3)),console.log("Settings saved:",t)}catch(e){console.error("Failed to save settings:",e)}finally{l(!1)}},disabled:s,children:s?"Saving...":"Save Changes"})})]})},Qe=()=>{const{user:e,loading:t}=ae(),[n,s]=(0,a.useState)("dashboard");if(t)return(0,le.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,le.jsx)(re,{size:"lg"})});if(!e)return(0,le.jsx)(he,{});return(0,le.jsx)(se.Provider,{value:{user:e},children:(0,le.jsxs)("div",{className:"flex bg-gray-50 min-h-screen",children:[(0,le.jsx)(ge,{activeTab:n,setActiveTab:s}),(0,le.jsx)("main",{className:"flex-1 p-8 overflow-auto",children:(()=>{switch(n){case"dashboard":default:return(0,le.jsx)(ye,{});case"faculty-profile":return(0,le.jsx)(pe,{});case"faculty-management":return(0,le.jsx)(xe,{});case"my-timetable":return(0,le.jsx)(Se,{});case"faculty-subjects":return(0,le.jsx)(Me,{});case"swap-request":return(0,le.jsx)(Ee,{});case"optimization":return(0,le.jsx)(fe,{});case"leave":return(0,le.jsx)(Pe,{});case"timetable":return(0,le.jsx)(we,{});case"multi-section":return(0,le.jsx)(ke,{});case"multi-section-import":return(0,le.jsx)(_e,{});case"faculty":return(0,le.jsx)(be,{});case"students":return(0,le.jsx)(ve,{});case"rooms":return(0,le.jsx)(je,{});case"subjects":return(0,le.jsx)(Ne,{});case"requests":return(0,le.jsx)(Te,{});case"analytics":return(0,le.jsx)(ze,{});case"settings":return(0,le.jsx)($e,{})}})()})]})})},Ge=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:a,getFCP:s,getLCP:l,getTTFB:r}=t;n(e),a(e),s(e),l(e),r(e)})};s.createRoot(document.getElementById("root")).render((0,le.jsx)(a.StrictMode,{children:(0,le.jsx)(Qe,{})})),Ge()})();
//# sourceMappingURL=main.974059d0.js.map